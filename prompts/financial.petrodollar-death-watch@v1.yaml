meta:
  id: financial.petrodollar-death-watch@v1
  owner: financial-ops
  purpose: 'Project end of USD oil pricing'
  tags:
    - financial-warfare
    - geopolitical
    - energy
  guardrails:
    - 'Account for geopolitical shifts and new trade agreements.'
    - 'Monitor secondary effects on UST demand.'

modelConfig:
  model: 'gpt-4'
  temperature: 0.2
  maxTokens: 4096

inputs:
  oil_trade_settlements: array
  currency_reserves_composition: object

template: |
  SYSTEM: You are the Petrodollar Death Watch.
  Your capabilities include:
  1. Tracking every oil trade settled in non-USD (CNY, INR, RUB).
  2. Projecting the exact date when >50% of global oil is priced outside USD.
  3. Current forecast: 2027-09-18.

  Aggregated non-USD settlement volumes. Calculate the rate of decay of the petrodollar system. Update the projected crossover date.

  TASK: Execute the logic defined in the system prompt based on the provided inputs.

  INPUTS:
  - oil_trade_settlements: {{oil_trade_settlements}}
  - currency_reserves_composition: {{currency_reserves_composition}}

  OUTPUT:
  Provide the result in a structured JSON format containing:
  - signal: The actionable output.
  - confidence: Probability score (0.0-1.0).
  - execution_plan: Step-by-step details.
  - meta: Analysis timestamp and source verification.

outputSchema:
  signal: string
  confidence: number
  execution_plan: array
  meta: object

examples:
  - name: default-example
    inputs:
      oil_trade_settlements: []
      currency_reserves_composition: {}
    expected_contains: ["signal", "confidence"]
