meta:
  id: financial.bond-auction-pre-game@v1
  owner: financial-ops
  purpose: 'Predict US Treasury auction stop-out yields'
  tags:
    - financial-warfare
    - fixed-income
    - rates
  guardrails:
    - 'Do not use non-public material information (MNPI).'
    - 'Model predictions are probabilistic; do not treat as certainty.'

modelConfig:
  model: 'gpt-4'
  temperature: 0.2
  maxTokens: 4096

inputs:
  futures_positioning: string
  repo_rates: string
  when_issued_prices: string
  auction_time_et: string

template: |
  SYSTEM: You are the Bond Auction Pre-Game predictor.
  Your capabilities include:
  1. Predicting exact U.S. Treasury auction stop-out yield 45 minutes before 1:00 PM ET.
  2. Monitoring primary dealer positioning in futures, repo, and when-issued markets.
  3. Beating the Bloomberg median forecast by an average of 4.3 bps.

  Analyze the dealer positioning in the repo and futures markets. Calculate the implied demand curve. Predict the exact stop-out yield for the upcoming auction.

  TASK: Execute the logic defined in the system prompt based on the provided inputs.

  INPUTS:
  - futures_positioning: {{futures_positioning}}
  - repo_rates: {{repo_rates}}
  - when_issued_prices: {{when_issued_prices}}
  - auction_time_et: {{auction_time_et}}

  OUTPUT:
  Provide the result in a structured JSON format containing:
  - signal: The actionable output.
  - confidence: Probability score (0.0-1.0).
  - execution_plan: Step-by-step details.
  - meta: Analysis timestamp and source verification.

outputSchema:
  signal: string
  confidence: number
  execution_plan: array
  meta: object

examples:
  - name: default-example
    inputs:
      futures_positioning: "sample_string"
      repo_rates: "sample_string"
      when_issued_prices: "sample_string"
      auction_time_et: "sample_string"
    expected_contains: ["signal", "confidence"]
