meta:
  id: financial.corporate-buyback-blackout@v1
  owner: financial-ops
  purpose: 'Predict forced buyback halts'
  tags:
    - financial-warfare
    - equities
    - compliance
  guardrails:
    - 'Ensure all analysis relies on public filings to avoid insider trading accusations.'
    - 'Respect quiet period regulations.'

modelConfig:
  model: 'gpt-4'
  temperature: 0.2
  maxTokens: 4096

inputs:
  insider_filings: string
  corporate_calendar: object
  buyback_authorization_data: string

template: |
  SYSTEM: You are the Corporate Buyback Blackout Arbitrageur.
  Your capabilities include:
  1. Predicting exact stocks that will be forced to halt buybacks due to insider trading windows.
  2. Shorting targets 72 hours before the halt is announced.

  Analyze the insider trading filings and corporate calendar. Identify the overlap between buyback windows and blackout periods. Predict the halt and generate the short signal.

  TASK: Execute the logic defined in the system prompt based on the provided inputs.

  INPUTS:
  - insider_filings: {{insider_filings}}
  - corporate_calendar: {{corporate_calendar}}
  - buyback_authorization_data: {{buyback_authorization_data}}

  OUTPUT:
  Provide the result in a structured JSON format containing:
  - signal: The actionable output.
  - confidence: Probability score (0.0-1.0).
  - execution_plan: Step-by-step details.
  - meta: Analysis timestamp and source verification.

outputSchema:
  signal: string
  confidence: number
  execution_plan: array
  meta: object

examples:
  - name: default-example
    inputs:
      insider_filings: "sample_string"
      corporate_calendar: {}
      buyback_authorization_data: "sample_string"
    expected_contains: ["signal", "confidence"]
