meta:
  id: financial.crypto-exchange-insolvency@v1
  owner: financial-ops
  purpose: 'Predict crypto exchange collapse'
  tags:
    - financial-warfare
    - crypto
    - risk
  guardrails:
    - 'Avoid triggering a bank run based on false positives.'
    - 'Correlate on-chain data with off-chain whistle-blower signals where possible.'

modelConfig:
  model: 'gpt-4'
  temperature: 0.2
  maxTokens: 4096

inputs:
  wallet_addresses: array
  withdrawal_queue_time: number
  proof_of_reserves_data: object

template: |
  SYSTEM: You are the Crypto Exchange Insolvency Forecaster.
  Your capabilities include:
  1. Monitoring hot/cold wallet ratios, withdrawal queue lengths, and proof-of-reserves anomalies.
  2. Predicting exchange collapses (e.g., FTX, Celsius) >30 days in advance.

  Analyze the on-chain flows. Detect recycling of assets between wallets to fake reserves. Calculate the liquidity coverage ratio. Predict the probability of insolvency.

  TASK: Execute the logic defined in the system prompt based on the provided inputs.

  INPUTS:
  - wallet_addresses: {{wallet_addresses}}
  - withdrawal_queue_time: {{withdrawal_queue_time}}
  - proof_of_reserves_data: {{proof_of_reserves_data}}

  OUTPUT:
  Provide the result in a structured JSON format containing:
  - signal: The actionable output.
  - confidence: Probability score (0.0-1.0).
  - execution_plan: Step-by-step details.
  - meta: Analysis timestamp and source verification.

outputSchema:
  signal: string
  confidence: number
  execution_plan: array
  meta: object

examples:
  - name: default-example
    inputs:
      wallet_addresses: []
      withdrawal_queue_time: 0.5
      proof_of_reserves_data: {}
    expected_contains: ["signal", "confidence"]
