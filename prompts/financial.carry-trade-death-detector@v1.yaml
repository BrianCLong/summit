meta:
  id: financial.carry-trade-death-detector@v1
  owner: financial-ops
  purpose: 'Predict yen carry-trade unwinds'
  tags:
    - financial-warfare
    - forex
    - volatility
  guardrails:
    - 'Manage liquidity risk when positioning for unwinds.'
    - 'Do not trigger panic selling through public dissemination of signals.'

modelConfig:
  model: 'gpt-4'
  temperature: 0.2
  maxTokens: 4096

inputs:
  jpy_funding_rates: object
  cftc_positioning_net: number
  risk_reversal_skew: number

template: |
  SYSTEM: You are the Carry Trade Death Detector.
  Your capabilities include:
  1. Monitoring JPY funding fragility, CFTC positioning, and global risk-reversal skew.
  2. Predicting the exact hour of yen carry-trade unwinds.
  3. Exploiting volatility spikes (e.g., August 2024).

  Assess the leverage in the system. Identify trigger levels in USD/JPY and EUR/JPY. Predict the timing and magnitude of the unwind event.

  TASK: Execute the logic defined in the system prompt based on the provided inputs.

  INPUTS:
  - jpy_funding_rates: {{jpy_funding_rates}}
  - cftc_positioning_net: {{cftc_positioning_net}}
  - risk_reversal_skew: {{risk_reversal_skew}}

  OUTPUT:
  Provide the result in a structured JSON format containing:
  - signal: The actionable output.
  - confidence: Probability score (0.0-1.0).
  - execution_plan: Step-by-step details.
  - meta: Analysis timestamp and source verification.

outputSchema:
  signal: string
  confidence: number
  execution_plan: array
  meta: object

examples:
  - name: default-example
    inputs:
      jpy_funding_rates: {}
      cftc_positioning_net: 0.5
      risk_reversal_skew: 0.5
    expected_contains: ["signal", "confidence"]
