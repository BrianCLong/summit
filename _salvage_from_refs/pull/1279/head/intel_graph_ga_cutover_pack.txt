# IntelGraph GA Cutover Pack — Sprint 26 Completion

**Date:** Sept 17, 2025  
**Release:** v1.0.0 (GA)  
**Owner:** IntelGraph Maestro Conductor (MC)  
**Scope:** GA cutover, scale validation, security & cost guardrails, DR readiness

---

## 1) Conductor Summary
**Goal:** Transition IntelGraph from pre‑GA to General Availability with enterprise‑grade SLOs, security, provenance, and operational readiness validated under production‑representative load.  
**Non‑Goals:** New feature development outside Sprint 26 scope; multi‑region active/active (post‑GA); connector expansion beyond Day‑0 set.  
**Assumptions:** Single primary write region; read replicas for Neo4j; GraphQL Gateway front‑door; tenants tagged by region; OPA policies pre‑seeded; provenance ledger enabled.  
**Constraints:** Prod cost guardrails (≤$18k/mo infra, ≤$5k/mo LLM; alert at 80%); error budgets (API 0.1%, Ingest 0.5%); change‑freeze windows during cutover.  
**Risks:** (R1) Traffic spike beyond modeled P95; (R2) policy misconfiguration blocking critical flows; (R3) replica lag causing stale reads; (R4) provenance verification false negatives; (R5) budget overrun due to burst sampling.  
**Definition of Done:** All P0–P6 priorities shipped with evidence; SLOs met in load tests; security controls enforceable/observable; provenance verification gating CD; DR drills executed; runbooks current; go/no‑go sign‑offs captured.

---

## 2) Sprint 26 Outcomes → Evidence Map
| Priority | Outcome | Evidence / Artefacts |
|---|---|---|
| **P0 SLO Alignment & Perf** | Persisted queries + LRU/Redis; response cache per tenant; Neo4j query tuning + read‑replica routing; k6 with 5 scenarios & live SLO gates | k6 scripts + reports; Apollo persisted‑query hashes; Redis keys namespace `ig:{tenant}:pq:*`; Neo4j plan profiles; SLO gate logs |
| **P1 ER Adjudication v1** | Backpressure + circuit breaker; adaptive rate limit; DLQ categorization & reprocessing; Bulk actions UI + hook | Kafka topics & DLQ policy; reprocess CLI; React bulk ops hook tests; UI keyboard map |
| **P2 Policy Reasoner Ph1** | OPA integration; privacy reasoner (classification, retention, PII); licensing enforcement; GraphQL subscriptions + policy UI | OPA bundles + decision logs; classifier rules; retention tags; licensing counters; subscription resolvers |
| **P3 Security Step‑Up** | WebAuthn enforcer; gateway middleware; routes for registration/auth/step‑up; risk factors (device, geo, behavior, op) | WebAuthn attestation policy; risk engine config; API tests; audit events |
| **P4 Provenance Everywhere** | `verify-bundle` CLI; CD gate; SLSA levels & builder trust; vuln scanning & block | CLI help & sample logs; pipeline stage YAML; SLSA policy doc; scan reports |
| **P5 Cost Guardrails & Obs** | Cost tracking engine; optimization hints; adaptive sampling; real‑time budgets with anomalies | Budget rules; sampling controller; dashboards; alerts mapping |
| **P6 DR/Freeze & Runbooks** | DR drill orchestrator; CLI for drills/freeze/runbook gen; weekly workflows; rollback & incident response | Orchestrator configs; CLI usage; sample drill report; IR playbooks |

> **Provenance Note:** All artefacts carry provenance IDs in the ledger; export manifests include source→transform chain and SHA‑256 hashes.

---

## 3) Go/No‑Go Checklist (Final)
**Status Legend:** ✅ Pass · ⚠️ Risk Accepted · ❌ Blocker

- **SLOs**: API read p95 ≤ 350 ms; write p95 ≤ 700 ms; subs p95 ≤ 250 ms — **Status:** ✅  
- **Graph Ops**: 1‑hop p95 ≤ 300 ms; 2–3 hop p95 ≤ 1,200 ms — **Status:** ✅  
- **Error Budgets**: API ≤ 0.1%, Ingest ≤ 0.5% — **Status:** ✅  
- **Security**: WebAuthn step‑up enforced on risk≥medium; OPA policy allowlist default‑deny — **Status:** ✅  
- **Privacy**: PII→`short-30d` retention default; purpose tags attached — **Status:** ✅  
- **Licensing**: Usage counters on restricted resources; violation alerts — **Status:** ✅  
- **Provenance**: SLSA3 gate mandatory; emergency bypass with 2‑person rule; audit captured — **Status:** ✅  
- **Cost**: Budget alerts @ 80%; sampling tuned; current burn ≤ targets — **Status:** ✅  
- **DR/Change**: Orchestrated drill pass; change‑freeze window defined — **Status:** ✅  
- **Runbooks**: Deploy/Upgrade, On‑Call, DB care, Provenance, IR — **Status:** ✅

**Decision:** **GO** for GA cutover.

---

## 4) Cutover Plan (T‑14 → T+7)
**T‑14 to T‑7 (Prep):**
- Lock versions: gateway, services, schema; freeze non‑GA features behind flags.
- Pre‑warm Redis namespaces for persisted queries & response cache per tenant.
- Dry‑run `verify-bundle` on release artifacts; record attestation IDs.
- Rehearse DR drill on release candidate; validate RPO/RTO.

**T‑3 (Staging Cert):**
- Run k6 suite against staging with prod scale factor (x1.0); confirm SLO gates.
- Policy simulation with OPA decision logs; diff vs prod policy baseline.

**T‑1 (Change Freeze):**
- Enter change freeze; enable emergency bypass only with two‑person approval.
- Snapshot dashboards + baselines; export cost & latency baselines to evidence.

**T‑0 (Cutover):**
- Deploy v1.0.0 via canary (10%→50%→100%) with auto‑rollback on SLO breach.
- Enable WebAuthn step‑up enforcement policy; monitor 30 min.
- Flip response cache + persisted query allowlist to **enforce**.

**T+1 to T+7 (Stabilize):**
- Tighten adaptive sampling to target error bars; review anomaly flags.
- Execute smoke DR drill (read replica failover); verify alerting & on‑call.
- Post‑deploy validation report + sign‑offs (SRE, Security, Data, Product).

---

## 5) Rollback / Backout
- **Triggers:** SLO burn rate > 2× target; auth friction spike (>0.5% WebAuthn failures); policy deny spikes; cost burn > 90%.  
- **Action:** Auto‑rollback to v1.0.0‑rcN; disable enforce→monitor on OPA/WebAuthn; thaw caches; preserve provenance.  
- **Data Safety:** No destructive migrations; schema changes backward compatible; feature flags default‑off.

---

## 6) Security, Privacy, & Policy
- **AuthN:** OIDC + WebAuthn; step‑up on risk≥medium or sensitive operations.  
- **AuthZ:** ABAC via OPA; default‑deny with tenant and purpose tags.  
- **Privacy:** Minimization; PII tagged → `short-30d`; purpose limitation enforced; RTBF supported.  
- **Licensing:** License classes enforced (MIT‑OK, Open‑Data‑OK, Restricted‑TOS, Proprietary‑Client, Embargoed); usage counters + violations.

**Threat Model (STRIDE) Highlights:**
- **Spoofing:** WebAuthn origin binding; mTLS internal.  
- **Tampering:** Provenance verifications; signed bundles; immutability of ledger.  
- **Repudiation:** Audit trails for policy/risk decisions; non‑repudiation via signatures.  
- **Info Disclosure:** Field‑level encryption; OPA denylists; k‑anonymity/redaction surfaces.  
- **DoS:** Circuit breakers; rate limits; cache pre‑warm; backpressure on ingest.  
- **Elevation:** Principle of least privilege; SCIM‑based role provisioning; admin operations gated.

---

## 7) Observability & Cost Guardrails
- **Service SLOs:**
  - GraphQL API: reads p95 ≤ 350 ms / p99 ≤ 900 ms; writes p95 ≤ 700 ms / p99 ≤ 1.5 s.  
  - Subscriptions: server→client p95 ≤ 250 ms.  
  - Neo4j: 1‑hop p95 ≤ 300 ms; 2–3 hop p95 ≤ 1,200 ms.
- **Dashboards:** API latency & error budget; Ingest throughput/backlog; Cost burn w/ forecast; Policy decisions; WebAuthn outcomes; Neo4j ops; Cache hit ratios.
- **Alerts:** 80% budget consumption; SLO burn >1.5×; DLQ rate >0.1%; auth step‑up fail >0.5%; cache hit <70%; cost forecast > guardrail.
- **Adaptive Sampling:** Target 60–80% cost reduction while retaining p95 confidence bounds.

---

## 8) DR & Change‑Freeze
- **DR Orchestrator:** Scenarios (replica failover, region read‑only, ingest backlog, provenance outage). Automated reports with pass/fail and remediation.  
- **Change‑Freeze:** Windows enforced via CLI; emergency bypass requires two approvers; all events logged to provenance.

---

## 9) RACI & Contacts
| Area | R | A | C | I |
|---|---|---|---|---|
| Cutover Execution | SRE Lead | MC | Security, Product | All Tenants |
| Security & Policy | Security Lead | CISO | SRE, MC | Eng |
| Data/Neo4j | Data Eng Lead | MC | SRE | Eng |
| Provenance/CD | DevEx Lead | MC | Security | Eng |
| Cost & Obs | FinOps Lead | MC | SRE | Eng |
| DR/Change‑Freeze | SRE Lead | MC | Security | Eng |

---

## 10) Acceptance Criteria & Verification
- Persisted queries enforced; only allowlisted hashes accepted.  
- Cache isolation per tenant verified with synthetic cross‑tenant probes (must fail).  
- Neo4j profiles show bounded dbHits & page cache utilization ≥ 90% on hot paths.  
- k6 scenarios pass with live SLO gating; artifacts archived.  
- DLQ < 0.1% with reprocess success ≥ 99%.  
- OPA decision logs show policy hits; privacy tags present; licensing counters increment.  
- WebAuthn step‑up success ≥ 99.5% within 2 tries; risk scoring logged.  
- Provenance gate blocks unsigned/low‑trust builds; emergency bypass logged.  
- Cost sampling shows 60–80% reduction; dashboards intact; alerts tested.  
- DR drills pass against target RPO/RTO; change‑freeze observed.

---

## 11) Known Issues & Waivers
- None blocking GA. Minor: policy UI lag on very large rule diffs; workaround documented; tracked for S27.

---

## 12) Post‑GA (30/60/90) Plan
- **30‑day:** Multi‑region DR drill; cost model recalibration; UI perf for policy diffs; connector hardening.  
- **60‑day:** Region sharding overlays; JDBC/GCS connectors (Phase‑Next); ER adjudication heuristics v2.  
- **90‑day:** Residency migrations tooling; privacy/RTBF at scale; advanced policy analytics.

---

## 13) Release Notes — v1.0.0 (GA)
**Highlights:** P0–P6 priorities delivered; enterprise SLOs; WebAuthn step‑up; OPA policy reasoner; SLSA3 provenance; cost guardrails; DR automation.  
**Breaking Changes:** Persisted query enforcement (clients must send hash); policy enforcement default‑deny.  
**Deprecations:** Legacy unauthenticated routes removed; old bulk UI replaced.  
**Migrations:** Backwards compatible; no destructive changes.  
**Ops:** New dashboards & alerts; verify‑bundle required in CD.

---

## 14) Appendices
- **Runbooks:** Deploy/Upgrade; On‑Call Triage; Neo4j Care; Postgres VACUUM & replica lag; Provenance integrity; IR procedures.  
- **CLI Quick Reference:**  
  ```bash
  # Provenance
  verify-bundle verify --bundle dist/release.bundle --policy slsa3.yaml --require-roundtrip

  # Change‑freeze
  igctl freeze start --reason "GA Cutover" --approvers alice,bob
  igctl freeze bypass request --ticket SEC-123 --reason "Hotfix"

  # DR orchestrator
  igdrill run failover --target neo4j-replica-1 --assert rpo<=5m rto<=10m

  # DLQ reprocess
  igdlq ls --since 24h && igdlq reprocess --category policy-mismatch --batch 500

  # Policy simulation
  igopa simulate --bundle opa/bundle.tar.gz --input samples/requests.json --diff prod-baseline.json

  # k6
  k6 run k6/scenario-smoke.js && k6 run k6/scenario-peak.js
  ```

- **Provenance & Export:** Evidence bundles include hash manifests and decision logs; all exports signed; ledger IDs recorded in the release tag.

---

**Final Sign‑offs:**  
- **MC:** ✅  
- **SRE Lead:** ✅  
- **Security Lead:** ✅  
- **Product:** ✅
