name: Optimize Doc Images
on: [workflow_dispatch]
jobs:
  optimize:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: npm i imagemin imagemin-mozjpeg imagemin-pngquant
      - run: node scripts/docs/optimize-images.js
      - run: git config user.name 'docs-bot'; git config user.email 'docs-bot@users.noreply.github.com'; git add -A; git commit -m 'chore(docs): optimize images' || echo 'no changes'; git push