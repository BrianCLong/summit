# Conftest Configuration for Infrastructure Policy Validation
# Validates Docker Compose, Kubernetes manifests, and CI/CD configurations

policy: policy/conftest
data: policy/data
output: table
combine: false
trace: false
strict: false

# Namespaces to enable for policy evaluation
namespace:
  - conductor.security
  - kubernetes.admission
  - docker.security
  - ci.pipeline

# Input types to validate
input:
  - compose: "**/*compose*.yml"
  - compose: "**/*compose*.yaml" 
  - kubernetes: "**/*.yaml"
  - kubernetes: "**/*.yml"
  - dockerfile: "**/Dockerfile*"
  - ci: "**/.github/workflows/*.yml"
  - ci: "**/.github/workflows/*.yaml"