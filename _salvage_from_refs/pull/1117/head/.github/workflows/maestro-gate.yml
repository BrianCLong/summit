name: Maestro Gate
on:
  workflow_dispatch:
  push:
    branches: [main]
jobs:
  gate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Maestro Gate Check
        uses: ./.github/actions/maestro-gate-check
        with:
          gateway-base: ${{ vars.MAESTRO_GATEWAY_BASE || 'http://localhost:3001/api/maestro/v1' }}
          pipeline: intelgraph_pr_build
          run-id: ${{ github.run_id }}
          token: ${{ secrets.MAESTRO_TOKEN }}
