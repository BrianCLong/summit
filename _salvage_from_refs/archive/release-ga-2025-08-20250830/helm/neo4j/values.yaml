image:
  repository: neo4j
  tag: 5-community
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  ports:
    bolt: 7687
    http: 7474

resources:
  requests:
    cpu: 250m
    memory: 512Mi
  limits:
    cpu: 2000m
    memory: 4Gi

persistence:
  enabled: true
  size: 50Gi
  storageClass: ''

env:
  - name: NEO4J_AUTH
    valueFrom:
      secretKeyRef:
        name: neo4j-secret
        key: auth
  - name: NEO4J_PLUGINS
    value: '["apoc", "graph-data-science"]'
  - name: NEO4J_apoc_export_file_enabled
    value: 'true'
  - name: NEO4J_apoc_import_file_enabled
    value: 'true'
  - name: NEO4J_apoc_import_file_use__neo4j__config
    value: 'true'

# Health checks
livenessProbe:
  enabled: true
  command: ['cypher-shell', '-u', 'neo4j', '-p', '$(NEO4J_PASSWORD)', 'RETURN 1']
  initialDelaySeconds: 30
  timeoutSeconds: 10
  periodSeconds: 30

readinessProbe:
  enabled: true
  command: ['cypher-shell', '-u', 'neo4j', '-p', '$(NEO4J_PASSWORD)', 'RETURN 1']
  initialDelaySeconds: 30
  timeoutSeconds: 10
  periodSeconds: 10

serviceMonitor:
  enabled: false
