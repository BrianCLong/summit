# Additional staging overrides
global:
  environment: staging
  ingress:
    host: staging.intelgraph.mycorp.com
    annotations:
      nginx.ingress.kubernetes.io/auth-url: "https://oauth2-proxy.auth.svc.cluster.local/oauth2/auth"
      nginx.ingress.kubernetes.io/auth-signin: "https://oauth2-proxy.auth.svc.cluster.local/oauth2/start?rd=https://$host$request_uri"
  podSecurityStandards: restricted

services:
  apiGateway:
    replicaCount: 2
  analytics:
    replicaCount: 2
  mlEngine:
    replicaCount: 2
  graphAnalytics:
    replicaCount: 2
  feedProcessor:
    replicaCount: 1
  searchEngine:
    replicaCount: 1
  workflowEngine:
    replicaCount: 1
  mobile:
    replicaCount: 1

autoscaling:
  server:
    enabled: true
    minReplicas: 1
    maxReplicas: 5
  client:
    enabled: true
    minReplicas: 1
    maxReplicas: 5

testData:
  enabled: true
  job:
    image: seed-data
    restartPolicy: OnFailure

common:
  env:
    - name: LOG_LEVEL
      value: debug
    - name: NODE_ENV
      value: staging
