# GraphRAG Operations

query GraphRagAnswer($input: GraphRAGQueryInput!) {
  graphRagAnswer(input: $input) {
    answer
    confidence
    citations {
      entityIds
    }
    why_paths {
      from
      to
      relId
      type
      supportScore
      score_breakdown {
        length
        edgeType
        centrality
      }
    }
  }
}

query SimilarEntities(
  $entityId: ID
  $text: String
  $topK: Int
  $investigationId: ID!
) {
  similarEntities(
    entityId: $entityId
    text: $text
    topK: $topK
    investigationId: $investigationId
  ) {
    entity {
      id
      type
      label
      description
      properties
      confidence
    }
    similarity
  }
}

mutation ClearGraphRAGCache($investigationId: ID!) {
  clearGraphRAGCache(investigationId: $investigationId) {
    success
    message
  }
}
