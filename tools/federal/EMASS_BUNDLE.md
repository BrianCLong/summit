# eMASS Evidence Bundle Generator

The `emass-bundle.ts` utility automates creation of a NIST SP 800-53 evidence bundle suitable for eMASS and RMF package submissions.

## What it does
- Copies authoritative evidence artifacts for SC-7, SC-13, AU-11, and AC-6 controls.
- Runs lightweight automated evidence checks (file hashing, manifest previews) to prove reproducibility.
- Produces a bundle manifest plus a compressed `rmf-package.tgz` that can be handed to an RMF control assessor.

## Usage
```bash
npx ts-node tools/federal/emass-bundle.ts \
  --classification IL5 \
  --output /tmp/intelgraph-emass-bundle \
  --controls SC-7,SC-13,AU-11,AC-6
```

### Arguments
- `--classification` (optional): classification label stored in the manifest (default: `UNCLASSIFIED`).
- `--output` (optional): target output directory. Defaults to `/tmp/emass-bundle-<timestamp>`.
- `--controls` (optional): comma-delimited control IDs to include. Defaults to all supported controls.
- `--no-tar` (optional): skip generation of `rmf-package.tgz` (e.g., when `tar` is unavailable).
- `-h, --help` (optional): display usage information and exit.

## Output structure
- `manifest.json` – High-level bundle metadata, git commit, and control coverage.
- `controls/<CONTROL>/` – Evidence files and per-control report (`control.json`).
- `reports/` – Hash digests and preview reports generated by automated checks.
- `rmf-package.json` – RMF submission summary with evidence references.
- `rmf-package.tgz` – Tarball containing the manifest, controls, and reports for upload/import.

If the local environment lacks `tar`, the RMF archive is skipped and the reason is logged in `rmf-export.log`.
