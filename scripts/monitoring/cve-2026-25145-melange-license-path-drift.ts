import * as fs from 'node:fs';

function main() {
    const requiredFiles = [
        '.github/scripts/sbom/melange-version-gate.ts',
        '.github/scripts/sbom/melange-config-lint.ts',
        '.github/scripts/sbom/trust-context.ts',
        'docs/standards/cve-2026-25145-melange-license-path.md'
    ];

    let errors = 0;
    requiredFiles.forEach(f => {
        if (!fs.existsSync(f)) {
            console.error(`Missing required file: ${f}`);
            errors++;
        }
    });

    if (errors > 0) {
        process.exitCode = 1;
    } else {
        console.log("Drift check passed.");
    }
}

main();
