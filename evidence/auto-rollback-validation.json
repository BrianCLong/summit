{
  "timestamp": "2025-09-22T21:15:12.454Z",
  "tests": [
    {
      "name": "Auto-Rollback Script Configuration",
      "status": "failed",
      "error": "Required function missing: check_slo_metrics"
    },
    {
      "name": "Canary Configuration",
      "status": "failed",
      "error": "No canary configuration found"
    },
    {
      "name": "Canary Failure Simulation",
      "status": "passed",
      "details": "Simulated 3 consecutive failures triggering rollback in 90s",
      "simulation": {
        "deployment_id": "canary-1758575712457",
        "start_time": "2025-09-22T21:15:12.457Z",
        "metrics": [
          {
            "timestamp": "2025-09-22T21:12:12.457Z",
            "availability": 0.985,
            "p95_latency": 450,
            "error_rate": 0.025,
            "result": "failed"
          },
          {
            "timestamp": "2025-09-22T21:13:12.457Z",
            "availability": 0.982,
            "p95_latency": 480,
            "error_rate": 0.028,
            "result": "failed"
          },
          {
            "timestamp": "2025-09-22T21:14:12.457Z",
            "availability": 0.979,
            "p95_latency": 520,
            "error_rate": 0.032,
            "result": "failed"
          }
        ],
        "rollback": {
          "triggered_at": "2025-09-22T21:15:12.457Z",
          "rollback_duration": "90s",
          "traffic_shift": "immediate",
          "recovery_status": "successful"
        }
      }
    },
    {
      "name": "Rollback Timeline Validation",
      "status": "passed",
      "details": "Timeline validated: detection(30s) + decision(15s) + execution(75s) = 120s â‰¤ 120s",
      "timeline": {
        "detection_time": 30,
        "decision_time": 15,
        "execution_time": 75
      }
    },
    {
      "name": "Audit Logging Validation",
      "status": "passed",
      "details": "Audit logging validated with 5 features",
      "sample_log": {
        "timestamp": "2025-09-22T21:15:12.457Z",
        "event_type": "canary_rollback",
        "deployment_id": "canary-test-123",
        "trigger_reason": "consecutive_slo_failures",
        "metrics": {
          "availability": 0.979,
          "p95_latency": 520,
          "error_rate": 0.032
        },
        "rollback_duration": "90s",
        "operator": "auto-rollback-controller"
      }
    }
  ],
  "passed": 3,
  "failed": 2,
  "evidence": [
    {
      "type": "canary_failure_simulation",
      "deployment_id": "canary-1758575712457",
      "consecutive_failures": 3,
      "rollback_duration": "90s",
      "success": true
    },
    {
      "type": "audit_logging",
      "features_found": 5,
      "sample_log": {
        "timestamp": "2025-09-22T21:15:12.457Z",
        "event_type": "canary_rollback",
        "deployment_id": "canary-test-123",
        "trigger_reason": "consecutive_slo_failures",
        "metrics": {
          "availability": 0.979,
          "p95_latency": 520,
          "error_rate": 0.032
        },
        "rollback_duration": "90s",
        "operator": "auto-rollback-controller"
      }
    }
  ]
}
