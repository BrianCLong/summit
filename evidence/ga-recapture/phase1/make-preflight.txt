ðŸš€ Starting Preflight Check...

Linting...

> intelgraph-platform@5.2.77 lint /workspace/summit
> eslint . && (ruff check . || true)


/workspace/summit/contracts/integration/src/v1/edges.ts
   23:13  warning  'RelationshipTypeV1' is already defined    no-redeclare
   49:13  warning  'AssociatedWithEdgeV1' is already defined  no-redeclare
   70:13  warning  'WorksForEdgeV1' is already defined        no-redeclare
   89:13  warning  'OwnsEdgeV1' is already defined            no-redeclare
  100:13  warning  'EdgeV1' is already defined                no-redeclare

/workspace/summit/contracts/integration/src/v1/entities.ts
  28:13  warning  'PersonEntityV1' is already defined        no-redeclare
  50:13  warning  'OrganizationEntityV1' is already defined  no-redeclare
  60:13  warning  'EntityV1' is already defined              no-redeclare

/workspace/summit/contracts/integration/src/v1/ingestion.ts
   25:13  warning  'IngestRequestV1' is already defined                 no-redeclare
   42:13  warning  'IngestPersonRequestV1' is already defined           no-redeclare
   58:13  warning  'IngestOrganizationRequestV1' is already defined     no-redeclare
   78:13  warning  'IngestErrorV1' is already defined                   no-redeclare
  103:13  warning  'IngestResponseV1' is already defined                no-redeclare
  127:13  warning  'IngestPersonResponseV1' is already defined          no-redeclare
  137:13  warning  'BatchIngestionStatusRequestV1' is already defined   no-redeclare
  158:13  warning  'BatchIngestionStatusResponseV1' is already defined  no-redeclare

/workspace/summit/contracts/integration/src/v1/insights.ts
   21:13  warning  'InsightTypeV1' is already defined                         no-redeclare
   28:13  warning  'InsightStatusV1' is already defined                       no-redeclare
   55:13  warning  'CreatePersonNetworkInsightRequestV1' is already defined   no-redeclare
   96:13  warning  'PersonNetworkInsightDataV1' is already defined            no-redeclare
  116:13  warning  'CreatePersonNetworkInsightResponseV1' is already defined  no-redeclare
  126:13  warning  'GetInsightRequestV1' is already defined                   no-redeclare
  146:13  warning  'GetInsightResponseV1' is already defined                  no-redeclare
  167:13  warning  'GetPersonNetworkInsightResponseV1' is already defined     no-redeclare
  191:13  warning  'ListInsightsRequestV1' is already defined                 no-redeclare
  204:13  warning  'InsightSummaryV1' is already defined                      no-redeclare
  220:13  warning  'ListInsightsResponseV1' is already defined                no-redeclare
  230:13  warning  'DeleteInsightRequestV1' is already defined                no-redeclare
  242:13  warning  'DeleteInsightResponseV1' is already defined               no-redeclare

/workspace/summit/contracts/integration/src/v1/provenance.ts
  25:13  warning  'SourceTypeV1' is already defined      no-redeclare
  38:13  warning  'SourceMetadataV1' is already defined  no-redeclare
  55:13  warning  'ProvenanceV1' is already defined      no-redeclare
  73:13  warning  'EntityMetadataV1' is already defined  no-redeclare
  89:13  warning  'EdgeMetadataV1' is already defined    no-redeclare

/workspace/summit/contracts/integration/src/v1/queries.ts
   19:13  warning  'GetPersonRequestV1' is already defined          no-redeclare
   30:13  warning  'GetPersonResponseV1' is already defined         no-redeclare
   40:13  warning  'PersonAssociationV1' is already defined         no-redeclare
   63:13  warning  'GetPersonNetworkRequestV1' is already defined   no-redeclare
   80:13  warning  'GetPersonNetworkResponseV1' is already defined  no-redeclare
   92:13  warning  'GetEntityRequestV1' is already defined          no-redeclare
  103:13  warning  'GetEntityResponseV1' is already defined         no-redeclare
  123:13  warning  'SearchEntitiesRequestV1' is already defined     no-redeclare
  139:13  warning  'SearchEntitiesResponseV1' is already defined    no-redeclare
  152:13  warning  'GetEntityContextRequestV1' is already defined   no-redeclare
  169:13  warning  'GetEntityContextResponseV1' is already defined  no-redeclare

/workspace/summit/contracts/integration/src/v1/workflows.ts
   15:13  warning  'WorkflowStatusV1' is already defined                          no-redeclare
   42:13  warning  'PersonNetworkWorkflowInputV1' is already defined              no-redeclare
   67:13  warning  'PersonNetworkWorkflowOutputV1' is already defined             no-redeclare
   86:13  warning  'StartWorkflowRequestV1' is already defined                    no-redeclare
  105:13  warning  'StartPersonNetworkWorkflowRequestV1' is already defined       no-redeclare
  117:13  warning  'StartWorkflowResponseV1' is already defined                   no-redeclare
  127:13  warning  'GetWorkflowStatusRequestV1' is already defined                no-redeclare
  141:13  warning  'WorkflowStepV1' is already defined                            no-redeclare
  166:13  warning  'GetWorkflowStatusResponseV1' is already defined               no-redeclare
  184:13  warning  'GetPersonNetworkWorkflowStatusResponseV1' is already defined  no-redeclare
  195:13  warning  'CancelWorkflowRequestV1' is already defined                   no-redeclare
  207:13  warning  'CancelWorkflowResponseV1' is already defined                  no-redeclare

/workspace/summit/evals/runner/filesystem.ts
  31:31  warning  Async arrow function has no 'await' expression  require-await

/workspace/summit/evals/runner/run_skill_eval.ts
   81:50  warning  Async arrow function has no 'await' expression                                        require-await
  155:9   warning  'caseStart' is assigned a value but never used. Allowed unused vars must match /^_/u  @typescript-eslint/no-unused-vars
  236:62  warning  Async arrow function has no 'await' expression                                        require-await
  254:6   warning  'gradeDeterministic' is defined but never used. Allowed unused vars must match /^_/u  @typescript-eslint/no-unused-vars
  273:6   warning  'gradeRubric' is defined but never used. Allowed unused vars must match /^_/u         @typescript-eslint/no-unused-vars
  358:3   warning  Unexpected console statement                                                          no-console
  362:3   warning  Unexpected console statement                                                          no-console

/workspace/summit/evals/runner/run_skill_suite.ts
  20:55  warning  Async arrow function has no 'await' expression  require-await
  35:72  warning  Async arrow function has no 'await' expression  require-await
  57:3   warning  Unexpected console statement                    no-console

/workspace/summit/evals/runner/run_skills_changed.ts
  11:56  warning  Async arrow function has no 'await' expression  require-await
  67:72  warning  Async arrow function has no 'await' expression  require-await
  75:5   warning  Unexpected console statement                    no-console
  93:3   warning  Unexpected console statement                    no-console

âœ– 72 problems (0 errors, 72 warnings)

I001 [*] Import block is un-sorted or un-formatted
 --> ai-ml-suite/emu3/bench/run_bench.py:1:1
  |
1 | / import time
2 | | import json
3 | | import os
4 | | from summit_emu3.backends.dummy import DummyBackend
  | |___________________________________________________^
5 |
6 |   def benchmark_dummy():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> ai-ml-suite/emu3/scripts/ingest_hook.py:2:1
  |
1 |   #!/usr/bin/env python3
2 | / import argparse
3 | | import subprocess
4 | | import sys
5 | | import json
6 | | import os
7 | | from pathlib import Path
  | |________________________^
8 |
9 |   def enrich_media(input_path: str, backend: str = "dummy", output_dir: str = "."):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> ai-ml-suite/emu3/summit_emu3/adapter.py:1:1
  |
1 | / from abc import ABC, abstractmethod
2 | | from typing import Optional, List, Dict
3 | | from .schema import MediaEvidenceV1
  | |___________________________________^
4 |
5 |   class Emu3BackendAdapter(ABC):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> ai-ml-suite/emu3/summit_emu3/backends/dummy.py:1:1
  |
1 | / import hashlib
2 | | from datetime import datetime
3 | | from typing import Optional
4 | |
5 | | from ..adapter import Emu3BackendAdapter
6 | | from ..schema import MediaEvidenceV1, ProvenanceV1
  | |__________________________________________________^
7 |
8 |   class DummyBackend(Emu3BackendAdapter):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> ai-ml-suite/emu3/summit_emu3/backends/hf_emu3.py:1:1
  |
1 | / import os
2 | | import hashlib
3 | | from datetime import datetime
4 | | from typing import Optional
  | |___________________________^
5 |
6 |   # Conditional import to allow loading the module even if torch/transformers are missing
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> ai-ml-suite/emu3/summit_emu3/backends/hf_emu3.py:8:5
   |
 6 |   # Conditional import to allow loading the module even if torch/transformers are missing
 7 |   try:
 8 | /     import torch
 9 | |     from transformers import AutoModel, AutoTokenizer, AutoImageProcessor
   | |_________________________________________________________________________^
10 |       TRANSFORMERS_AVAILABLE = True
11 |   except ImportError:
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> ai-ml-suite/emu3/summit_emu3/backends/hf_emu3.py:14:1
   |
12 |       TRANSFORMERS_AVAILABLE = False
13 |
14 | / from ..adapter import Emu3BackendAdapter
15 | | from ..schema import MediaEvidenceV1, ProvenanceV1
   | |__________________________________________________^
16 |
17 |   def hf_enabled() -> bool:
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> ai-ml-suite/emu3/summit_emu3/cli.py:1:1
   |
 1 | / import argparse
 2 | | import json
 3 | | import sys
 4 | | import os
 5 | | from typing import Optional
 6 | |
 7 | | from .backends.dummy import DummyBackend
 8 | | from .adapter import Emu3BackendAdapter
   | |_______________________________________^
 9 |
10 |   def get_backend(backend_name: str) -> Emu3BackendAdapter:
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> ai-ml-suite/emu3/summit_emu3/schema.py:1:1
  |
1 | / from typing import Literal, List, Dict, Any, Optional
2 | | from pydantic import BaseModel, Field
  | |_____________________________________^
3 |
4 |   Mode = Literal["caption", "vqa", "video-consistency"]
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
  --> ai-ml-suite/emu3/summit_emu3/schema.py:17:11
   |
15 |     mode: Mode
16 |     caption: Optional[str] = None
17 |     tags: List[str] = Field(default_factory=list)
   |           ^^^^
18 |     qa: List[Dict[str, str]] = Field(default_factory=list)
19 |     consistency_score: Optional[float] = None
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> ai-ml-suite/emu3/summit_emu3/schema.py:18:9
   |
16 |     caption: Optional[str] = None
17 |     tags: List[str] = Field(default_factory=list)
18 |     qa: List[Dict[str, str]] = Field(default_factory=list)
   |         ^^^^
19 |     consistency_score: Optional[float] = None
20 |     provenance: ProvenanceV1
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> ai-ml-suite/emu3/summit_emu3/schema.py:18:14
   |
16 |     caption: Optional[str] = None
17 |     tags: List[str] = Field(default_factory=list)
18 |     qa: List[Dict[str, str]] = Field(default_factory=list)
   |              ^^^^
19 |     consistency_score: Optional[float] = None
20 |     provenance: ProvenanceV1
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> ai-ml-suite/emu3/tests/test_cli.py:1:1
  |
1 | / import json
2 | | import os
3 | | import pytest
4 | | import subprocess
5 | | import sys
  | |__________^
6 |
7 |   def test_cli_help():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> ai-ml-suite/emu3/tests/test_schema_and_dummy.py:1:1
  |
1 | / import pytest
2 | | from summit_emu3.schema import MediaEvidenceV1, ProvenanceV1
3 | | from summit_emu3.backends.dummy import DummyBackend
  | |___________________________________________________^
4 |
5 |   def test_media_evidence_validation():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> airflow/dags/summit_lineage_pipeline.py:1:1
  |
1 | / from datetime import datetime, timedelta, timezone
2 | | import os
3 | | from airflow import DAG
4 | | from airflow.operators.bash import BashOperator
  | |_______________________________________________^
5 |
6 |   # Summit End-to-End Lineage Pipeline
  |
help: Organize imports

UP017 [*] Use `datetime.UTC` alias
  --> airflow/dags/summit_lineage_pipeline.py:12:47
   |
10 |     "owner": "summit",
11 |     "depends_on_past": False,
12 |     "start_date": datetime(2024, 1, 1, tzinfo=timezone.utc),
   |                                               ^^^^^^^^^^^^
13 |     "email_on_failure": False,
14 |     "email_on_retry": False,
   |
help: Convert to `datetime.UTC` alias

I001 [*] Import block is un-sorted or un-formatted
 --> airflow/tests/test_lineage.py:1:1
  |
1 | / import unittest
2 | | from airflow.models import DagBag
3 | | import os
4 | | import sys
  | |__________^
5 |
6 |   # Ensure the airflow directory is in the path for imports
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> analyze_prs.py:1:1
  |
1 | / import json
2 | | import re
  | |_________^
3 |
4 |   def main():
  |
help: Organize imports

UP015 [*] Unnecessary mode argument
 --> analyze_prs.py:6:35
  |
4 | def main():
5 |     try:
6 |         with open('pr-open.json', 'r') as f:
  |                                   ^^^
7 |             prs = json.load(f)
8 |     except Exception as e:
  |
help: Remove mode argument

I001 [*] Import block is un-sorted or un-formatted
  --> api/maestro.py:3:1
   |
 1 |   """Maestro API router for runs, artifacts, and disclosure packs."""
 2 |
 3 | / from datetime import datetime
 4 | | from typing import Any
 5 | |
 6 | | from fastapi import APIRouter, HTTPException, Request, Response
 7 | | from pydantic import BaseModel, Field
 8 | |
 9 | | from maestro.checks import check_release_gate, generate_compliance_report
10 | | from maestro.lineage.openlineage_producer import OpenLineageProducer
11 | | from maestro.provenance.exporter import ProvenanceExporter
12 | | from maestro.prov import serializer
13 | | from maestro.models import (
14 | |     Artifact,
15 | |     ArtifactKind,
16 | |     ArtifactMetadata,
17 | |     DisclosurePack,
18 | |     Run,
19 | |     RunStatus,
20 | | )
   | |_^
21 |
22 |   router = APIRouter(prefix="/maestro", tags=["maestro"])
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> ci/gates/dependency_delta_check.py:2:1
  |
1 |   #!/usr/bin/env python3
2 | / import subprocess
3 | | import sys
4 | | import os
  | |_________^
5 |
6 |   # Lockfiles to watch for changes
  |
help: Organize imports

E401 [*] Multiple imports on one line
 --> ci/gates/validate_evidence.py:2:1
  |
1 | #!/usr/bin/env python3
2 | import json, sys
  | ^^^^^^^^^^^^^^^^
3 | from jsonschema import Draft202012Validator
  |
help: Split imports

I001 [*] Import block is un-sorted or un-formatted
 --> ci/gates/validate_evidence.py:2:1
  |
1 |   #!/usr/bin/env python3
2 | / import json, sys
3 | | from jsonschema import Draft202012Validator
  | |___________________________________________^
4 |
5 |   def load(p):
  |
help: Organize imports

UP015 [*] Unnecessary mode argument
 --> ci/gates/validate_evidence.py:6:15
  |
5 | def load(p):
6 |   with open(p,"r",encoding="utf-8") as f: return json.load(f)
  |               ^^^
7 |
8 | def main():
  |
help: Remove mode argument

E701 Multiple statements on one line (colon)
 --> ci/gates/validate_evidence.py:6:41
  |
5 | def load(p):
6 |   with open(p,"r",encoding="utf-8") as f: return json.load(f)
  |                                         ^
7 |
8 | def main():
  |

E701 Multiple statements on one line (colon)
  --> ci/gates/validate_evidence.py:27:18
   |
25 |   errs = sorted(v.iter_errors(report), key=lambda e: e.path)
26 |   if errs:
27 |     for e in errs: print(f"[EVIDENCE] {list(e.path)}: {e.message}")
   |                  ^
28 |     return 2
29 |   print(f"[EVIDENCE] OK: {report_path}")
   |

I001 [*] Import block is un-sorted or un-formatted
  --> ci/verify_evidence.py:2:1
   |
 1 |   #!/usr/bin/env python3
 2 | / import json
 3 | | import argparse
 4 | | import sys
 5 | | import hashlib
 6 | | import re
 7 | | from pathlib import Path
 8 | | from jsonschema import validate, ValidationError
   | |________________________________________________^
 9 |
10 |   TIMESTAMP_REGEX = re.compile(r'^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}')
   |
help: Organize imports

UP015 [*] Unnecessary mode argument
  --> ci/verify_evidence.py:13:21
   |
12 | def load_json(path):
13 |     with open(path, 'r') as f:
   |                     ^^^
14 |         return json.load(f)
   |
help: Remove mode argument

UP015 [*] Unnecessary mode argument
  --> ci/verify_evidence.py:17:28
   |
16 | def validate_schema(data, schema_path):
17 |     with open(schema_path, 'r') as f:
   |                            ^^^
18 |         schema = json.load(f)
19 |     validate(instance=data, schema=schema)
   |
help: Remove mode argument

I001 [*] Import block is un-sorted or un-formatted
 --> eval/angular_modernity/check.py:1:1
  |
1 | / import os
2 | | import re
3 | | from typing import List, Dict, Any
4 | | from .rules import RULES
  | |________________________^
5 |
6 |   def check_file(filepath: str) -> List[Dict[str, Any]]:
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
 --> eval/angular_modernity/check.py:6:34
  |
4 | from .rules import RULES
5 |
6 | def check_file(filepath: str) -> List[Dict[str, Any]]:
  |                                  ^^^^
7 |     violations = []
8 |     try:
  |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
 --> eval/angular_modernity/check.py:6:39
  |
4 | from .rules import RULES
5 |
6 | def check_file(filepath: str) -> List[Dict[str, Any]]:
  |                                       ^^^^
7 |     violations = []
8 |     try:
  |
help: Replace with `dict`

UP015 [*] Unnecessary mode argument
  --> eval/angular_modernity/check.py:9:29
   |
 7 |     violations = []
 8 |     try:
 9 |         with open(filepath, 'r', encoding='utf-8') as f:
   |                             ^^^
10 |             content = f.read()
11 |             lines = content.splitlines()
   |
help: Remove mode argument

I001 [*] Import block is un-sorted or un-formatted
 --> eval/baselines.py:1:1
  |
1 | / from __future__ import annotations
2 | |
3 | | import os
4 | | from typing import Any, Dict, List
  | |__________________________________^
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> eval/baselines.py:10:58
   |
10 | def load_baselines(path: str = DEFAULT_BASELINE_PATH) -> Dict[str, Any]:
   |                                                          ^^^^
11 |     if not os.path.exists(path):
12 |         return {}
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> eval/baselines.py:20:29
   |
20 | def resolve_suite_id(suite: Dict[str, Any], suite_path: str) -> str:
   |                             ^^^^
21 |     if suite and suite.get("id"):
22 |         return str(suite["id"])
   |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> eval/baselines.py:28:14
   |
27 | def evaluate_thresholds(
28 |     results: List[Dict[str, Any]], baselines: Dict[str, Any], suite_id: str
   |              ^^^^
29 | ) -> List[Dict[str, Any]]:
30 |     suites = baselines.get("suites", {})
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> eval/baselines.py:28:19
   |
27 | def evaluate_thresholds(
28 |     results: List[Dict[str, Any]], baselines: Dict[str, Any], suite_id: str
   |                   ^^^^
29 | ) -> List[Dict[str, Any]]:
30 |     suites = baselines.get("suites", {})
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> eval/baselines.py:28:47
   |
27 | def evaluate_thresholds(
28 |     results: List[Dict[str, Any]], baselines: Dict[str, Any], suite_id: str
   |                                               ^^^^
29 | ) -> List[Dict[str, Any]]:
30 |     suites = baselines.get("suites", {})
   |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> eval/baselines.py:29:6
   |
27 | def evaluate_thresholds(
28 |     results: List[Dict[str, Any]], baselines: Dict[str, Any], suite_id: str
29 | ) -> List[Dict[str, Any]]:
   |      ^^^^
30 |     suites = baselines.get("suites", {})
31 |     suite_cfg = suites.get(suite_id, {})
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> eval/baselines.py:29:11
   |
27 | def evaluate_thresholds(
28 |     results: List[Dict[str, Any]], baselines: Dict[str, Any], suite_id: str
29 | ) -> List[Dict[str, Any]]:
   |           ^^^^
30 |     suites = baselines.get("suites", {})
31 |     suite_cfg = suites.get(suite_id, {})
   |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> eval/baselines.py:37:15
   |
35 |     gates = suite_cfg.get("gates", {})
36 |     tasks_cfg = suite_cfg.get("tasks", {})
37 |     failures: List[Dict[str, Any]] = []
   |               ^^^^
38 |
39 |     for result in results:
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> eval/baselines.py:37:20
   |
35 |     gates = suite_cfg.get("gates", {})
36 |     tasks_cfg = suite_cfg.get("tasks", {})
37 |     failures: List[Dict[str, Any]] = []
   |                    ^^^^
38 |
39 |     for result in results:
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> evals/agentic_coding/harness.py:1:1
  |
1 | / import argparse
2 | | import json
3 | | import sys
4 | | import uuid
5 | | import datetime
6 | | from pathlib import Path
  | |________________________^
7 |
8 |   ROOT = Path(__file__).resolve().parents[2]
  |
help: Organize imports

UP015 [*] Unnecessary mode argument
  --> evals/agentic_coding/harness.py:12:18
   |
11 | def load_jsonl(p):
12 |     with open(p, "r") as f:
   |                  ^^^
13 |         return [json.loads(line) for line in f if line.strip()]
   |
help: Remove mode argument

F541 [*] f-string without any placeholders
  --> evals/agentic_coding/harness.py:47:23
   |
45 |         "area": "agentic_coding",
46 |         "summary": f"Executed suite {args.suite} with {len(results)} tasks.",
47 |         "artifacts": [f"evals/agentic_coding/fixtures/tasks.jsonl"]
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
48 |     }
   |
help: Remove extraneous `f` prefix

I001 [*] Import block is un-sorted or un-formatted
 --> evidence/validate.py:1:1
  |
1 | / import json
2 | | import sys
3 | | import re
4 | | from pathlib import Path
5 | | import argparse
  | |_______________^
6 |
7 |   ROOT = Path(__file__).resolve().parents[1]
  |
help: Organize imports

UP015 [*] Unnecessary mode argument
  --> home/jules/self_created_tools/generate_remediation_plan.py:52:25
   |
51 |     findings = []
52 |     with open(CSV_PATH, 'r') as f:
   |                         ^^^
53 |         reader = csv.DictReader(f)
54 |         for i, row in enumerate(reader):
   |
help: Remove mode argument

E701 Multiple statements on one line (colon)
  --> home/jules/self_created_tools/generate_remediation_plan.py:82:21
   |
81 |         # Priority Mapping
82 |         if p == 'P0': f['priority'] = 'P0'
   |                     ^
83 |         elif p == 'P1': f['priority'] = 'P1'
84 |         else: f['priority'] = 'P2'
   |

E701 Multiple statements on one line (colon)
  --> home/jules/self_created_tools/generate_remediation_plan.py:83:23
   |
81 |         # Priority Mapping
82 |         if p == 'P0': f['priority'] = 'P0'
83 |         elif p == 'P1': f['priority'] = 'P1'
   |                       ^
84 |         else: f['priority'] = 'P2'
   |

E701 Multiple statements on one line (colon)
  --> home/jules/self_created_tools/generate_remediation_plan.py:84:13
   |
82 |         if p == 'P0': f['priority'] = 'P0'
83 |         elif p == 'P1': f['priority'] = 'P1'
84 |         else: f['priority'] = 'P2'
   |             ^
85 |
86 |         # Severity Mapping
   |

E701 Multiple statements on one line (colon)
  --> home/jules/self_created_tools/generate_remediation_plan.py:88:37
   |
86 |         # Severity Mapping
87 |         if s == 'High':
88 |             if f['priority'] == 'P0': f['severity'] = 'S0'
   |                                     ^
89 |             else: f['severity'] = 'S1'
90 |         elif s == 'Medium':
   |

E701 Multiple statements on one line (colon)
  --> home/jules/self_created_tools/generate_remediation_plan.py:89:17
   |
87 |         if s == 'High':
88 |             if f['priority'] == 'P0': f['severity'] = 'S0'
89 |             else: f['severity'] = 'S1'
   |                 ^
90 |         elif s == 'Medium':
91 |             f['severity'] = 'S2'
   |

I001 [*] Import block is un-sorted or un-formatted
 --> maestro/lineage/openlineage_producer.py:1:1
  |
1 | / from typing import Any, Dict, List, Optional
2 | | from datetime import datetime
3 | | import logging
4 | | import uuid
  | |___________^
5 |
6 |   logger = logging.getLogger(__name__)
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> maestro/lineage/openlineage_producer.py:9:5
   |
 8 |   try:
 9 | /     from openlineage.client import OpenLineageClient
10 | |     from openlineage.client.run import Run as OLRun, RunEvent, RunState, Job
11 | |     from openlineage.client.transport.console import ConsoleTransport
   | |_____________________________________________________________________^
12 |   except ImportError:
13 |       logger.warning("OpenLineage client not found. Lineage events will not be emitted.")
   |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
  --> maestro/lineage/openlineage_producer.py:30:62
   |
28 |             self.client = None
29 |
30 |     def emit_start(self, run_id: str, job_name: str, inputs: List[Any] = None, outputs: List[Any] = None, args: Dict[str, Any] = None):
   |                                                              ^^^^
31 |         """
32 |         Emit a START event for a run.
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> maestro/lineage/openlineage_producer.py:30:89
   |
28 |             self.client = None
29 |
30 |     def emit_start(self, run_id: str, job_name: str, inputs: List[Any] = None, outputs: List[Any] = None, args: Dict[str, Any] = None):
   |                                                                                         ^^^^
31 |         """
32 |         Emit a START event for a run.
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> maestro/lineage/openlineage_producer.py:30:113
   |
28 |             self.client = None
29 |
30 |     def emit_start(self, run_id: str, job_name: str, inputs: List[Any] = None, outputs: List[Any] = None, args: Dict[str, Any] = None):
   |                                                                                                                 ^^^^
31 |         """
32 |         Emit a START event for a run.
   |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> maestro/lineage/openlineage_producer.py:55:65
   |
53 |             logger.error(f"Failed to emit OpenLineage event: {e}")
54 |
55 |     def emit_complete(self, run_id: str, job_name: str, inputs: List[Any] = None, outputs: List[Any] = None):
   |                                                                 ^^^^
56 |         """
57 |         Emit a COMPLETE event for a run.
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> maestro/lineage/openlineage_producer.py:55:92
   |
53 |             logger.error(f"Failed to emit OpenLineage event: {e}")
54 |
55 |     def emit_complete(self, run_id: str, job_name: str, inputs: List[Any] = None, outputs: List[Any] = None):
   |                                                                                            ^^^^
56 |         """
57 |         Emit a COMPLETE event for a run.
   |
help: Replace with `list`

I001 [*] Import block is un-sorted or un-formatted
 --> maestro/provenance/exporter.py:1:1
  |
1 | / from typing import List, Optional
2 | | import logging
  | |______________^
3 |
4 |   try:
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> maestro/provenance/exporter.py:5:5
  |
4 | try:
5 |     from prov.model import ProvDocument, PROV_ROLE, PROV_TYPE
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
6 | except ImportError:
7 |     ProvDocument = None
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> maestro/provenance/exporter.py:9:1
   |
 7 |     ProvDocument = None
 8 |
 9 | from maestro.models import Run, Artifact, ArtifactKind
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
10 |
11 | logger = logging.getLogger(__name__)
   |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
  --> maestro/provenance/exporter.py:20:47
   |
18 |             logger.warning("prov library not found. Provenance export will fail.")
19 |
20 |     def export_run(self, run: Run, artifacts: List[Artifact]) -> Optional[ProvDocument]:
   |                                               ^^^^
21 |         """
22 |         Convert a Run and its Artifacts into a PROV document.
   |
help: Replace with `list`

I001 [*] Import block is un-sorted or un-formatted
 --> maestro/sync/postgres_provenance_sync.py:1:1
  |
1 | / import os
2 | | import logging
3 | | from datetime import datetime
4 | | from typing import List, Dict, Any
  | |__________________________________^
5 |
6 |   try:
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> maestro/sync/postgres_provenance_sync.py:7:5
   |
 6 |   try:
 7 | /     import psycopg2
 8 | |     from psycopg2.extras import RealDictCursor
 9 | |     from neo4j import GraphDatabase
   | |___________________________________^
10 |   except ImportError:
11 |       psycopg2 = None
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> maestro/tests/test_openlineage_producer.py:1:1
  |
1 | / import unittest
2 | | from unittest.mock import MagicMock, patch
3 | | import sys
4 | | import os
  | |_________^
5 |
6 |   # Add repo root to path
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> maestro/tests/test_provenance_exporter.py:1:1
  |
1 | / import unittest
2 | | from unittest.mock import MagicMock
3 | | from datetime import datetime
4 | | import sys
5 | | import os
  | |_________^
6 |
7 |   # Add repo root to path
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> maestro/tests/test_provenance_exporter.py:10:1
   |
 8 |   sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), '../..')))
 9 |
10 | / from maestro.models import Run, Artifact, ArtifactKind
11 | | from maestro.provenance.exporter import ProvenanceExporter
   | |__________________________________________________________^
12 |
13 |   class TestProvenanceExporter(unittest.TestCase):
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> packages/common/cache.py:1:1
  |
1 | / import time
2 | | from dataclasses import dataclass
3 | | from typing import Optional, Dict, Tuple
  | |________________________________________^
4 |
5 |   @dataclass(frozen=True)
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> packages/common/cache.py:16:18
   |
14 |   def __init__(self, max_items: int = 1024):
15 |     self.max_items = max_items
16 |     self._store: Dict[str, Tuple[float, object]] = {}
   |                  ^^^^
17 |
18 |   def get(self, k: str) -> Optional[object]:
   |
help: Replace with `dict`

UP006 [*] Use `tuple` instead of `Tuple` for type annotation
  --> packages/common/cache.py:16:28
   |
14 |   def __init__(self, max_items: int = 1024):
15 |     self.max_items = max_items
16 |     self._store: Dict[str, Tuple[float, object]] = {}
   |                            ^^^^^
17 |
18 |   def get(self, k: str) -> Optional[object]:
   |
help: Replace with `tuple`

E701 Multiple statements on one line (colon)
  --> packages/common/cache.py:20:13
   |
18 |   def get(self, k: str) -> Optional[object]:
19 |     v = self._store.get(k)
20 |     if not v: return None
   |             ^
21 |     exp, obj = v
22 |     if time.time() > exp:
   |

E701 Multiple statements on one line (colon)
  --> packages/common/cache.py:28:18
   |
27 |   def set(self, k: str, obj: object, ttl_s: int) -> None:
28 |     if ttl_s <= 0: return
   |                  ^
29 |     if len(self._store) >= self.max_items:
30 |       # deterministic-ish eviction: drop oldest key by expiry
   |

I001 [*] Import block is un-sorted or un-formatted
 --> packages/common/circuit_breaker.py:1:1
  |
1 | / from dataclasses import dataclass
2 | | from enum import Enum
3 | | import time
  | |___________^
4 |
5 |   class State(str, Enum):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> packages/common/decision_record.py:1:1
  |
1 | / from dataclasses import dataclass, field
2 | | from typing import List, Optional, Dict, Any
3 | | import hashlib
4 | | import json
  | |___________^
5 |
6 |   @dataclass
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
  --> packages/common/decision_record.py:11:18
   |
 9 |     context: str
10 |     outcome: str
11 |     top_factors: List[str]
   |                  ^^^^
12 |     policy_checks: List[str]
13 |     model_version: Optional[str] = None
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> packages/common/decision_record.py:12:20
   |
10 |     outcome: str
11 |     top_factors: List[str]
12 |     policy_checks: List[str]
   |                    ^^^^
13 |     model_version: Optional[str] = None
14 |     human_readable_summary: str = ""
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> packages/common/decision_record.py:18:53
   |
17 |     @staticmethod
18 |     def create(context: str, outcome: str, factors: List[str], policies: List[str], model: str = "baseline") -> 'DecisionRecord':
   |                                                     ^^^^
19 |         # Deterministic ID based on content
20 |         content = f"{context}:{outcome}:{model}:{sorted(factors)}"
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> packages/common/decision_record.py:18:74
   |
17 |     @staticmethod
18 |     def create(context: str, outcome: str, factors: List[str], policies: List[str], model: str = "baseline") -> 'DecisionRecord':
   |                                                                          ^^^^
19 |         # Deterministic ID based on content
20 |         content = f"{context}:{outcome}:{model}:{sorted(factors)}"
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> packages/common/decision_record.py:32:26
   |
30 |         )
31 |
32 |     def to_dict(self) -> Dict[str, Any]:
   |                          ^^^^
33 |         return {
34 |             "decision_id": self.decision_id,
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> packages/common/privacy.py:1:1
  |
1 | / from typing import Dict, Any, List
2 | | from enum import Enum
  | |_____________________^
3 |
4 |   class DataClass(str, Enum):
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> packages/common/privacy.py:16:20
   |
14 | }
15 |
16 | def redact_dict(d: Dict[str, Any]) -> Dict[str, Any]:
   |                    ^^^^
17 |   """
18 |   Recursively redact keys that are in NEVER_LOG_FIELDS.
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> packages/common/privacy.py:16:39
   |
14 | }
15 |
16 | def redact_dict(d: Dict[str, Any]) -> Dict[str, Any]:
   |                                       ^^^^
17 |   """
18 |   Recursively redact keys that are in NEVER_LOG_FIELDS.
   |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> packages/common/privacy.py:33:20
   |
31 |   return out
32 |
33 | def redact_list(l: List[Any]) -> List[Any]:
   |                    ^^^^
34 |   return [redact_dict(i) if isinstance(i, dict) else (redact_list(i) if isinstance(i, list) else i) for i in l]
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> packages/common/privacy.py:33:34
   |
31 |   return out
32 |
33 | def redact_list(l: List[Any]) -> List[Any]:
   |                                  ^^^^
34 |   return [redact_dict(i) if isinstance(i, dict) else (redact_list(i) if isinstance(i, list) else i) for i in l]
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> packages/common/privacy.py:38:42
   |
36 | class PrivacyGuard:
37 |     @staticmethod
38 |     def ensure_safe_for_logging(payload: Dict[str, Any]) -> Dict[str, Any]:
   |                                          ^^^^
39 |         """
40 |         Ensures payload does not contain secrets before logging.
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> packages/common/privacy.py:38:61
   |
36 | class PrivacyGuard:
37 |     @staticmethod
38 |     def ensure_safe_for_logging(payload: Dict[str, Any]) -> Dict[str, Any]:
   |                                                             ^^^^
39 |         """
40 |         Ensures payload does not contain secrets before logging.
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> python/intelgraph_py/lineage/openlineage_producer.py:1:1
  |
1 | / import os
2 | | import uuid
3 | | import yaml
4 | | import datetime
5 | | from typing import List, Optional, Dict, Any
6 | | from openlineage.client import OpenLineageClient
7 | | from openlineage.client.event_v2 import RunEvent, Job, Run, Dataset, RunState
  | |_____________________________________________________________________________^
8 |
9 |   class OpenLineageProducer:
  |
help: Organize imports

UP015 [*] Unnecessary mode argument
  --> python/intelgraph_py/lineage/openlineage_producer.py:16:40
   |
14 |         if os.path.exists(config_path):
15 |             try:
16 |                 with open(config_path, 'r') as f:
   |                                        ^^^
17 |                     config = yaml.safe_load(f)
18 |                     if config:
   |
help: Remove mode argument

UP006 [*] Use `list` instead of `List` for type annotation
  --> python/intelgraph_py/lineage/openlineage_producer.py:34:44
   |
32 |                           job_name: str,
33 |                           run_id: str,
34 |                           inputs: Optional[List[Dict[str, Any]]] = None,
   |                                            ^^^^
35 |                           outputs: Optional[List[Dict[str, Any]]] = None) -> RunEvent:
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> python/intelgraph_py/lineage/openlineage_producer.py:34:49
   |
32 |                           job_name: str,
33 |                           run_id: str,
34 |                           inputs: Optional[List[Dict[str, Any]]] = None,
   |                                                 ^^^^
35 |                           outputs: Optional[List[Dict[str, Any]]] = None) -> RunEvent:
   |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> python/intelgraph_py/lineage/openlineage_producer.py:35:45
   |
33 |                           run_id: str,
34 |                           inputs: Optional[List[Dict[str, Any]]] = None,
35 |                           outputs: Optional[List[Dict[str, Any]]] = None) -> RunEvent:
   |                                             ^^^^
36 |
37 |         input_datasets = []
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> python/intelgraph_py/lineage/openlineage_producer.py:35:50
   |
33 |                           run_id: str,
34 |                           inputs: Optional[List[Dict[str, Any]]] = None,
35 |                           outputs: Optional[List[Dict[str, Any]]] = None) -> RunEvent:
   |                                                  ^^^^
36 |
37 |         input_datasets = []
   |
help: Replace with `dict`

UP017 [*] Use `datetime.UTC` alias
  --> python/intelgraph_py/lineage/openlineage_producer.py:49:45
   |
47 |         return RunEvent(
48 |             eventType=event_type,
49 |             eventTime=datetime.datetime.now(datetime.timezone.utc).isoformat(),
   |                                             ^^^^^^^^^^^^^^^^^^^^^
50 |             run=Run(runId=run_id, facets={}),
51 |             job=Job(namespace=self.namespace, name=job_name, facets={}),
   |
help: Convert to `datetime.UTC` alias

UP006 [*] Use `list` instead of `List` for type annotation
  --> python/intelgraph_py/lineage/openlineage_producer.py:57:71
   |
55 |         )
56 |
57 |     def emit_start(self, job_name: str, run_id: str, inputs: Optional[List[Dict[str, Any]]] = None):
   |                                                                       ^^^^
58 |         """Emits a START event."""
59 |         try:
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> python/intelgraph_py/lineage/openlineage_producer.py:57:76
   |
55 |         )
56 |
57 |     def emit_start(self, job_name: str, run_id: str, inputs: Optional[List[Dict[str, Any]]] = None):
   |                                                                            ^^^^
58 |         """Emits a START event."""
59 |         try:
   |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> python/intelgraph_py/lineage/openlineage_producer.py:66:75
   |
64 |             print(f"Error emitting OpenLineage START event: {e}")
65 |
66 |     def emit_complete(self, job_name: str, run_id: str, outputs: Optional[List[Dict[str, Any]]] = None):
   |                                                                           ^^^^
67 |         """Emits a COMPLETE event."""
68 |         try:
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> python/intelgraph_py/lineage/openlineage_producer.py:66:80
   |
64 |             print(f"Error emitting OpenLineage START event: {e}")
65 |
66 |     def emit_complete(self, job_name: str, run_id: str, outputs: Optional[List[Dict[str, Any]]] = None):
   |                                                                                ^^^^
67 |         """Emits a COMPLETE event."""
68 |         try:
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> python/intelgraph_py/prov/json_serializer.py:1:1
  |
1 | / import json
2 | | import prov.model
  | |_________________^
3 |
4 |   def serialize_document(doc: prov.model.ProvDocument) -> str:
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> python/intelgraph_py/provenance/exporter.py:1:1
  |
1 | / import prov.model
2 | | import datetime
3 | | from typing import Dict, Any
  | |____________________________^
4 |
5 |   class ProvenanceExporter:
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> python/intelgraph_py/provenance/exporter.py:11:66
   |
 9 |         self.doc.add_namespace("prov", "http://www.w3.org/ns/prov#")
10 |
11 |     def add_entity(self, entity_id: str, label: str, attributes: Dict[str, Any] = None):
   |                                                                  ^^^^
12 |         self.doc.entity(entity_id, {prov.model.PROV_LABEL: label, **(attributes or {})})
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> python/intelgraph_py/provenance/exporter.py:14:132
   |
12 | â€¦*(attributes or {})})
13 | â€¦
14 | â€¦atetime = None, end_time: datetime.datetime = None, attributes: Dict[str, Any] = None):
   |                                                                  ^^^^
15 | â€¦e=end_time, other_attributes=attributes)
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> python/intelgraph_py/sync/postgres_provenance_sync.py:1:1
  |
1 | / import os
2 | | import uuid
3 | | from sqlalchemy import text
4 | | from intelgraph_py.database import get_db
5 | | from intelgraph_py.storage.neo4j_store import Neo4jStore
  | |________________________________________________________^
6 |
7 |   class SyncEntity:
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> python/intelgraph_py/tasks.py:1:1
   |
 1 | / import asyncio
 2 | | import os
 3 | | import time
 4 | | from datetime import datetime
 5 | | from typing import TYPE_CHECKING
 6 | |
 7 | | from neo4j import GraphDatabase
 8 | |
 9 | | from intelgraph_py.analytics.explainability_engine import generate_explanation
10 | | from intelgraph_py.celery_app import celery_app
11 | | from intelgraph_py.connectors.osint_agent import ThreatActorProfilingAgent
12 | | from intelgraph_py.database import get_db
13 | | from intelgraph_py.models import AlertLog, ExplanationTaskResult, Schedule, Subscription
14 | | from intelgraph_py.storage.neo4j_store import Neo4jStore
15 | | from intelgraph_py.lineage.openlineage_producer import OpenLineageProducer
   | |__________________________________________________________________________^
16 |
17 |   lineage_producer = OpenLineageProducer()
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> python/intelgraph_py/vision_investigation/sandbox.py:1:1
  |
1 | / import ast
2 | | import math
3 | | import logging
4 | | from typing import Any
5 | | from . import tools
  | |___________________^
6 |
7 |   logger = logging.getLogger(__name__)
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> python/intelgraph_py/vision_investigation/tools.py:1:1
  |
1 | / import os
2 | | import math
3 | | import cv2
4 | | import hashlib
5 | | import numpy as np
6 | | from PIL import Image, ImageDraw, ImageFont
  | |___________________________________________^
7 |
8 |   def _generate_output_path(original_path: str, suffix: str, params: dict = None) -> str:
  |
help: Organize imports

UP024 [*] Replace aliased errors with `OSError`
  --> python/intelgraph_py/vision_investigation/tools.py:74:20
   |
72 |                 # Try to load a standard font if available, or default
73 |                 font = ImageFont.load_default()
74 |             except IOError:
   |                    ^^^^^^^
75 |                 font = ImageFont.load_default()
   |
help: Replace `IOError` with builtin `OSError`

I001 [*] Import block is un-sorted or un-formatted
 --> python/tests/test_lineage.py:1:1
  |
1 | / import pytest
2 | | import uuid
3 | | from unittest.mock import MagicMock, patch
4 | | from intelgraph_py.lineage.openlineage_producer import OpenLineageProducer
5 | | from openlineage.client.event_v2 import RunEvent, RunState
  | |__________________________________________________________^
6 |
7 |   class TestOpenLineageProducer:
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> python/tests/test_prov_export.py:1:1
  |
1 | / import json
2 | | import pytest
3 | | from intelgraph_py.provenance.exporter import ProvenanceExporter
  | |________________________________________________________________^
4 |
5 |   def test_export_simple_graph():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> python/tests/test_vision_investigation.py:1:1
   |
 1 | / import os
 2 | | import shutil
 3 | | import tempfile
 4 | | import pytest
 5 | | from PIL import Image
 6 | | from intelgraph_py.vision_investigation.tools import crop_image, rotate_image, measure_distance
 7 | | from intelgraph_py.vision_investigation.sandbox import SafeExecutor
 8 | | from intelgraph_py.vision_investigation.loop import VisionInvestigationLoop
   | |___________________________________________________________________________^
 9 |
10 |   class MockLLM:
   |
help: Organize imports

B011 Do not `assert False` (`python -O` removes these calls), raise `AssertionError()`
  --> python/tests/test_vision_investigation.py:86:17
   |
84 |     else:
85 |          # Should fail with NameError if not caught by AST (but we removed it from builtins)
86 |          assert False, "Should have failed"
   |                 ^^^^^
87 |
88 | def test_loop_pixel_budget(temp_image):
   |
help: Replace `assert False`

I001 [*] Import block is un-sorted or un-formatted
 --> scripts/ci/verify_campaign_contracts.py:1:1
  |
1 | / import sys
2 | | import subprocess
  | |_________________^
3 |
4 |   def main():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> scripts/ci/verify_dependency_delta.py:2:1
  |
1 |   #!/usr/bin/env python3
2 | / import subprocess
3 | | import sys
4 | | import os
  | |_________^
5 |
6 |   LOCKFILES = {"package-lock.json", "poetry.lock", "requirements.txt", "pnpm-lock.yaml", "yarn.lock"}
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> scripts/ci/verify_evidence.py:2:1
  |
1 |   #!/usr/bin/env python3
2 | / import json
3 | | import sys
4 | | import re
5 | | import os
6 | | from pathlib import Path
  | |________________________^
7 |
8 |   ROOT = Path(__file__).resolve().parents[2]
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> scripts/ci/verify_federation_contracts.py:1:1
  |
1 | / import sys
2 | | import subprocess
  | |_________________^
3 |
4 |   def main():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> scripts/compliance/generate_compliance_snapshot.py:2:1
  |
1 |   #!/usr/bin/env python3
2 | / import re
3 | | import json
4 | | import os
5 | | import datetime
  | |_______________^
6 |
7 |   LEDGER_PATH = "docs/security/SECURITY-ISSUE-LEDGER.md"
  |
help: Organize imports

UP015 [*] Unnecessary mode argument
  --> scripts/compliance/generate_compliance_snapshot.py:14:21
   |
12 |         return {"error": "Ledger not found"}
13 |
14 |     with open(path, 'r') as f:
   |                     ^^^
15 |         content = f.read()
   |
help: Remove mode argument

UP017 [*] Use `datetime.UTC` alias
  --> scripts/compliance/generate_compliance_snapshot.py:19:44
   |
17 |     snapshot = {
18 |         "source": path,
19 |         "timestamp": datetime.datetime.now(datetime.timezone.utc).isoformat(),
   |                                            ^^^^^^^^^^^^^^^^^^^^^
20 |         "summary": {},
21 |         "status": "UNKNOWN"
   |
help: Convert to `datetime.UTC` alias

I001 [*] Import block is un-sorted or un-formatted
 --> scripts/compliance/in-toto-record.py:1:1
  |
1 | / import argparse
2 | | import hashlib
3 | | import json
4 | | import glob
5 | | import os
  | |_________^
6 |
7 |   def hash_file(filepath):
  |
help: Organize imports

E401 [*] Multiple imports on one line
 --> scripts/evidence/verify_evidence.py:6:1
  |
4 | TODO: wire into actual CI job name once required checks are discovered.
5 | """
6 | import json, sys
  | ^^^^^^^^^^^^^^^^
7 | from pathlib import Path
  |
help: Split imports

I001 [*] Import block is un-sorted or un-formatted
 --> scripts/evidence/verify_evidence.py:6:1
  |
4 |   TODO: wire into actual CI job name once required checks are discovered.
5 |   """
6 | / import json, sys
7 | | from pathlib import Path
  | |________________________^
8 |
9 |   def main() -> int:
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> scripts/kev_watch.py:2:1
  |
1 |   #!/usr/bin/env python3
2 | / import os
3 | | import sys
4 | | import json
5 | | import requests
6 | | import glob
  | |___________^
7 |
8 |   # CISA KEV Catalog URL
  |
help: Organize imports

UP015 [*] Unnecessary mode argument
  --> scripts/kev_watch.py:38:32
   |
37 |     try:
38 |         with open(report_path, 'r') as f:
   |                                ^^^
39 |             return json.load(f)
40 |     except Exception as e:
   |
help: Remove mode argument

F541 [*] f-string without any placeholders
   --> scripts/kev_watch.py:150:11
    |
148 |         report_path = sys.argv[1]
149 |
150 |     print(f"Starting KEV Watch...")
    |           ^^^^^^^^^^^^^^^^^^^^^^^^
151 |
152 |     kev_data = fetch_kev_catalog()
    |
help: Remove extraneous `f` prefix

I001 [*] Import block is un-sorted or un-formatted
  --> scripts/merge-captain-triage.py:7:1
   |
 5 |   """
 6 |
 7 | / import subprocess
 8 | | import sys
 9 | | from pathlib import Path
10 | | from datetime import datetime, timedelta
11 | | import re
   | |_________^
12 |
13 |   def run_git_command(cmd):
   |
help: Organize imports

F541 [*] f-string without any placeholders
   --> scripts/merge-captain-triage.py:186:25
    |
184 | â€¦     f.write(f'echo "Closing ancient branch: {branch}"\n')
185 | â€¦     f.write(f'gh pr close $(gh pr list --head "{branch}" --json number -q ".[0].number") \\\n')
186 | â€¦     f.write(f'  --comment "âš ï¸ CLOSING: Branch too diverged (7000+ commits ahead). Please open fresh PR if needed." \\\n')
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
187 | â€¦     f.write(f'  --delete-branch || true\n\n')
    |
help: Remove extraneous `f` prefix

F541 [*] f-string without any placeholders
   --> scripts/merge-captain-triage.py:187:25
    |
185 |                 f.write(f'gh pr close $(gh pr list --head "{branch}" --json number -q ".[0].number") \\\n')
186 |                 f.write(f'  --comment "âš ï¸ CLOSING: Branch too diverged (7000+ commits ahead). Please open fresh PR if needed." \\\n')
187 |                 f.write(f'  --delete-branch || true\n\n')
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
188 |
189 |         # Already merged
    |
help: Remove extraneous `f` prefix

F541 [*] f-string without any placeholders
   --> scripts/merge-captain-triage.py:195:25
    |
193 |                 f.write(f'echo "Closing merged branch: {branch}"\n')
194 |                 f.write(f'gh pr close $(gh pr list --head "{branch}" --json number -q ".[0].number") \\\n')
195 |                 f.write(f'  --comment "Closing: Changes already merged into main" \\\n')
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
196 |                 f.write(f'  --delete-branch || true\n\n')
    |
help: Remove extraneous `f` prefix

F541 [*] f-string without any placeholders
   --> scripts/merge-captain-triage.py:196:25
    |
194 |                 f.write(f'gh pr close $(gh pr list --head "{branch}" --json number -q ".[0].number") \\\n')
195 |                 f.write(f'  --comment "Closing: Changes already merged into main" \\\n')
196 |                 f.write(f'  --delete-branch || true\n\n')
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
197 |
198 |         # Stale auto-remediation
    |
help: Remove extraneous `f` prefix

F541 [*] f-string without any placeholders
   --> scripts/merge-captain-triage.py:204:25
    |
202 |                 f.write(f'echo "Closing stale auto-remediation: {branch}"\n')
203 |                 f.write(f'gh pr close $(gh pr list --head "{branch}" --json number -q ".[0].number") \\\n')
204 |                 f.write(f'  --comment "Superseded by newer state updates" \\\n')
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
205 |                 f.write(f'  --delete-branch || true\n\n')
    |
help: Remove extraneous `f` prefix

F541 [*] f-string without any placeholders
   --> scripts/merge-captain-triage.py:205:25
    |
203 |                 f.write(f'gh pr close $(gh pr list --head "{branch}" --json number -q ".[0].number") \\\n')
204 |                 f.write(f'  --comment "Superseded by newer state updates" \\\n')
205 |                 f.write(f'  --delete-branch || true\n\n')
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
206 |
207 |     cleanup_script.chmod(0o755)
    |
help: Remove extraneous `f` prefix

F541 [*] f-string without any placeholders
   --> scripts/merge-captain-triage.py:225:15
    |
223 |         print("Next steps:")
224 |         print(f"  1. Review lists in {output_dir}/")
225 |         print(f"  2. Install gh CLI if not available")
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
226 |         print(f"  3. Run: {cleanup_script}")
    |
help: Remove extraneous `f` prefix

I001 [*] Import block is un-sorted or un-formatted
 --> scripts/monitoring/agentic-vision-gemini3flash-drift.py:1:1
  |
1 | / import sys
2 | | import os
3 | | import shutil
4 | | import tempfile
5 | | import logging
6 | | from PIL import Image
  | |_____________________^
7 |
8 |   # Ensure python modules can be imported
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> scripts/monitoring/agentic-vision-gemini3flash-drift.py:12:5
   |
11 | try:
12 |     from intelgraph_py.vision_investigation.loop import VisionInvestigationLoop, LLMProvider
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
13 | except ImportError:
14 |     # Fallback if running from repo root
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> scripts/monitoring/agentic-vision-gemini3flash-drift.py:16:5
   |
14 |     # Fallback if running from repo root
15 |     sys.path.append("python")
16 |     from intelgraph_py.vision_investigation.loop import VisionInvestigationLoop, LLMProvider
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
17 |
18 | logging.basicConfig(level=logging.INFO)
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> scripts/monitoring/solid-skills-drift.py:1:1
  |
1 | / import subprocess
2 | | import json
3 | | import os
4 | | import argparse
5 | | from datetime import datetime
  | |_____________________________^
6 |
7 |   def get_sha_week_ago():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> scripts/provenance/export_prov.py:2:1
  |
1 |   #!/usr/bin/env python3
2 | / import json
3 | | import uuid
4 | | import sys
5 | | from datetime import datetime, timezone
  | |_______________________________________^
6 |
7 |   """
  |
help: Organize imports

UP017 [*] Use `datetime.UTC` alias
   --> scripts/provenance/export_prov.py:115:39
    |
113 |         demo_event = {
114 |             "eventType": "COMPLETE",
115 |             "eventTime": datetime.now(timezone.utc).isoformat(),
    |                                       ^^^^^^^^^^^^
116 |             "run": {"runId": str(uuid.uuid4())},
117 |             "job": {"namespace": "summit/airflow", "name": "osint_ingestion.validate_and_enrich"},
    |
help: Convert to `datetime.UTC` alias

I001 [*] Import block is un-sorted or un-formatted
 --> scripts/security/oidc_trust_lint.py:1:1
  |
1 | / import os
2 | | import re
3 | | import sys
  | |__________^
4 |
5 |   def check_file(filepath):
  |
help: Organize imports

UP015 [*] Unnecessary mode argument
  --> scripts/security/oidc_trust_lint.py:8:29
   |
 6 |     issues = []
 7 |     try:
 8 |         with open(filepath, 'r', encoding='utf-8') as f:
   |                             ^^^
 9 |             content = f.read()
10 |     except Exception as e:
   |
help: Remove mode argument

I001 [*] Import block is un-sorted or un-formatted
  --> scripts/verify_evidence.py:10:1
   |
 8 |    - deny-by-default: missing required files fails
 9 |   """
10 | / from __future__ import annotations
11 | | import json, sys
12 | | from pathlib import Path
   | |________________________^
13 |
14 |   ROOT = Path(__file__).resolve().parents[1]
   |
help: Organize imports

E401 [*] Multiple imports on one line
  --> scripts/verify_evidence.py:11:1
   |
 9 | """
10 | from __future__ import annotations
11 | import json, sys
   | ^^^^^^^^^^^^^^^^
12 | from pathlib import Path
   |
help: Split imports

I001 [*] Import block is un-sorted or un-formatted
 --> scripts/verify_governance_artifacts.py:2:1
  |
1 |   #!/usr/bin/env python3
2 | / from pathlib import Path
3 | | import sys
  | |__________^
4 |
5 |   ROOT = Path(__file__).resolve().parents[1]
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> services/pipeline/config_flags.py:1:1
  |
1 | import os
  | ^^^^^^^^^
2 |
3 | def is_gnn_prioritizer_enabled() -> bool:
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> services/pipeline/outbound.py:1:1
  |
1 | from packages.common.circuit_breaker import CircuitBreaker, BreakerConfig
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | # Example singleton instance
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> services/pipeline/prioritizer/__init__.py:1:1
  |
1 | / from services.pipeline.prioritizer.base import Prioritizer
2 | | from services.pipeline.prioritizer.gnn_stub import GNNPrioritizerStub
3 | | from services.pipeline.config_flags import is_gnn_prioritizer_enabled
  | |_____________________________________________________________________^
4 |
5 |   def get_prioritizer() -> Prioritizer:
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> services/pipeline/prioritizer/base.py:1:1
  |
1 | / from abc import ABC, abstractmethod
2 | | from typing import Dict, Any, Tuple
3 | | from packages.common.decision_record import DecisionRecord
  | |__________________________________________________________^
4 |
5 |   class Prioritizer(ABC):
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
 --> services/pipeline/prioritizer/base.py:7:40
  |
5 | class Prioritizer(ABC):
6 |     @abstractmethod
7 |     def prioritize(self, item_context: Dict[str, Any]) -> Tuple[float, DecisionRecord]:
  |                                        ^^^^
8 |         """
9 |         Returns (priority_score, decision_record)
  |
help: Replace with `dict`

UP006 [*] Use `tuple` instead of `Tuple` for type annotation
 --> services/pipeline/prioritizer/base.py:7:59
  |
5 | class Prioritizer(ABC):
6 |     @abstractmethod
7 |     def prioritize(self, item_context: Dict[str, Any]) -> Tuple[float, DecisionRecord]:
  |                                                           ^^^^^
8 |         """
9 |         Returns (priority_score, decision_record)
  |
help: Replace with `tuple`

I001 [*] Import block is un-sorted or un-formatted
 --> services/pipeline/prioritizer/gnn_stub.py:1:1
  |
1 | / from typing import Dict, Any, Tuple
2 | | from services.pipeline.prioritizer.base import Prioritizer
3 | | from packages.common.decision_record import DecisionRecord
  | |__________________________________________________________^
4 |
5 |   class GNNPrioritizerStub(Prioritizer):
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
 --> services/pipeline/prioritizer/gnn_stub.py:6:40
  |
5 | class GNNPrioritizerStub(Prioritizer):
6 |     def prioritize(self, item_context: Dict[str, Any]) -> Tuple[float, DecisionRecord]:
  |                                        ^^^^
7 |         # GNN logic is stubbed out here.
8 |         # Safe fallback: return neutral score with explicit explanation.
  |
help: Replace with `dict`

UP006 [*] Use `tuple` instead of `Tuple` for type annotation
 --> services/pipeline/prioritizer/gnn_stub.py:6:59
  |
5 | class GNNPrioritizerStub(Prioritizer):
6 |     def prioritize(self, item_context: Dict[str, Any]) -> Tuple[float, DecisionRecord]:
  |                                                           ^^^^^
7 |         # GNN logic is stubbed out here.
8 |         # Safe fallback: return neutral score with explicit explanation.
  |
help: Replace with `tuple`

I001 [*] Import block is un-sorted or un-formatted
 --> skills/cli.py:1:1
  |
1 | / import argparse
2 | | import json
3 | | import sys
4 | | import os
5 | | from .index import build_index
6 | | from .policy import validate_skill, PolicyViolation
7 | | from .discover import find_skills
  | |_________________________________^
8 |
9 |   def main():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> skills/discover.py:1:1
  |
1 | / import os
2 | | from typing import List, Generator
3 | | from .model import Skill
4 | | from .loader import load_skill
  | |______________________________^
5 |
6 |   def find_skills(root_dir: str) -> Generator[Skill, None, None]:
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> skills/index.py:1:1
  |
1 | / import json
2 | | import os
3 | | from typing import List, Dict, Any
4 | | from .discover import find_skills
5 | | from .model import Skill
  | |________________________^
6 |
7 |   def build_index(root_dir: str) -> Dict[str, Any]:
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
 --> skills/index.py:7:35
  |
5 | from .model import Skill
6 |
7 | def build_index(root_dir: str) -> Dict[str, Any]:
  |                                   ^^^^
8 |     """
9 |     Builds a deterministic index of all skills found in root_dir.
  |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> skills/loader.py:1:1
  |
1 | / import yaml
2 | | import hashlib
3 | | from typing import Tuple, Optional
4 | | from .model import Skill, SkillFrontmatter
  | |__________________________________________^
5 |
6 |   def parse_frontmatter(content: str) -> Tuple[Optional[dict], str]:
  |
help: Organize imports

UP006 [*] Use `tuple` instead of `Tuple` for type annotation
 --> skills/loader.py:6:40
  |
4 | from .model import Skill, SkillFrontmatter
5 |
6 | def parse_frontmatter(content: str) -> Tuple[Optional[dict], str]:
  |                                        ^^^^^
7 |     """
8 |     Parses YAML frontmatter from a string.
  |
help: Replace with `tuple`

UP015 [*] Unnecessary mode argument
  --> skills/loader.py:23:25
   |
22 | def load_skill(filepath: str) -> Skill:
23 |     with open(filepath, 'r', encoding='utf-8') as f:
   |                         ^^^
24 |         content = f.read()
   |
help: Remove mode argument

I001 [*] Import block is un-sorted or un-formatted
 --> skills/model.py:1:1
  |
1 | / from dataclasses import dataclass, field
2 | | from typing import Optional, Dict, List, Any
  | |____________________________________________^
3 |
4 |   @dataclass
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> skills/model.py:10:15
   |
 8 |     license: Optional[str] = None
 9 |     compatibility: Optional[str] = None
10 |     metadata: Dict[str, Any] = field(default_factory=dict)
   |               ^^^^
11 |     allowed_tools: Optional[str] = field(default=None, metadata={"alias": "allowed-tools"})
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> skills/policy.py:1:1
  |
1 | / from typing import List, Optional
2 | | from .model import Skill
  | |________________________^
3 |
4 |   # Deny-by-default: allowlist is empty by default
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/active_measures/evidence/export.py:1:1
  |
1 | / from __future__ import annotations
2 | | import json
3 | | from dataclasses import dataclass, asdict
4 | | from pathlib import Path
5 | | from typing import Any, Dict
  | |____________________________^
6 |
7 |   @dataclass(frozen=True)
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/active_measures/evidence/export.py:12:33
   |
10 |     run_id: str
11 |
12 | def write_json(path: Path, obj: Dict[str, Any]) -> None:
   |                                 ^^^^
13 |     path.parent.mkdir(parents=True, exist_ok=True)
14 |     path.write_text(json.dumps(obj, indent=2, sort_keys=True) + "\n", encoding="utf-8")
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/active_measures/graphs/baselines.py:1:1
  |
1 | / from __future__ import annotations
2 | | from collections import defaultdict
3 | | from typing import Dict
4 | | from .model import Graph, NodeId
  | |________________________________^
5 |
6 |   def out_weight(g: Graph) -> Dict[NodeId, float]:
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
 --> src/summit/active_measures/graphs/baselines.py:6:29
  |
4 | from .model import Graph, NodeId
5 |
6 | def out_weight(g: Graph) -> Dict[NodeId, float]:
  |                             ^^^^
7 |     s = defaultdict(float)
8 |     for (src, _dst, _k), w in g.edges.items():
  |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/active_measures/graphs/model.py:1:1
  |
1 | / from __future__ import annotations
2 | | from dataclasses import dataclass, field
3 | | from typing import Dict, Tuple, Set
  | |___________________________________^
4 |
5 |   NodeId = str
  |
help: Organize imports

UP006 [*] Use `tuple` instead of `Tuple` for type annotation
 --> src/summit/active_measures/graphs/model.py:6:11
  |
5 | NodeId = str
6 | EdgeKey = Tuple[NodeId, NodeId, str]  # (src, dst, interaction_type)
  |           ^^^^^
7 |
8 | @dataclass
  |
help: Replace with `tuple`

UP006 [*] Use `set` instead of `Set` for type annotation
  --> src/summit/active_measures/graphs/model.py:10:12
   |
 8 | @dataclass
 9 | class Graph:
10 |     nodes: Set[NodeId] = field(default_factory=set)
   |            ^^^
11 |     edges: Dict[EdgeKey, float] = field(default_factory=dict)  # weight
   |
help: Replace with `set`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/active_measures/graphs/model.py:11:12
   |
 9 | class Graph:
10 |     nodes: Set[NodeId] = field(default_factory=set)
11 |     edges: Dict[EdgeKey, float] = field(default_factory=dict)  # weight
   |            ^^^^
12 |
13 | def add_edge(g: Graph, src: NodeId, dst: NodeId, kind: str, w: float) -> None:
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/active_measures/policy.py:1:1
  |
1 | / from __future__ import annotations
2 | | from dataclasses import dataclass
  | |_________________________________^
3 |
4 |   @dataclass(frozen=True)
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/privacy_graph/analytics.py:1:1
  |
1 | / from __future__ import annotations
2 | | from typing import List, Dict, Any
3 | | from .config import PrivacyGraphConfig
4 | | from .policy import PrivacyGraphPolicy
5 | | from .types import GraphEvent
6 | | from .graph_builder import build_graph
7 | | from .he_adapter import SecureBackend, PlaintextBackend, HESimulatedBackend, CipherTensor
  | |_________________________________________________________________________________________^
8 |
9 |   def get_backend(cfg: PrivacyGraphConfig) -> SecureBackend:
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
  --> src/summit/privacy_graph/analytics.py:18:27
   |
16 |         raise ValueError(f"Unknown backend: {cfg.backend}")
17 |
18 | def run_analytics(events: List[GraphEvent], cfg: PrivacyGraphConfig) -> Dict[str, Any]:
   |                           ^^^^
19 |     # 1. Validate Config
20 |     PrivacyGraphPolicy.validate(cfg)
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/privacy_graph/analytics.py:18:73
   |
16 |         raise ValueError(f"Unknown backend: {cfg.backend}")
17 |
18 | def run_analytics(events: List[GraphEvent], cfg: PrivacyGraphConfig) -> Dict[str, Any]:
   |                                                                         ^^^^
19 |     # 1. Validate Config
20 |     PrivacyGraphPolicy.validate(cfg)
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/privacy_graph/config.py:1:1
  |
1 | / from dataclasses import dataclass
2 | | from typing import Optional
  | |___________________________^
3 |
4 |   @dataclass(frozen=True)
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/privacy_graph/dp.py:1:1
  |
1 | / from __future__ import annotations
2 | | import random
3 | | from typing import List, Tuple, Dict
  | |____________________________________^
4 |
5 |   def cap_degree(edges: List[Tuple[str, str]], max_degree: int, seed: int = 0) -> List[Tuple[str, str]]:
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
 --> src/summit/privacy_graph/dp.py:5:23
  |
3 | from typing import List, Tuple, Dict
4 |
5 | def cap_degree(edges: List[Tuple[str, str]], max_degree: int, seed: int = 0) -> List[Tuple[str, str]]:
  |                       ^^^^
6 |     # Although seed is provided, this implementation is currently deterministic based on input order.
7 |     # We use random just to initialize if we needed to shuffle, but we don't shuffle to preserve stability.
  |
help: Replace with `list`

UP006 [*] Use `tuple` instead of `Tuple` for type annotation
 --> src/summit/privacy_graph/dp.py:5:28
  |
3 | from typing import List, Tuple, Dict
4 |
5 | def cap_degree(edges: List[Tuple[str, str]], max_degree: int, seed: int = 0) -> List[Tuple[str, str]]:
  |                            ^^^^^
6 |     # Although seed is provided, this implementation is currently deterministic based on input order.
7 |     # We use random just to initialize if we needed to shuffle, but we don't shuffle to preserve stability.
  |
help: Replace with `tuple`

UP006 [*] Use `list` instead of `List` for type annotation
 --> src/summit/privacy_graph/dp.py:5:81
  |
3 | from typing import List, Tuple, Dict
4 |
5 | def cap_degree(edges: List[Tuple[str, str]], max_degree: int, seed: int = 0) -> List[Tuple[str, str]]:
  |                                                                                 ^^^^
6 |     # Although seed is provided, this implementation is currently deterministic based on input order.
7 |     # We use random just to initialize if we needed to shuffle, but we don't shuffle to preserve stability.
  |
help: Replace with `list`

UP006 [*] Use `tuple` instead of `Tuple` for type annotation
 --> src/summit/privacy_graph/dp.py:5:86
  |
3 | from typing import List, Tuple, Dict
4 |
5 | def cap_degree(edges: List[Tuple[str, str]], max_degree: int, seed: int = 0) -> List[Tuple[str, str]]:
  |                                                                                      ^^^^^
6 |     # Although seed is provided, this implementation is currently deterministic based on input order.
7 |     # We use random just to initialize if we needed to shuffle, but we don't shuffle to preserve stability.
  |
help: Replace with `tuple`

UP006 [*] Use `list` instead of `List` for type annotation
  --> src/summit/privacy_graph/dp.py:11:10
   |
 9 |     # For now, strict first-k approach.
10 |
11 |     out: List[Tuple[str, str]] = []
   |          ^^^^
12 |     deg: Dict[str, int] = {}
   |
help: Replace with `list`

UP006 [*] Use `tuple` instead of `Tuple` for type annotation
  --> src/summit/privacy_graph/dp.py:11:15
   |
 9 |     # For now, strict first-k approach.
10 |
11 |     out: List[Tuple[str, str]] = []
   |               ^^^^^
12 |     deg: Dict[str, int] = {}
   |
help: Replace with `tuple`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/privacy_graph/dp.py:12:10
   |
11 |     out: List[Tuple[str, str]] = []
12 |     deg: Dict[str, int] = {}
   |          ^^^^
13 |
14 |     for (u, v) in edges:
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/privacy_graph/graph_builder.py:1:1
  |
1 | / from __future__ import annotations
2 | | from typing import List, Set, Tuple, Dict
3 | | from .types import GraphEvent, GraphFrame
  | |_________________________________________^
4 |
5 |   ALLOWED_FEATURE_KEYS = {"bytes", "packets", "duration_ms", "count"}
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
 --> src/summit/privacy_graph/graph_builder.py:7:25
  |
5 | ALLOWED_FEATURE_KEYS = {"bytes", "packets", "duration_ms", "count"}
6 |
7 | def build_graph(events: List[GraphEvent]) -> GraphFrame:
  |                         ^^^^
8 |     nodes: Set[str] = set()
9 |     edges: List[Tuple[str, str]] = []
  |
help: Replace with `list`

UP006 [*] Use `set` instead of `Set` for type annotation
  --> src/summit/privacy_graph/graph_builder.py:8:12
   |
 7 | def build_graph(events: List[GraphEvent]) -> GraphFrame:
 8 |     nodes: Set[str] = set()
   |            ^^^
 9 |     edges: List[Tuple[str, str]] = []
10 |     edge_features: List[Dict[str, float]] = []
   |
help: Replace with `set`

UP006 [*] Use `list` instead of `List` for type annotation
  --> src/summit/privacy_graph/graph_builder.py:9:12
   |
 7 | def build_graph(events: List[GraphEvent]) -> GraphFrame:
 8 |     nodes: Set[str] = set()
 9 |     edges: List[Tuple[str, str]] = []
   |            ^^^^
10 |     edge_features: List[Dict[str, float]] = []
   |
help: Replace with `list`

UP006 [*] Use `tuple` instead of `Tuple` for type annotation
  --> src/summit/privacy_graph/graph_builder.py:9:17
   |
 7 | def build_graph(events: List[GraphEvent]) -> GraphFrame:
 8 |     nodes: Set[str] = set()
 9 |     edges: List[Tuple[str, str]] = []
   |                 ^^^^^
10 |     edge_features: List[Dict[str, float]] = []
   |
help: Replace with `tuple`

UP006 [*] Use `list` instead of `List` for type annotation
  --> src/summit/privacy_graph/graph_builder.py:10:20
   |
 8 |     nodes: Set[str] = set()
 9 |     edges: List[Tuple[str, str]] = []
10 |     edge_features: List[Dict[str, float]] = []
   |                    ^^^^
11 |
12 |     for e in events:
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/privacy_graph/graph_builder.py:10:25
   |
 8 |     nodes: Set[str] = set()
 9 |     edges: List[Tuple[str, str]] = []
10 |     edge_features: List[Dict[str, float]] = []
   |                         ^^^^
11 |
12 |     for e in events:
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/privacy_graph/he_adapter.py:1:1
  |
1 | / from __future__ import annotations
2 | | from dataclasses import dataclass
3 | | from typing import Protocol, runtime_checkable
  | |______________________________________________^
4 |
5 |   @dataclass(frozen=True)
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/privacy_graph/policy.py:1:1
  |
1 | / from __future__ import annotations
2 | | from .config import PrivacyGraphConfig
  | |______________________________________^
3 |
4 |   class PrivacyGraphPolicyError(RuntimeError):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/privacy_graph/types.py:1:1
  |
1 | / from dataclasses import dataclass
2 | | from typing import Dict, List, Tuple
  | |____________________________________^
3 |
4 |   @dataclass(frozen=True)
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/privacy_graph/types.py:9:15
   |
 7 |     dst: str  # anonymized id
 8 |     ts_bucket: int  # e.g., minute bucket
 9 |     features: Dict[str, float]  # strictly numeric, allowlist enforced upstream
   |               ^^^^
10 |
11 | @dataclass(frozen=True)
   |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> src/summit/privacy_graph/types.py:13:12
   |
11 | @dataclass(frozen=True)
12 | class GraphFrame:
13 |     nodes: List[str]
   |            ^^^^
14 |     edges: List[Tuple[str, str]]
15 |     edge_features: List[Dict[str, float]]
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> src/summit/privacy_graph/types.py:14:12
   |
12 | class GraphFrame:
13 |     nodes: List[str]
14 |     edges: List[Tuple[str, str]]
   |            ^^^^
15 |     edge_features: List[Dict[str, float]]
   |
help: Replace with `list`

UP006 [*] Use `tuple` instead of `Tuple` for type annotation
  --> src/summit/privacy_graph/types.py:14:17
   |
12 | class GraphFrame:
13 |     nodes: List[str]
14 |     edges: List[Tuple[str, str]]
   |                 ^^^^^
15 |     edge_features: List[Dict[str, float]]
   |
help: Replace with `tuple`

UP006 [*] Use `list` instead of `List` for type annotation
  --> src/summit/privacy_graph/types.py:15:20
   |
13 |     nodes: List[str]
14 |     edges: List[Tuple[str, str]]
15 |     edge_features: List[Dict[str, float]]
   |                    ^^^^
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/privacy_graph/types.py:15:25
   |
13 |     nodes: List[str]
14 |     edges: List[Tuple[str, str]]
15 |     edge_features: List[Dict[str, float]]
   |                         ^^^^
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/psyche/evidence/writer.py:1:1
  |
1 | / import json
2 | | import os
3 | | import datetime
4 | | from typing import List, Dict, Any
5 | | import jsonschema
  | |_________________^
6 |
7 |   SCHEMA_DIR = os.path.join(os.path.dirname(__file__), "schemas")
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/psyche/evidence/writer.py:9:31
   |
 7 | SCHEMA_DIR = os.path.join(os.path.dirname(__file__), "schemas")
 8 |
 9 | def load_schema(name: str) -> Dict[str, Any]:
   |                               ^^^^
10 |     with open(os.path.join(SCHEMA_DIR, f"{name}.schema.json"), "r") as f:
11 |         return json.load(f)
   |
help: Replace with `dict`

UP015 [*] Unnecessary mode argument
  --> src/summit/psyche/evidence/writer.py:10:64
   |
 9 | def load_schema(name: str) -> Dict[str, Any]:
10 |     with open(os.path.join(SCHEMA_DIR, f"{name}.schema.json"), "r") as f:
   |                                                                ^^^
11 |         return json.load(f)
   |
help: Remove mode argument

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/psyche/evidence/writer.py:13:25
   |
11 |         return json.load(f)
12 |
13 | def validate_data(data: Dict[str, Any], schema_name: str):
   |                         ^^^^
14 |     schema = load_schema(schema_name)
15 |     jsonschema.validate(instance=data, schema=schema)
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/psyche/evidence/writer.py:22:34
   |
20 |         os.makedirs(output_dir, exist_ok=True)
21 |
22 |     def write_report(self, data: Dict[str, Any]):
   |                                  ^^^^
23 |         validate_data(data, "report")
24 |         self._write("report.json", data)
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/psyche/evidence/writer.py:26:35
   |
24 |         self._write("report.json", data)
25 |
26 |     def write_metrics(self, data: Dict[str, Any]):
   |                                   ^^^^
27 |         validate_data(data, "metrics")
28 |         self._write("metrics.json", data)
   |
help: Replace with `dict`

UP017 [*] Use `datetime.UTC` alias
  --> src/summit/psyche/evidence/writer.py:32:53
   |
30 |     def write_stamp(self):
31 |         # Use timezone-aware UTC
32 |         data = {"created_at": datetime.datetime.now(datetime.timezone.utc).isoformat().replace("+00:00", "Z")}
   |                                                     ^^^^^^^^^^^^^^^^^^^^^
33 |         validate_data(data, "stamp")
34 |         self._write("stamp.json", data)
   |
help: Convert to `datetime.UTC` alias

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/psyche/evidence/writer.py:36:33
   |
34 |         self._write("stamp.json", data)
35 |
36 |     def write_index(self, data: Dict[str, List[str]]):
   |                                 ^^^^
37 |         validate_data(data, "index")
38 |         self._write("index.json", data)
   |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> src/summit/psyche/evidence/writer.py:36:43
   |
34 |         self._write("stamp.json", data)
35 |
36 |     def write_index(self, data: Dict[str, List[str]]):
   |                                           ^^^^
37 |         validate_data(data, "index")
38 |         self._write("index.json", data)
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/psyche/evidence/writer.py:40:43
   |
38 |         self._write("index.json", data)
39 |
40 |     def _write(self, filename: str, data: Dict[str, Any]):
   |                                           ^^^^
41 |         with open(os.path.join(self.output_dir, filename), "w") as f:
42 |             json.dump(data, f, indent=2)
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/psyche/model.py:1:1
  |
1 | / from dataclasses import dataclass
2 | | from typing import Literal, Dict, Any, Optional
  | |_______________________________________________^
3 |
4 |   @dataclass
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/psyche/model.py:8:12
   |
 6 |     subject_scope: Literal["document", "cohort", "community"]
 7 |     signal_type: Literal["moral_foundations", "emotional_climate", "personality_proxy"]
 8 |     value: Dict[str, Any]
   |            ^^^^
 9 |     uncertainty: Dict[str, Any]
10 |     provenance: Dict[str, Any]
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/psyche/model.py:9:18
   |
 7 |     signal_type: Literal["moral_foundations", "emotional_climate", "personality_proxy"]
 8 |     value: Dict[str, Any]
 9 |     uncertainty: Dict[str, Any]
   |                  ^^^^
10 |     provenance: Dict[str, Any]
11 |     policy: Dict[str, Any]
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/psyche/model.py:10:17
   |
 8 |     value: Dict[str, Any]
 9 |     uncertainty: Dict[str, Any]
10 |     provenance: Dict[str, Any]
   |                 ^^^^
11 |     policy: Dict[str, Any]
12 |     pii_status: bool = False # Confirmed scrubbed
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/psyche/model.py:11:13
   |
 9 |     uncertainty: Dict[str, Any]
10 |     provenance: Dict[str, Any]
11 |     policy: Dict[str, Any]
   |             ^^^^
12 |     pii_status: bool = False # Confirmed scrubbed
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/psyche/policy.py:1:1
  |
1 | / from dataclasses import dataclass
2 | | from typing import Literal, Optional, Dict, Any, List
  | |_____________________________________________________^
3 |
4 |   AllowedPurpose = Literal["situational_awareness", "research_eval", "redteam_defense"]
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/psyche/policy.py:17:47
   |
15 |     pass
16 |
17 | def enforce_policy(ctx: PolicyContext, flags: Dict[str, Any]) -> None:
   |                                               ^^^^
18 |     """
19 |     Deny-by-default psychographic policy gate.
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> src/summit/psyche/redaction.py:1:1
  |
1 | from typing import Tuple, Dict, Any, List
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | def scrub_pii(text: str) -> Tuple[str, Dict[str, Any]]:
  |
help: Organize imports

UP006 [*] Use `tuple` instead of `Tuple` for type annotation
 --> src/summit/psyche/redaction.py:3:29
  |
1 | from typing import Tuple, Dict, Any, List
2 |
3 | def scrub_pii(text: str) -> Tuple[str, Dict[str, Any]]:
  |                             ^^^^^
4 |     """
5 |     Scrub PII from text.
  |
help: Replace with `tuple`

UP006 [*] Use `dict` instead of `Dict` for type annotation
 --> src/summit/psyche/redaction.py:3:40
  |
1 | from typing import Tuple, Dict, Any, List
2 |
3 | def scrub_pii(text: str) -> Tuple[str, Dict[str, Any]]:
  |                                        ^^^^
4 |     """
5 |     Scrub PII from text.
  |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> src/summit/psyche/redaction.py:19:46
   |
17 |     return text, redaction_report
18 |
19 | def assert_no_pii_in_evidence(evidence_data: Dict[str, Any]) -> None:
   |                                              ^^^^
20 |     """
21 |     Recursively check evidence data for PII keys or patterns.
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/agents/sandbox.py:1:1
  |
1 | import os
  | ^^^^^^^^^
2 |
3 | class SandboxDeny(Exception):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> summit/chat_gateway/connectors/mock.py:1:1
  |
1 | / from typing import Dict, Any, List, Optional
2 | | from summit.chat_gateway.interface import ChatConnector
  | |_______________________________________________________^
3 |
4 |   class MockConnector(ChatConnector):
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
 --> summit/chat_gateway/connectors/mock.py:5:34
  |
4 | class MockConnector(ChatConnector):
5 |     def __init__(self, incoming: List[Dict[str, Any]] = None):
  |                                  ^^^^
6 |         self.incoming = incoming or []
7 |         self.outgoing = []
  |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
 --> summit/chat_gateway/connectors/mock.py:5:39
  |
4 | class MockConnector(ChatConnector):
5 |     def __init__(self, incoming: List[Dict[str, Any]] = None):
  |                                       ^^^^
6 |         self.incoming = incoming or []
7 |         self.outgoing = []
  |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/chat_gateway/connectors/mock.py:9:35
   |
 7 |         self.outgoing = []
 8 |
 9 |     def receive(self) -> Optional[Dict[str, Any]]:
   |                                   ^^^^
10 |         if not self.incoming:
11 |             return None
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/chat_gateway/interface.py:1:1
  |
1 | from typing import Protocol, Dict, Any, Optional
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | class ChatConnector(Protocol):
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
 --> summit/chat_gateway/interface.py:4:35
  |
3 | class ChatConnector(Protocol):
4 |     def receive(self) -> Optional[Dict[str, Any]]:
  |                                   ^^^^
5 |         """Receive message from channel."""
6 |         ...
  |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/eval/robustness_influence.py:1:1
  |
1 | / import random
2 | | import json
3 | | import os
4 | | from typing import Dict, List, Any
  | |__________________________________^
5 |
6 |   # Mock implementation of robustness perturbations for influence graphs
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/eval/robustness_influence.py:8:35
   |
 6 | # Mock implementation of robustness perturbations for influence graphs
 7 |
 8 | def perturb_edge_injection(graph: Dict[str, Any], injection_rate: float = 0.05) -> Dict[str, Any]:
   |                                   ^^^^
 9 |     """Injects random edges to simulate noise/attack."""
10 |     # This is a stub/mock logic since we don't have a real graph library here yet.
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/eval/robustness_influence.py:8:84
   |
 6 | # Mock implementation of robustness perturbations for influence graphs
 7 |
 8 | def perturb_edge_injection(graph: Dict[str, Any], injection_rate: float = 0.05) -> Dict[str, Any]:
   |                                                                                    ^^^^
 9 |     """Injects random edges to simulate noise/attack."""
10 |     # This is a stub/mock logic since we don't have a real graph library here yet.
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/eval/robustness_influence.py:21:33
   |
19 |     return new_graph
20 |
21 | def perturb_sybil_attack(graph: Dict[str, Any], sybil_count: int = 5) -> Dict[str, Any]:
   |                                 ^^^^
22 |     """Adds a clique of sybil nodes."""
23 |     new_graph = graph.copy()
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/eval/robustness_influence.py:21:74
   |
19 |     return new_graph
20 |
21 | def perturb_sybil_attack(graph: Dict[str, Any], sybil_count: int = 5) -> Dict[str, Any]:
   |                                                                          ^^^^
22 |     """Adds a clique of sybil nodes."""
23 |     new_graph = graph.copy()
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/eval/robustness_influence.py:39:33
   |
37 |     return new_graph
38 |
39 | def run_robustness_suite(graph: Dict[str, Any], evidence_path: str = "evidence/EVD-INFLUENCEGNN-CAMPAIGN-001") -> None:
   |                                 ^^^^
40 |     # Run perturbations
41 |     g_injected = perturb_edge_injection(graph)
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/federation/audit.py:1:1
  |
1 | / import json
2 | | import os
3 | | from datetime import datetime
4 | | from typing import Any, Dict, List
5 | | from .protocol import ParticipantUpdate
  | |_______________________________________^
6 |
7 |   # For simulation/mocking evidence writing
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/federation/audit.py:8:54
   |
 7 | # For simulation/mocking evidence writing
 8 | def emit_federation_evidence(round_id: str, updates: List[Dict[str, Any]], evidence_path: str = "evidence/EVD-INFLUENCEGNN-FED-001") -â€¦
   |                                                      ^^^^
 9 |     # In a real system, this would write to the file system
10 |     # complying with evidence schemas.
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/federation/audit.py:8:59
   |
 7 | # For simulation/mocking evidence writing
 8 | def emit_federation_evidence(round_id: str, updates: List[Dict[str, Any]], evidence_path: str = "evidence/EVD-INFLUENCEGNN-FED-001") -â€¦
   |                                                           ^^^^
 9 |     # In a real system, this would write to the file system
10 |     # complying with evidence schemas.
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/federation/protocol.py:1:1
  |
1 | / from dataclasses import dataclass
2 | | from typing import Any, Dict, List, Optional
3 | | from enum import Enum
  | |_____________________^
4 |
5 |   class PrivacyMechanism(Enum):
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/federation/protocol.py:18:17
   |
16 |     update_hash: str
17 |     privacy_mechanism: PrivacyMechanism
18 |     governance: Dict[str, Any]
   |                 ^^^^
19 |     metrics: Dict[str, float]
20 |     # Payload is intentionally excluded from the contract object for audit purposes
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/federation/protocol.py:19:14
   |
17 |     privacy_mechanism: PrivacyMechanism
18 |     governance: Dict[str, Any]
19 |     metrics: Dict[str, float]
   |              ^^^^
20 |     # Payload is intentionally excluded from the contract object for audit purposes
21 |     # It would be handled by a separate transport layer
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/federation/protocol.py:26:13
   |
24 | class FederatedRound:
25 |     round_id: str
26 |     config: Dict[str, Any]
   |             ^^^^
27 |     participants: List[str]
   |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/federation/protocol.py:27:19
   |
25 |     round_id: str
26 |     config: Dict[str, Any]
27 |     participants: List[str]
   |                   ^^^^
   |
help: Replace with `list`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/federation/validators.py:1:1
  |
1 | / from typing import Any, Dict
2 | | from .protocol import PrivacyMechanism
  | |______________________________________^
3 |
4 |   def validate_update(data: Dict[str, Any]) -> None:
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
 --> summit/federation/validators.py:4:27
  |
2 | from .protocol import PrivacyMechanism
3 |
4 | def validate_update(data: Dict[str, Any]) -> None:
  |                           ^^^^
5 |     # Check for raw gradients/payloads (fail safe) - Check this FIRST
6 |     if "weights" in data or "gradients" in data or "payload" in data:
  |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/flags.py:1:1
  |
1 | import os
  | ^^^^^^^^^
2 |
3 | def is_feature_enabled(name: str, default: bool = False) -> bool:
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> summit/governance/audit.py:1:1
  |
1 | / from __future__ import annotations
2 | | import json
3 | | import os
4 | | from dataclasses import dataclass, asdict
5 | | from pathlib import Path
6 | | from typing import Any, Dict, Optional, List
  | |____________________________________________^
7 |
8 |   @dataclass(frozen=True)
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/governance/audit.py:14:15
   |
12 |     action: str
13 |     decision: str  # "allow" | "deny" | "needs_approval"
14 |     metadata: Dict[str, Any]
   |               ^^^^
15 |     evidence_id: Optional[str] = None
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/governance/audit.py:19:18
   |
17 | NEVER_LOG = ["password", "secret", "token", "api_key", "pii", "phi"]
18 |
19 | def redact(data: Dict[str, Any]) -> Dict[str, Any]:
   |                  ^^^^
20 |     """Simple recursive redaction for sensitive fields."""
21 |     redacted = {}
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/governance/audit.py:19:37
   |
17 | NEVER_LOG = ["password", "secret", "token", "api_key", "pii", "phi"]
18 |
19 | def redact(data: Dict[str, Any]) -> Dict[str, Any]:
   |                                     ^^^^
20 |     """Simple recursive redaction for sensitive fields."""
21 |     redacted = {}
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/graph/gnn/campaign_scorer.py:1:1
  |
1 | / import os
2 | | import json
3 | | from typing import List, Dict, Any, Optional
4 | | from dataclasses import dataclass
  | |_________________________________^
5 |
6 |   # Feature flags
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/graph/gnn/campaign_scorer.py:18:30
   |
17 | class CampaignExtractor:
18 |     def extract(self, graph: Dict[str, Any], window: Dict[str, str]) -> List[Any]:
   |                              ^^^^
19 |         # returns list of CampaignSubgraph (stub)
20 |         if not SUMMIT_CAMPAIGNS_ENABLE:
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/graph/gnn/campaign_scorer.py:18:54
   |
17 | class CampaignExtractor:
18 |     def extract(self, graph: Dict[str, Any], window: Dict[str, str]) -> List[Any]:
   |                                                      ^^^^
19 |         # returns list of CampaignSubgraph (stub)
20 |         if not SUMMIT_CAMPAIGNS_ENABLE:
   |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/graph/gnn/campaign_scorer.py:18:73
   |
17 | class CampaignExtractor:
18 |     def extract(self, graph: Dict[str, Any], window: Dict[str, str]) -> List[Any]:
   |                                                                         ^^^^
19 |         # returns list of CampaignSubgraph (stub)
20 |         if not SUMMIT_CAMPAIGNS_ENABLE:
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/graph/gnn/campaign_scorer.py:26:32
   |
25 | class CampaignScorer:
26 |     def score(self, campaigns: List[Any], model_path: Optional[str] = None) -> List[CampaignScore]:
   |                                ^^^^
27 |         if not SUMMIT_CAMPAIGNS_ENABLE:
28 |              return []
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/graph/gnn/campaign_scorer.py:26:80
   |
25 | class CampaignScorer:
26 |     def score(self, campaigns: List[Any], model_path: Optional[str] = None) -> List[CampaignScore]:
   |                                                                                ^^^^
27 |         if not SUMMIT_CAMPAIGNS_ENABLE:
28 |              return []
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/graph/gnn/campaign_scorer.py:47:66
   |
46 | class CampaignExplainer:
47 |     def explain(self, campaign_id: str, score: CampaignScore) -> Dict[str, Any]:
   |                                                                  ^^^^
48 |         if not SUMMIT_CAMPAIGNS_ENABLE:
49 |              return {}
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/influence/campaigns/model.py:1:1
  |
1 | / from dataclasses import dataclass
2 | | from typing import Any, Dict, List, Optional
  | |____________________________________________^
3 |
4 |   @dataclass(frozen=True)
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
 --> summit/influence/campaigns/model.py:7:18
  |
5 | class CampaignSubgraph:
6 |     campaign_id: str
7 |     time_window: Dict[str, str]  # {start_iso, end_iso}
  |                  ^^^^
8 |     root_entities: List[str]
9 |     subgraph_ref: Dict[str, Any]  # pointer into Summit graph store
  |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/influence/campaigns/model.py:8:20
   |
 6 |     campaign_id: str
 7 |     time_window: Dict[str, str]  # {start_iso, end_iso}
 8 |     root_entities: List[str]
   |                    ^^^^
 9 |     subgraph_ref: Dict[str, Any]  # pointer into Summit graph store
10 |     features: Dict[str, float]
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/influence/campaigns/model.py:9:19
   |
 7 |     time_window: Dict[str, str]  # {start_iso, end_iso}
 8 |     root_entities: List[str]
 9 |     subgraph_ref: Dict[str, Any]  # pointer into Summit graph store
   |                   ^^^^
10 |     features: Dict[str, float]
11 |     governance: Dict[str, Any] # classification, retention_ttl_days, provenance
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/influence/campaigns/model.py:10:15
   |
 8 |     root_entities: List[str]
 9 |     subgraph_ref: Dict[str, Any]  # pointer into Summit graph store
10 |     features: Dict[str, float]
   |               ^^^^
11 |     governance: Dict[str, Any] # classification, retention_ttl_days, provenance
12 |     labels: Optional[Dict[str, Any]] = None
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/influence/campaigns/model.py:11:17
   |
 9 |     subgraph_ref: Dict[str, Any]  # pointer into Summit graph store
10 |     features: Dict[str, float]
11 |     governance: Dict[str, Any] # classification, retention_ttl_days, provenance
   |                 ^^^^
12 |     labels: Optional[Dict[str, Any]] = None
13 |     explanation_id: Optional[str] = None  # EVD- pointer
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/influence/campaigns/model.py:12:22
   |
10 |     features: Dict[str, float]
11 |     governance: Dict[str, Any] # classification, retention_ttl_days, provenance
12 |     labels: Optional[Dict[str, Any]] = None
   |                      ^^^^
13 |     explanation_id: Optional[str] = None  # EVD- pointer
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/influence/campaigns/validators.py:1:1
  |
1 | from typing import Any, Dict
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | def validate_campaign(data: Dict[str, Any]) -> None:
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
 --> summit/influence/campaigns/validators.py:3:29
  |
1 | from typing import Any, Dict
2 |
3 | def validate_campaign(data: Dict[str, Any]) -> None:
  |                             ^^^^
4 |     required_fields = {
5 |         "campaign_id", "time_window", "root_entities",
  |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/memory/ledger.py:1:1
  |
1 | / import json
2 | | from pathlib import Path
3 | | from typing import Dict, Any
  | |____________________________^
4 |
5 |   class MemoryLedger:
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/memory/ledger.py:9:29
   |
 7 |         self.path = path
 8 |
 9 |     def append(self, event: Dict[str, Any]):
   |                             ^^^^
10 |         # Redaction hook (simplified)
11 |         safe_event = self._redact(event)
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/memory/ledger.py:15:30
   |
13 |             f.write(json.dumps(safe_event) + "\n")
14 |
15 |     def _redact(self, event: Dict[str, Any]) -> Dict[str, Any]:
   |                              ^^^^
16 |         # Shallow redaction for now
17 |         safe = event.copy()
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/memory/ledger.py:15:49
   |
13 |             f.write(json.dumps(safe_event) + "\n")
14 |
15 |     def _redact(self, event: Dict[str, Any]) -> Dict[str, Any]:
   |                                                 ^^^^
16 |         # Shallow redaction for now
17 |         safe = event.copy()
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/memory/retention.py:1:1
  |
1 | / from pathlib import Path
2 | | import time
3 | | import os
  | |_________^
4 |
5 |   class RetentionPolicy:
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> summit/persona/loader.py:1:1
  |
1 | / from pathlib import Path
2 | | from summit import flags
  | |________________________^
3 |
4 |   DEFAULT_SOUL = Path(__file__).parent / "defaults" / "Soul.md"
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> summit/policy/engine.py:1:1
  |
1 | / from __future__ import annotations
2 | | from dataclasses import dataclass
3 | | from typing import Dict, List, Protocol
4 | | from summit.protocols.envelope import SummitEnvelope
  | |____________________________________________________^
5 |
6 |   @dataclass(frozen=True)
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/policy/engine.py:9:12
   |
 7 | class PolicyDecision:
 8 |   allowed: bool
 9 |   reasons: List[str]
   |            ^^^^
10 |
11 | class PolicyRule(Protocol):
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/policy/engine.py:12:45
   |
11 | class PolicyRule(Protocol):
12 |     def check(self, env: SummitEnvelope) -> List[str]:
   |                                             ^^^^
13 |         ...
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/policy/engine.py:20:44
   |
18 |   Allow requires explicit (agent, tool) allowlist + data-classification constraints.
19 |   """
20 |   def __init__(self, allow_tools_by_agent: Dict[str, List[str]], rules: List[PolicyRule] = None):
   |                                            ^^^^
21 |     self._allow = allow_tools_by_agent
22 |     self._rules = rules or []
   |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/policy/engine.py:20:54
   |
18 |   Allow requires explicit (agent, tool) allowlist + data-classification constraints.
19 |   """
20 |   def __init__(self, allow_tools_by_agent: Dict[str, List[str]], rules: List[PolicyRule] = None):
   |                                                      ^^^^
21 |     self._allow = allow_tools_by_agent
22 |     self._rules = rules or []
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/policy/engine.py:20:73
   |
18 |   Allow requires explicit (agent, tool) allowlist + data-classification constraints.
19 |   """
20 |   def __init__(self, allow_tools_by_agent: Dict[str, List[str]], rules: List[PolicyRule] = None):
   |                                                                         ^^^^
21 |     self._allow = allow_tools_by_agent
22 |     self._rules = rules or []
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/policy/engine.py:25:14
   |
24 |   def evaluate(self, env: SummitEnvelope) -> PolicyDecision:
25 |     reasons: List[str] = []
   |              ^^^^
26 |     allowed_tools = set(self._allow.get(env.sender, []))
27 |     for tc in env.tool_calls:
   |
help: Replace with `list`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/policy/rules/prompt_injection.py:1:1
  |
1 | / from typing import List
2 | | from summit.protocols.envelope import SummitEnvelope
  | |____________________________________________________^
3 |
4 |   class PromptInjectionRule:
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
 --> summit/policy/rules/prompt_injection.py:5:45
  |
4 | class PromptInjectionRule:
5 |     def check(self, env: SummitEnvelope) -> List[str]:
  |                                             ^^^^
6 |         reasons = []
7 |         # Basic check: if provenance is untrusted and content looks suspicious
  |
help: Replace with `list`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/policy/rules/tool_risk.py:1:1
  |
1 | / from typing import List
2 | | from summit.protocols.envelope import SummitEnvelope
3 | | from summit.tools.risk import get_tool_risk, ToolRisk
  | |_____________________________________________________^
4 |
5 |   class HighRiskToolRule:
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
 --> summit/policy/rules/tool_risk.py:6:45
  |
5 | class HighRiskToolRule:
6 |     def check(self, env: SummitEnvelope) -> List[str]:
  |                                             ^^^^
7 |         reasons = []
8 |         for tc in env.tool_calls:
  |
help: Replace with `list`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/precision/detectors.py:1:1
  |
1 | / from __future__ import annotations
2 | | from dataclasses import dataclass
3 | | from typing import Dict, Any
  | |____________________________^
4 |
5 |   @dataclass
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/precision/detectors.py:11:42
   |
 9 |     violations: int = 0
10 |
11 | def compute_mismatch_metrics(train_vals: Dict[str, Any], rollout_vals: Dict[str, Any]) -> MismatchReport:
   |                                          ^^^^
12 |     # TODO: wire real tensors; keep API stable.
13 |     return MismatchReport()
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/precision/detectors.py:11:72
   |
 9 |     violations: int = 0
10 |
11 | def compute_mismatch_metrics(train_vals: Dict[str, Any], rollout_vals: Dict[str, Any]) -> MismatchReport:
   |                                                                        ^^^^
12 |     # TODO: wire real tensors; keep API stable.
13 |     return MismatchReport()
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/precision/detectors.py:15:29
   |
13 |     return MismatchReport()
14 |
15 | def collapse_alarm(metrics: Dict[str, Any]) -> bool:
   |                             ^^^^
16 |     # TODO: implement reward/kl/nan heuristics
17 |     return False
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/precision/policy.py:1:1
  |
1 | / from __future__ import annotations
2 | | from dataclasses import dataclass, field
3 | | from typing import Literal, Optional, Dict, Any, List
  | |_____________________________________________________^
4 |
5 |   PrecisionMode = Literal["bf16", "fp8_unified", "mixed_legacy"]
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/precision/policy.py:13:28
   |
11 |     amax_history: int = 16
12 |     scale_method: str = "dynamic"  # TODO: define allowed values
13 |     allow_calibration_ops: List[str] = field(default_factory=list)  # deny-by-default
   |                            ^^^^
14 |
15 | @dataclass(frozen=True)
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/precision/policy.py:26:25
   |
24 |     enforcement: EnforcementConfig = field(default_factory=EnforcementConfig)
25 |
26 | def policy_from_dict(d: Dict[str, Any]) -> PrecisionFlowPolicy:
   |                         ^^^^
27 |     # Minimal parser; keep blast radius small.
28 |     mode = d.get("mode", "bf16")
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/protocols/adapter.py:1:1
  |
1 | / from __future__ import annotations
2 | | from abc import ABC, abstractmethod
3 | | from .envelope import SummitEnvelope
  | |____________________________________^
4 |
5 |   class ProtocolAdapter(ABC):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> summit/protocols/envelope.py:1:1
  |
1 | / from __future__ import annotations
2 | | from dataclasses import dataclass, field
3 | | from typing import Any, Dict, List, Literal, Optional
  | |_____________________________________________________^
4 |
5 |   Intent = Literal["REQUEST", "INFORM", "DELEGATE", "RESULT", "ERROR"]
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/protocols/envelope.py:10:14
   |
 8 | class ToolCall:
 9 |   name: str
10 |   arguments: Dict[str, Any]
   |              ^^^^
11 |
12 | @dataclass(frozen=True)
   |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/protocols/envelope.py:20:15
   |
18 |   intent: Intent
19 |   text: str = ""
20 |   tool_calls: List[ToolCall] = field(default_factory=list)
   |               ^^^^
21 |   explanations: List[str] = field(default_factory=list)
22 |   security: Dict[str, Any] = field(default_factory=dict)
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/protocols/envelope.py:21:17
   |
19 |   text: str = ""
20 |   tool_calls: List[ToolCall] = field(default_factory=list)
21 |   explanations: List[str] = field(default_factory=list)
   |                 ^^^^
22 |   security: Dict[str, Any] = field(default_factory=dict)
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/protocols/envelope.py:22:13
   |
20 |   tool_calls: List[ToolCall] = field(default_factory=list)
21 |   explanations: List[str] = field(default_factory=list)
22 |   security: Dict[str, Any] = field(default_factory=dict)
   |             ^^^^
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/protocols/loopback.py:1:1
  |
1 | / import json
2 | | from .adapter import ProtocolAdapter
3 | | from .envelope import SummitEnvelope, ToolCall
  | |______________________________________________^
4 |
5 |   class LoopbackAdapter(ProtocolAdapter):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> summit/registry/model.py:1:1
  |
1 | / from dataclasses import dataclass
2 | | from typing import Dict, List, Optional
  | |_______________________________________^
3 |
4 |   @dataclass(frozen=True)
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/registry/model.py:9:17
   |
 7 |   version: str
 8 |   description: str
 9 |   input_schema: Dict
   |                 ^^^^
10 |   output_schema: Dict
11 |   constraints: Dict
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/registry/model.py:10:18
   |
 8 |   description: str
 9 |   input_schema: Dict
10 |   output_schema: Dict
   |                  ^^^^
11 |   constraints: Dict
12 |   trust: Dict
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/registry/model.py:11:16
   |
 9 |   input_schema: Dict
10 |   output_schema: Dict
11 |   constraints: Dict
   |                ^^^^
12 |   trust: Dict
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit/registry/model.py:12:10
   |
10 |   output_schema: Dict
11 |   constraints: Dict
12 |   trust: Dict
   |          ^^^^
13 |
14 | @dataclass(frozen=True)
   |
help: Replace with `dict`

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit/registry/model.py:17:17
   |
15 | class RegistryDocument:
16 |   version: str
17 |   capabilities: List[Capability]
   |                 ^^^^
18 |   signature: Optional[str] = None  # placeholder for cosign/DSSE integration
   |
help: Replace with `list`

I001 [*] Import block is un-sorted or un-formatted
 --> summit/registry/store.py:1:1
  |
1 | / import json
2 | | from .model import RegistryDocument, Capability
  | |_______________________________________________^
3 |
4 |   def load_registry(path: str) -> RegistryDocument:
  |
help: Organize imports

UP015 [*] Unnecessary mode argument
 --> summit/registry/store.py:5:19
  |
4 | def load_registry(path: str) -> RegistryDocument:
5 |   with open(path, "r", encoding="utf-8") as f:
  |                   ^^^
6 |     obj = json.loads(f.read())
7 |   caps = [Capability(**c) for c in obj.get("capabilities", [])]
  |
help: Remove mode argument

I001 [*] Import block is un-sorted or un-formatted
 --> summit/rollout/entrypoint.py:1:1
  |
1 | from summit.precision import policy_from_dict
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | def run_rollout(cfg: dict):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> summit/runtime/budget.py:1:1
  |
1 | / from dataclasses import dataclass
2 | | from typing import Optional
  | |___________________________^
3 |
4 |   @dataclass
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> summit/runtime/loop_detector.py:1:1
  |
1 | / from typing import Any
2 | | from collections import deque
  | |_____________________________^
3 |
4 |   class LoopDetector:
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> summit/skillforge/cli.py:1:1
  |
1 | / import argparse
2 | | from .config import SkillForgeConfig
  | |____________________________________^
3 |
4 |   def build_parser() -> argparse.ArgumentParser:
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> summit/skillforge/config.py:1:1
  |
1 | from dataclasses import dataclass
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | @dataclass(frozen=True)
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> summit/tools/risk.py:1:1
  |
1 | from enum import Enum, auto
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | class ToolRisk(Enum):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> summit/train/entrypoint.py:1:1
  |
1 | from summit.precision import policy_from_dict
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | def run_train(cfg: dict):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> summit_misinfo/ead.py:1:1
   |
 1 | / from __future__ import annotations
 2 | | from collections import defaultdict, deque
 3 | | from dataclasses import dataclass
 4 | | from typing import Deque, Dict, Optional
 5 | | import os
 6 | |
 7 | | from .signals import StreamEvent
 8 | | from .scoring import Score
   | |__________________________^
 9 |
10 |   EVD = "EVD-AIDISINFO25-EAD-001"
   |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit_misinfo/ead.py:15:18
   |
13 | class EADState:
14 |     window_ms: int = 5 * 60 * 1000
15 |     per_content: Dict[str, Deque[int]] = None
   |                  ^^^^
16 |     def __post_init__(self):
17 |         if self.per_content is None:
   |
help: Replace with `dict`

UP006 [*] Use `collections.deque` instead of `Deque` for type annotation
  --> summit_misinfo/ead.py:15:28
   |
13 | class EADState:
14 |     window_ms: int = 5 * 60 * 1000
15 |     per_content: Dict[str, Deque[int]] = None
   |                            ^^^^^
16 |     def __post_init__(self):
17 |         if self.per_content is None:
   |
help: Replace with `collections.deque`

I001 [*] Import block is un-sorted or un-formatted
 --> summit_misinfo/governance/transparency.py:1:1
  |
1 | / from __future__ import annotations
2 | | import json
3 | | from dataclasses import dataclass, asdict
4 | | from typing import Optional, Dict, Any, List
  | |____________________________________________^
5 |
6 |   @dataclass
  |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit_misinfo/governance/transparency.py:10:24
   |
 8 |     run_id: str
 9 |     item_slug: str
10 |     detector_versions: Dict[str, str]
   |                        ^^^^
11 |     thresholds: Dict[str, Any]
12 |     false_positive_policy: str
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit_misinfo/governance/transparency.py:11:17
   |
 9 |     item_slug: str
10 |     detector_versions: Dict[str, str]
11 |     thresholds: Dict[str, Any]
   |                 ^^^^
12 |     false_positive_policy: str
13 |     appeal_url: str
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit_misinfo/governance/transparency.py:19:24
   |
17 |     run_id: str,
18 |     item_slug: str,
19 |     detector_versions: Dict[str, str],
   |                        ^^^^
20 |     thresholds: Dict[str, Any]
21 | ) -> str: # returns JSON string
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> summit_misinfo/governance/transparency.py:20:17
   |
18 |     item_slug: str,
19 |     detector_versions: Dict[str, str],
20 |     thresholds: Dict[str, Any]
   |                 ^^^^
21 | ) -> str: # returns JSON string
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> summit_misinfo/provenance/interface.py:1:1
  |
1 | / from __future__ import annotations
2 | | from dataclasses import dataclass
3 | | from typing import Protocol, Optional
4 | | import os
  | |_________^
5 |
6 |   @dataclass
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> summit_misinfo/scoring.py:1:1
  |
1 | / from __future__ import annotations
2 | | from dataclasses import dataclass
3 | | from typing import Callable, List
4 | | import os
5 | | from .signals import StreamEvent
  | |________________________________^
6 |
7 |   @dataclass(frozen=True)
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit_misinfo/scoring.py:10:14
   |
 8 | class Score:
 9 |     risk_score: float
10 |     reasons: List[str]
   |              ^^^^
11 |     evd_ids: List[str]
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> summit_misinfo/scoring.py:11:14
   |
 9 |     risk_score: float
10 |     reasons: List[str]
11 |     evd_ids: List[str]
   |              ^^^^
12 |
13 | Detector = Callable[[StreamEvent], Score]
   |
help: Replace with `list`

I001 [*] Import block is un-sorted or un-formatted
 --> summit_misinfo/signals.py:1:1
  |
1 | / from __future__ import annotations
2 | | from dataclasses import dataclass
3 | | from typing import Literal, Optional
  | |____________________________________^
4 |
5 |   EventType = Literal["post", "reshare", "reply", "mention"]
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/chat_gateway/test_provenance_labels.py:1:1
  |
1 | from summit.chat_gateway.connectors.mock import MockConnector
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | def test_mock_applies_untrusted_provenance_by_default():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/memory/test_no_secrets_written.py:1:1
  |
1 | from summit.memory.ledger import MemoryLedger
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | def test_secrets_redacted(tmp_path):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/memory/test_retention_policy.py:1:1
  |
1 | / import time
2 | | import os
3 | | from summit.memory.retention import RetentionPolicy
  | |___________________________________________________^
4 |
5 |   def test_retention_archives_old_file(tmp_path):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/persona/test_soul_md_applied.py:1:1
  |
1 | / import pytest
2 | | from unittest import mock
3 | | from summit.persona.loader import load_persona
4 | | from pathlib import Path
  | |________________________^
5 |
6 |   def test_persona_disabled_by_default():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/policy/test_deny_by_default.py:1:1
  |
1 | / from summit.policy.engine import PolicyEngine
2 | | from summit.protocols.envelope import SummitEnvelope, ToolCall
  | |______________________________________________________________^
3 |
4 |   def test_denies_unlisted_tool():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/policy/test_prompt_injection.py:1:1
  |
1 | / import json
2 | | import pytest
3 | | from pathlib import Path
4 | | from summit.policy.engine import PolicyEngine
5 | | from summit.policy.rules.prompt_injection import PromptInjectionRule
6 | | from summit.protocols.envelope import SummitEnvelope, ToolCall
  | |______________________________________________________________^
7 |
8 |   FIXTURES_DIR = Path(__file__).parent / "fixtures" / "prompt_injection"
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/privacy_graph/test_backend_selection.py:1:1
  |
1 | / import pytest
2 | | from summit.privacy_graph.config import PrivacyGraphConfig
3 | | from summit.privacy_graph.analytics import run_analytics
4 | | from summit.privacy_graph.types import GraphEvent
  | |_________________________________________________^
5 |
6 |   def test_runs_plaintext_backend():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/privacy_graph/test_degree_cap.py:1:1
  |
1 | / import pytest
2 | | from summit.privacy_graph.dp import cap_degree, gaussian_noise
  | |______________________________________________________________^
3 |
4 |   def test_cap_degree_limits_neighbors():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/privacy_graph/test_gate_fixtures.py:1:1
  |
1 | / import pytest
2 | | from pathlib import Path
3 | | import subprocess
4 | | import sys
  | |__________^
5 |
6 |   # Assume we run pytest from repo root
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/privacy_graph/test_graph_builder_pii_safe.py:1:1
  |
1 | / import pytest
2 | | from summit.privacy_graph.types import GraphEvent
3 | | from summit.privacy_graph.graph_builder import build_graph
  | |__________________________________________________________^
4 |
5 |   def test_filters_unsafe_features():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/privacy_graph/test_policy_denies_by_default.py:1:1
  |
1 | / import pytest
2 | | from summit.privacy_graph.config import PrivacyGraphConfig
3 | | from summit.privacy_graph.policy import PrivacyGraphPolicy, PrivacyGraphPolicyError
  | |___________________________________________________________________________________^
4 |
5 |   def test_denies_by_default():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/protocols/test_loopback.py:1:1
  |
1 | / from summit.protocols.envelope import SummitEnvelope, ToolCall
2 | | from summit.protocols.loopback import LoopbackAdapter
  | |_____________________________________________________^
3 |
4 |   def test_loopback_roundtrip():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/psyche/test_evidence_schemas.py:1:1
  |
1 | / import os
2 | | import shutil
3 | | import tempfile
4 | | import pytest
5 | | from summit.psyche.evidence.writer import EvidenceWriter
6 | | import jsonschema
  | |_________________^
7 |
8 |   def test_evidence_writer_creates_valid_bundle():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/psyche/test_model_schema.py:1:1
  |
1 | / import json
2 | | import os
3 | | import pytest
4 | | import jsonschema
5 | | from dataclasses import asdict
6 | | from summit.psyche.model import PsychographicSignal
  | |___________________________________________________^
7 |
8 |   # Helper to load schema
  |
help: Organize imports

UP015 [*] Unnecessary mode argument
  --> tests/psyche/test_model_schema.py:11:21
   |
 9 | def load_signal_schema():
10 |     path = "src/summit/psyche/schemas/psychographic_signal.schema.json"
11 |     with open(path, "r") as f:
   |                     ^^^
12 |         return json.load(f)
   |
help: Remove mode argument

I001 [*] Import block is un-sorted or un-formatted
 --> tests/psyche/test_policy_gate.py:1:1
  |
1 | / import pytest
2 | | from summit.psyche.policy import enforce_policy, PolicyContext, PolicyDenied
  | |____________________________________________________________________________^
3 |
4 |   def test_policy_denies_disabled():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/psyche/test_redaction_contract.py:1:1
  |
1 | / import pytest
2 | | from summit.psyche.redaction import scrub_pii, assert_no_pii_in_evidence
  | |________________________________________________________________________^
3 |
4 |   def test_scrub_pii_contract():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/runtime/test_budget_ceiling.py:1:1
  |
1 | from summit.runtime.budget import Budget
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | def test_budget_starts_ok():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/runtime/test_loop_detector.py:1:1
  |
1 | from summit.runtime.loop_detector import LoopDetector
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | def test_no_loop_initially():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_active_measures_evidence_schema.py:1:1
  |
1 | / import json
2 | | import pytest
3 | | from pathlib import Path
4 | | from summit.active_measures.evidence.export import init_evidence_dir, EvidenceStamp
  | |___________________________________________________________________________________^
5 |
6 |   def validate_schema(data, schema):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_active_measures_graphs.py:1:1
  |
1 | / from summit.active_measures.graphs.model import Graph, add_edge
2 | | from summit.active_measures.graphs.baselines import out_weight
  | |______________________________________________________________^
3 |
4 |   def test_graph_construction():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_active_measures_policy.py:1:1
  |
1 | from summit.active_measures.policy import check_investigative_support_only, check_never_log_fields
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | def test_deny_forbidden_actions():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_audit.py:1:1
  |
1 | / import unittest
2 | | import os
3 | | import json
4 | | import shutil
5 | | import tempfile
6 | | from pathlib import Path
7 | | from summit.governance.audit import AuditEvent, emit, redact
  | |____________________________________________________________^
8 |
9 |   class TestAudit(unittest.TestCase):
  |
help: Organize imports

UP015 [*] Unnecessary mode argument
  --> tests/test_audit.py:37:29
   |
35 |             emit(event, sink=sink)
36 |
37 |             with open(sink, "r") as f:
   |                             ^^^
38 |                 line = f.readline()
39 |                 data = json.loads(line)
   |
help: Remove mode argument

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_campaign_contracts.py:1:1
  |
1 | / import pytest
2 | | from summit.influence.campaigns.model import CampaignSubgraph
3 | | from summit.influence.campaigns.validators import validate_campaign
  | |___________________________________________________________________^
4 |
5 |   def test_campaign_validation_valid():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_detectors_deny_by_default.py:1:1
  |
1 | from summit.precision.detectors import compute_mismatch_metrics, MismatchReport
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | def test_mismatch_metrics_shape_smoke():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_ead.py:1:1
  |
1 | / from summit_misinfo.ead import ead_detector, EADState
2 | | from summit_misinfo.signals import StreamEvent
3 | | import os
4 | | from unittest import mock
  | |_________________________^
5 |
6 |   def test_ead_burst():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_evidence_deny_default.py:1:1
  |
1 | / import pytest
2 | | import os
3 | | import shutil
4 | | import subprocess
5 | | import sys
6 | | import json
7 | | from pathlib import Path
  | |________________________^
8 |
9 |   # Locate the script relative to this test file
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_evidence_schemas.py:1:1
  |
1 | / from pathlib import Path
2 | | import pytest
3 | | from summit_misinfo.evidence.validate import validate_evidence_dir
4 | | import jsonschema
  | |_________________^
5 |
6 |   FIXT = Path("tests/fixtures/evidence")
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_evidence_verifier.py:1:1
  |
1 | / import os
2 | | import shutil
3 | | import tempfile
4 | | import unittest
5 | | from pathlib import Path
6 | | import json
7 | | import sys
  | |__________^
8 |
9 |   # Add scripts to path so we can import verify_evidence if needed,
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> tests/test_evidence_verifier.py:12:1
   |
10 | # but we'll mostly run it as a subprocess or import main.
11 | sys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), '..')))
12 | from scripts import verify_evidence
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
13 |
14 | class TestEvidenceVerifier(unittest.TestCase):
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_federation_deny_by_default.py:1:1
  |
1 | / import pytest
2 | | from summit.federation.protocol import PrivacyMechanism
3 | | from summit.federation.validators import validate_update
  | |________________________________________________________^
4 |
5 |   def test_federation_validation_valid():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_precision_flow_policy.py:1:1
  |
1 | from summit.precision.policy import policy_from_dict
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | def test_no_interstep_calibration_by_default():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_robustness_influence.py:1:1
  |
1 | / import os
2 | | import json
3 | | import tempfile
4 | | import pytest
5 | | from summit.eval.robustness_influence import perturb_edge_injection, perturb_sybil_attack, run_robustness_suite
  | |_______________________________________________________________________________________________________________^
6 |
7 |   def test_edge_injection():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_sandbox.py:1:1
  |
1 | / import unittest
2 | | import os
3 | | from summit.agents.sandbox import sandbox_enabled, run_tool, SandboxDeny
  | |________________________________________________________________________^
4 |
5 |   class TestSandbox(unittest.TestCase):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_scoring.py:1:1
  |
1 | / from summit_misinfo.scoring import Registry, Score
2 | | from summit_misinfo.signals import StreamEvent
3 | | import os
4 | | from unittest import mock
  | |_________________________^
5 |
6 |   def test_registry_score():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_summit_evidence_schemas.py:1:1
  |
1 | / import subprocess
2 | | import pytest
3 | | import json
4 | | from pathlib import Path
5 | | from jsonschema import validate, ValidationError
  | |________________________________________________^
6 |
7 |   # Path to the verifier script
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/test_transparency_redaction.py:1:1
  |
1 | / import json
2 | | from summit_misinfo.governance.transparency import generate_report
  | |__________________________________________________________________^
3 |
4 |   def test_transparency_generation():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/tools/test_high_risk_requires_approval.py:1:1
  |
1 | / import pytest
2 | | from summit.policy.engine import PolicyEngine
3 | | from summit.policy.rules.tool_risk import HighRiskToolRule
4 | | from summit.protocols.envelope import SummitEnvelope, ToolCall
  | |______________________________________________________________^
5 |
6 |   def test_high_risk_tool_blocked_without_approval():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/unit/test_cache.py:1:1
  |
1 | / from packages.common.cache import L1MemoryCache, MultiLayerCache, CacheKey
2 | | import time
  | |___________^
3 |
4 |   def test_cache_namespace_versioning():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/unit/test_circuit_breaker.py:1:1
  |
1 | / from packages.common.circuit_breaker import CircuitBreaker, BreakerConfig, State
2 | | import time
  | |___________^
3 |
4 |   def test_circuit_breaker_opens_after_threshold():
  |
help: Organize imports

E701 Multiple statements on one line (colon)
  --> tests/unit/test_circuit_breaker.py:9:20
   |
 8 |   # Fill window with success
 9 |   for _ in range(5): cb.record(True)
   |                    ^
10 |   assert cb.state == State.CLOSED
   |

E701 Multiple statements on one line (colon)
  --> tests/unit/test_circuit_breaker.py:13:20
   |
12 |   # Add failures
13 |   for _ in range(5): cb.record(False)
   |                    ^
14 |   # Now we have 5 success, 5 failures. 5/10 = 0.5. Should open.
15 |   assert cb.state == State.OPEN
   |

I001 [*] Import block is un-sorted or un-formatted
 --> tests/unit/test_decision_record.py:1:1
  |
1 | / from packages.common.decision_record import DecisionRecord
2 | | import os
  | |_________^
3 |
4 |   FEATURE_EXPLAINABILITY_REQUIRED = os.getenv("FEATURE_EXPLAINABILITY_REQUIRED", "false").lower() == "true"
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/unit/test_prioritizer_flagging.py:1:1
  |
1 | / import os
2 | | from services.pipeline.config_flags import is_gnn_prioritizer_enabled
3 | | from services.pipeline.prioritizer import get_prioritizer
4 | | from services.pipeline.prioritizer.gnn_stub import GNNPrioritizerStub
  | |_____________________________________________________________________^
5 |
6 |   def test_feature_flag_off_by_default(monkeypatch):
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tests/unit/test_privacy.py:1:1
  |
1 | from packages.common.privacy import redact_dict, PrivacyGuard
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | def test_never_log_fields_are_redacted():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tools/ci/dependency_delta_gate.py:1:1
  |
1 | from pathlib import Path
  | ^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | def main() -> int:
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tools/eval_harness/run_eval.py:2:1
  |
1 |   #!/usr/bin/env python3
2 | / import sys
3 | | import json
4 | | import argparse
5 | | from datetime import datetime
  | |_____________________________^
6 |
7 |   # Stub for eval harness
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tools/solid_gate/__main__.py:1:1
  |
1 | / import sys
2 | | import argparse
3 | | from .runner import run
  | |_______________________^
4 |
5 |   def main():
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tools/solid_gate/git.py:1:1
  |
1 | / import subprocess
2 | | from typing import List, Tuple
  | |______________________________^
3 |
4 |   def get_changed_files(base_ref: str, head_ref: str = "HEAD") -> List[str]:
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
 --> tools/solid_gate/git.py:4:65
  |
2 | from typing import List, Tuple
3 |
4 | def get_changed_files(base_ref: str, head_ref: str = "HEAD") -> List[str]:
  |                                                                 ^^^^
5 |     """Returns a list of changed files between base_ref and head_ref."""
6 |     try:
  |
help: Replace with `list`

UP015 [*] Unnecessary mode argument
  --> tools/solid_gate/git.py:19:29
   |
17 |     """Reads file content from disk."""
18 |     try:
19 |         with open(filepath, 'r', encoding='utf-8') as f:
   |                             ^^^
20 |             return f.read()
21 |     except (IOError, UnicodeDecodeError):
   |
help: Remove mode argument

UP024 [*] Replace aliased errors with `OSError`
  --> tools/solid_gate/git.py:21:12
   |
19 |         with open(filepath, 'r', encoding='utf-8') as f:
20 |             return f.read()
21 |     except (IOError, UnicodeDecodeError):
   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
22 |         return ""
   |
help: Replace with builtin `OSError`

I001 [*] Import block is un-sorted or un-formatted
 --> tools/solid_gate/rules.py:1:1
  |
1 | / import re
2 | | import os
3 | | from typing import List, Set, Callable, Optional
4 | | from .schema import Finding
  | |___________________________^
5 |
6 |   # Configuration
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
  --> tools/solid_gate/rules.py:28:40
   |
26 |     return ext in SRC_EXTENSIONS
27 |
28 | def check_tests_touched(changed_files: List[str]) -> List[Finding]:
   |                                        ^^^^
29 |     findings = []
30 |     has_src_change = any(is_source_file(f) and not is_test_file(f) for f in changed_files)
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> tools/solid_gate/rules.py:28:54
   |
26 |     return ext in SRC_EXTENSIONS
27 |
28 | def check_tests_touched(changed_files: List[str]) -> List[Finding]:
   |                                                      ^^^^
29 |     findings = []
30 |     has_src_change = any(is_source_file(f) and not is_test_file(f) for f in changed_files)
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> tools/solid_gate/rules.py:41:59
   |
39 |     return findings
40 |
41 | def check_proto_pollution(filepath: str, content: str) -> List[Finding]:
   |                                                           ^^^^
42 |     findings = []
43 |     if not (filepath.endswith('.ts') or filepath.endswith('.js') or filepath.endswith('.tsx') or filepath.endswith('.jsx')):
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> tools/solid_gate/rules.py:63:55
   |
61 |     return findings
62 |
63 | def check_file_smells(filepath: str, content: str) -> List[Finding]:
   |                                                       ^^^^
64 |     findings = []
65 |     lines = content.splitlines()
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> tools/solid_gate/rules.py:78:32
   |
76 |     return findings
77 |
78 | def check_rules(changed_files: List[str], file_reader: Callable[[str], str]) -> List[Finding]:
   |                                ^^^^
79 |     all_findings = []
   |
help: Replace with `list`

UP006 [*] Use `list` instead of `List` for type annotation
  --> tools/solid_gate/rules.py:78:81
   |
76 |     return findings
77 |
78 | def check_rules(changed_files: List[str], file_reader: Callable[[str], str]) -> List[Finding]:
   |                                                                                 ^^^^
79 |     all_findings = []
   |
help: Replace with `list`

I001 [*] Import block is un-sorted or un-formatted
 --> tools/solid_gate/runner.py:1:1
  |
1 | / import os
2 | | import json
3 | | import hashlib
4 | | from typing import List, Dict
5 | | from . import git
6 | | from . import rules
7 | | from .schema import Report, Metrics, Stamp
  | |__________________________________________^
8 |
9 |   ARTIFACTS_DIR = "artifacts/solid-gate"
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tools/solid_gate/schema.py:1:1
  |
1 | / from dataclasses import dataclass, field
2 | | from typing import List, Dict, Optional
3 | | import hashlib
4 | | import json
  | |___________^
5 |
6 |   @dataclass
  |
help: Organize imports

UP006 [*] Use `list` instead of `List` for type annotation
  --> tools/solid_gate/schema.py:32:15
   |
30 | @dataclass
31 | class Report:
32 |     findings: List[Finding] = field(default_factory=list)
   |               ^^^^
33 |
34 |     def to_dict(self):
   |
help: Replace with `list`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> tools/solid_gate/schema.py:44:13
   |
42 | @dataclass
43 | class Metrics:
44 |     counts: Dict[str, int] = field(default_factory=dict)
   |             ^^^^
45 |
46 |     @classmethod
   |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
 --> tools/solid_gate/tests/test_runner_golden.py:1:1
  |
1 | / import json
2 | | import os
3 | | import shutil
4 | | import pytest
5 | | from unittest.mock import patch, MagicMock
6 | | from tools.solid_gate import runner, rules, schema
  | |__________________________________________________^
7 |
8 |   # Golden artifacts verification
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tools/validate_evidence_schemas.py:1:1
  |
1 | / import json
2 | | from pathlib import Path
  | |________________________^
3 |   try:
4 |       from jsonschema import Draft202012Validator
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tools/verify_evidence.py:1:1
  |
1 | / import json
2 | | import sys
3 | | from pathlib import Path
  | |________________________^
4 |   try:
5 |       from jsonschema import validate, ValidationError
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> tools/verify_evidence.py:5:5
  |
3 | from pathlib import Path
4 | try:
5 |     from jsonschema import validate, ValidationError
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
6 | except ImportError:
7 |     print("WARNING: jsonschema not installed. Skipping evidence validation.")
  |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
 --> verification/verify_webapp.py:1:1
  |
1 | from playwright.sync_api import Page, expect, sync_playwright
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2 |
3 | def test_webapp_loads(page: Page):
  |
help: Organize imports

Found 393 errors.
[*] 381 fixable with the `--fix` option (1 hidden fix can be enabled with the `--unsafe-fixes` option).
âœ… Linting passed

Typechecking...

> intelgraph-platform@5.2.77 typecheck /workspace/summit
> rm -rf node_modules/@types/hapi__catbox node_modules/@types/hapi__shot node_modules/@types/react-native node_modules/@types/webrtc node_modules/@types/webgl-ext node_modules/@types/webgl2 node_modules/@types/request node_modules/@types/pg-pool node_modules/react-native node_modules/@types/connect-redis node_modules/@types/glob && tsc -b --pretty false

âœ… Typechecking passed

Testing...

> intelgraph-platform@5.2.77 test /workspace/summit
> node scripts/ci/run-tests-with-retries.mjs

Executing: pnpm -r test
Scope: 704 of 705 workspace projects
apps/a11y-lab test$ echo 'E2E tests require running server - use test:e2e'
apps/analytics-engine test$ NODE_OPTIONS='--experimental-vm-modules' jest
apps/command-console test$ vitest run
apps/a11y-lab test: E2E tests require running server - use test:e2e
apps/a11y-lab test: Done
apps/compliance-console test$ vitest run
apps/command-console test:  RUN  v2.1.9 /workspace/summit/apps/command-console
apps/compliance-console test:  RUN  v1.6.1 /workspace/summit/apps/compliance-console
apps/compliance-console test:  âœ“ src/approvals/__tests__/abac.test.ts  (6 tests) 12ms
apps/analytics-engine test: (node:11588) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
apps/analytics-engine test: (Use `node --trace-warnings ...` to show where the warning was created)
apps/analytics-engine test: PASS src/__tests__/materializedViews.integration.test.ts
apps/command-console test:  âœ“ src/App.test.tsx (2 tests) 338ms
apps/command-console test:    âœ“ Command Console dashboard > renders health and tenant panels 313ms
apps/compliance-console test:  âœ“ src/approvals/__tests__/approvalDetails.test.tsx  (2 tests) 441ms
apps/command-console test:  Test Files  1 passed (1)
apps/command-console test:       Tests  2 passed (2)
apps/command-console test:    Start at  10:09:06
apps/command-console test:    Duration  6.21s (transform 774ms, setup 313ms, collect 1.56s, tests 338ms, environment 2.39s, prepare 389ms)
apps/command-console test: Done
apps/field-kit test$ vitest
apps/analytics-engine test: PASS src/services/__tests__/MaterializedViewScheduler.test.ts
apps/analytics-engine test:   â— Console
apps/analytics-engine test:     console.log
apps/analytics-engine test:       2026-01-29 10:09:12 [[32minfo[39m]: Materialized view refresh completed {"service":"analytics-engine","views":[{"view":"maestro.mv_reporting_entity_activity","status":"ok","durationMs":25,"rows":12}]}
apps/analytics-engine test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/analytics-engine test: Test Suites: 2 passed, 2 total
apps/analytics-engine test: Tests:       2 passed, 2 total
apps/analytics-engine test: Snapshots:   0 total
apps/analytics-engine test: Time:        6.409 s
apps/analytics-engine test: Ran all test suites.
apps/analytics-engine test: Done
apps/graph-analytics test$ NODE_OPTIONS='--experimental-vm-modules' jest
apps/field-kit test:  RUN  v4.0.16 /workspace/summit/apps/field-kit
apps/compliance-console test:  âœ“ src/approvals/__tests__/auditTimeline.test.tsx  (1 test) 205ms
apps/compliance-console test:  âœ“ src/approvals/__tests__/approvalsPage.test.tsx  (1 test) 117ms
apps/compliance-console test:  Test Files  4 passed (4)
apps/compliance-console test:       Tests  10 passed (10)
apps/compliance-console test:    Start at  10:09:07
apps/compliance-console test:    Duration  9.35s (transform 738ms, setup 1.32s, collect 2.76s, tests 775ms, environment 6.22s, prepare 1.88s)
apps/compliance-console test: Done
apps/labeling-ui test$ vitest --passWithNoTests
apps/labeling-ui test:  DEV  v1.6.1 /workspace/summit/apps/labeling-ui
apps/labeling-ui test: include: **/*.{test,spec}.?(c|m)[jt]s?(x)
apps/labeling-ui test: exclude:  **/node_modules/**, **/dist/**, **/cypress/**, **/.{idea,git,cache,output,temp}/**, **/{karma,rollup,webpack,vite,vitest,jest,ava,babel,nyc,cypress,tsup,build,eslint,prettier}.config.*
apps/labeling-ui test: watch exclude:  **/node_modules/**, **/dist/**
apps/labeling-ui test: No test files found, exiting with code 0
apps/labeling-ui test: Done
apps/ml-engine test$ jest --passWithNoTests
apps/graph-analytics test: (node:11773) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
apps/graph-analytics test: (Use `node --trace-warnings ...` to show where the warning was created)
apps/graph-analytics test: PASS src/__tests__/algorithms.test.ts
apps/graph-analytics test:   â— Console
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Computing centrality metrics {"service":"graph-analytics","nodes":4,"edges":5}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Centrality metrics computed {"service":"graph-analytics","elapsed":"58ms","topByDegree":["B","C","A"]}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Computing centrality metrics {"service":"graph-analytics","nodes":4,"edges":5}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Centrality metrics computed {"service":"graph-analytics","elapsed":"4ms","topByDegree":["B","C","A"]}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Computing centrality metrics {"service":"graph-analytics","nodes":4,"edges":5}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Centrality metrics computed {"service":"graph-analytics","elapsed":"1ms","topByDegree":["B","C"]}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Computing centrality metrics {"service":"graph-analytics","nodes":4,"edges":5}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Centrality metrics computed {"service":"graph-analytics","elapsed":"20ms","topByDegree":["B","C","A"]}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Running Louvain community detection {"service":"graph-analytics","nodes":10}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Louvain completed {"service":"graph-analytics","iterations":2,"communities":2,"modularity":"0.5533"}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Running label propagation algorithm {"service":"graph-analytics","nodes":10,"maxIterations":100}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Label propagation completed {"service":"graph-analytics","iterations":2,"communities":2}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Running Louvain community detection {"service":"graph-analytics","nodes":10}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Louvain completed {"service":"graph-analytics","iterations":2,"communities":2,"modularity":"0.5533"}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Running pattern miner {"service":"graph-analytics","graph":10}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:09:19 [[32minfo[39m]: Pattern mining completed, found 13 patterns {"service":"graph-analytics"}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/field-kit test:  âœ“ src/__tests__/sync.test.ts (2 tests) 615ms
apps/field-kit test:      âœ“ processes queue when online  604ms
apps/field-kit test:  Test Files  1 passed (1)
apps/field-kit test:       Tests  2 passed (2)
apps/field-kit test:    Start at  10:09:15
apps/field-kit test:    Duration  4.71s (transform 359ms, setup 0ms, import 433ms, tests 615ms, environment 2.80s)
apps/field-kit test: Done
apps/mobile-interface test$ jest --passWithNoTests
apps/ml-engine test: No tests found, exiting with code 0
apps/ml-engine test: Done
apps/mobile-native test$ jest --passWithNoTests
apps/mobile-interface test: No tests found, exiting with code 0
apps/mobile-interface test: Done
apps/search-engine test$ NODE_OPTIONS='--experimental-vm-modules' jest
apps/mobile-native test: No tests found, exiting with code 0
apps/graph-analytics test: PASS src/__tests__/geoPoints.test.ts
apps/graph-analytics test: Test Suites: 2 passed, 2 total
apps/graph-analytics test: Tests:       19 passed, 19 total
apps/graph-analytics test: Snapshots:   0 total
apps/graph-analytics test: Time:        8.773 s
apps/graph-analytics test: Ran all test suites.
apps/mobile-native test: Done
apps/server test$ NODE_OPTIONS=--experimental-vm-modules jest --config ./jest.config.cjs --runInBand
apps/graph-analytics test: Done
apps/slo-exporter test$ echo "No tests specified yet" && exit 0
apps/slo-exporter test: No tests specified yet
apps/slo-exporter test: Done
apps/tri-pane test$ vitest run
apps/search-engine test: (node:11944) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
apps/search-engine test: (Use `node --trace-warnings ...` to show where the warning was created)
apps/search-engine test: PASS src/__tests__/QueryBuilderService.test.ts
apps/server test: ts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do
apps/server test: transform: {
apps/server test:     <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],
apps/server test: },
apps/server test: See more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced
apps/tri-pane test:  RUN  v2.1.9 /workspace/summit/apps/tri-pane
apps/search-engine test: PASS src/__tests__/ElasticsearchService.test.ts
apps/search-engine test: Test Suites: 2 passed, 2 total
apps/search-engine test: Tests:       58 passed, 58 total
apps/search-engine test: Snapshots:   0 total
apps/search-engine test: Time:        6.166 s
apps/search-engine test: Ran all test suites.
apps/search-engine test: Done
apps/web test$ vitest
apps/web test:  RUN  v4.0.16 /workspace/summit/apps/web
apps/tri-pane test:  âœ“ src/components/__tests__/savedViews.test.tsx (2 tests) 1691ms
apps/tri-pane test:    âœ“ Saved views > saves, persists, reloads, and restores a time window 1586ms
apps/tri-pane test:  Test Files  1 passed (1)
apps/tri-pane test:       Tests  2 passed (2)
apps/tri-pane test:    Start at  10:09:27
apps/tri-pane test:    Duration  6.99s (transform 673ms, setup 203ms, collect 1.58s, tests 1.69s, environment 1.71s, prepare 401ms)
apps/tri-pane test: Done
apps/webapp test$ vitest run
apps/webapp test:  RUN  v4.0.18 /workspace/summit/apps/webapp
apps/web test:  âœ“ src/__tests__/integration/error-boundaries.test.tsx (11 tests | 1 skipped) 2097ms
apps/web test:        âœ“ catches data fetch errors and shows appropriate fallback  320ms
apps/web test:        âœ“ renders admin panel successfully when no errors occur  519ms
apps/web test:        âœ“ provides safe navigation back to workspace  411ms
apps/webapp test: stdout | src/components/SelectionSummary.test.tsx
apps/webapp test: Setup file is executing (using require)...
apps/webapp test: TextEncoder in util: true
apps/webapp test: stdout | src/App.test.tsx
apps/webapp test: Setup file is executing (using require)...
apps/webapp test: TextEncoder in util: true
apps/web test:  â†“ src/features/triPane/TriPaneShell.test.tsx (16 tests | 16 skipped)
apps/webapp test: stderr | src/App.test.tsx > renders panes
apps/webapp test: In HTML, <div> cannot be a descendant of <p>.
apps/webapp test: This will cause a hydration error.
apps/webapp test:   ...
apps/webapp test:     <CssBaseline>
apps/webapp test:     <BrowserRouter>
apps/webapp test:       <Router basename={undefined} location={{pathname:"/", ...}} navigationType="POP" navigator={{action:"POP", ...}} ...>
apps/webapp test:         <CommandPalette>
apps/webapp test:         <Box display="flex" justifyContent="space-between" alignItems="center" p={1}>
apps/webapp test:           <Styled(div) as="div" ref={null} className="MuiBox-root" theme={{...}} sx={{display:"flex", ...}}>
apps/webapp test:             <Insertion>
apps/webapp test:             <div className="MuiBox-roo...">
apps/webapp test:               <SelectionSummary>
apps/webapp test:                 <Grid direction="row" spacing={2} alignItems="center" data-testid="selection-..." ...>
apps/webapp test:                   <MuiStack-root as="div" ownerState={{...}} ref={null} className="MuiStack-root" ...>
apps/webapp test:                     <Insertion>
apps/webapp test:                     <div className="MuiStack-r..." data-testid="selection-..." aria-label="selection ...">
apps/webapp test:                       <Typography variant="body2">
apps/webapp test:                         <MuiTypography-root as="p" ref={null} className="MuiTypogra..." sx={{...}} ...>
apps/webapp test:                           <Insertion>
apps/webapp test: >                         <p className="MuiTypography-root MuiTypography-body2 css-7ctihp-MuiTypography-root" style={{}}>
apps/webapp test:                             <Chip label="None" color="default" size="small" variant="outlined" ...>
apps/webapp test:                               <MuiChip-root as="div" onClick={function onClick} onKeyDown={function onKeyDown} ...>
apps/webapp test:                                 <Insertion>
apps/webapp test: >                               <div
apps/webapp test: >                                 onClick={function onClick}
apps/webapp test: >                                 onKeyDown={function onKeyDown}
apps/webapp test: >                                 onKeyUp={function onKeyUp}
apps/webapp test: >                                 disabled={undefined}
apps/webapp test: >                                 tabIndex={undefined}
apps/webapp test: >                                 data-testid="selected-node-label"
apps/webapp test: >                                 className="MuiChip-root MuiChip-outlined MuiChip-sizeSmall MuiChip-colorDefault MuiC..."
apps/webapp test: >                                 ref={function}
apps/webapp test: >                               >
apps/webapp test:                       ...
apps/webapp test:               ...
apps/webapp test:         ...
apps/webapp test: <p> cannot contain a nested <div>.
apps/webapp test: See this log for the ancestor stack trace.
apps/webapp test:  âœ“ src/App.test.tsx (2 tests) 617ms
apps/webapp test:    âœ“ renders panes  599ms
apps/web test: stdout | src/telemetry/__tests__/metrics.test.ts > reportError > sends error data to telemetry endpoint
apps/web test: ðŸš¨ Error Reported
apps/web test:   Fingerprint: ad2daa72
apps/web test:   Category: render
apps/web test:   Severity: high
apps/web test:   Context: { componentStack: 'at Component' }
apps/web test: stdout | src/telemetry/__tests__/metrics.test.ts > reportError > includes error fingerprint and category
apps/web test: ðŸš¨ Error Reported
apps/web test:   Fingerprint: ad2daa72
apps/web test:   Category: unknown
apps/web test:   Severity: high
apps/web test:   Context: undefined
apps/web test: stderr | src/telemetry/__tests__/metrics.test.ts > reportError > sends error data to telemetry endpoint
apps/web test:   Error: Test error
apps/web test:       at /workspace/summit/apps/web/src/telemetry/__tests__/metrics.test.ts:151:19
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:145:11
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:915:26
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1243:20
apps/web test:       at new Promise (<anonymous>)
apps/web test:       at runWithTimeout (file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1209:10)
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1653:37
apps/web test:       at Traces.$ (file:///workspace/summit/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
apps/web test:       at trace (file:///workspace/summit/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
apps/web test:       at runTest (file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1653:12)
apps/web test: stderr | src/telemetry/__tests__/metrics.test.ts > reportError > includes error fingerprint and category
apps/web test:   Error: Test error
apps/web test:       at /workspace/summit/apps/web/src/telemetry/__tests__/metrics.test.ts:168:19
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:145:11
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:915:26
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1243:20
apps/web test:       at new Promise (<anonymous>)
apps/web test:       at runWithTimeout (file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1209:10)
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1653:37
apps/web test:       at Traces.$ (file:///workspace/summit/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
apps/web test:       at trace (file:///workspace/summit/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
apps/web test:       at runTest (file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1653:12)
apps/web test: stdout | src/telemetry/__tests__/metrics.test.ts > reportError > includes additional context
apps/web test: ðŸš¨ Error Reported
apps/web test:   Fingerprint: ad2daa72
apps/web test:   Category: unknown
apps/web test:   Severity: high
apps/web test:   Context: undefined
apps/web test: stderr | src/telemetry/__tests__/metrics.test.ts > reportError > includes additional context
apps/web test:   Error: Test error
apps/web test:       at /workspace/summit/apps/web/src/telemetry/__tests__/metrics.test.ts:179:19
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:145:11
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:915:26
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1243:20
apps/web test:       at new Promise (<anonymous>)
apps/web test:       at runWithTimeout (file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1209:10)
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1653:37
apps/web test:       at Traces.$ (file:///workspace/summit/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
apps/web test:       at trace (file:///workspace/summit/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
apps/web test:       at runTest (file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1653:12)
apps/web test: stdout | src/telemetry/__tests__/metrics.test.ts > reportError > handles fetch failures gracefully
apps/web test: ðŸš¨ Error Reported
apps/web test:   Fingerprint: ad2daa72
apps/web test:   Category: unknown
apps/web test:   Severity: high
apps/web test:   Context: undefined
apps/web test:  âœ“ src/telemetry/__tests__/metrics.test.ts (17 tests) 53ms
apps/webapp test: stderr | src/components/SelectionSummary.test.tsx > SelectionSummary > renders with no selection
apps/webapp test: In HTML, <div> cannot be a descendant of <p>.
apps/webapp test: This will cause a hydration error.
apps/webapp test:   <Provider store={{...}}>
apps/webapp test:     <SelectionSummary>
apps/webapp test:       <Grid direction="row" spacing={2} alignItems="center" data-testid="selection-..." aria-label="selection ...">
apps/webapp test:         <MuiStack-root as="div" ownerState={{...}} ref={null} className="MuiStack-root" data-testid="selection-..." ...>
apps/webapp test:           <Insertion>
apps/webapp test:           <div className="MuiStack-r..." data-testid="selection-..." aria-label="selection ...">
apps/webapp test:             <Typography variant="body2">
apps/webapp test:               <MuiTypography-root as="p" ref={null} className="MuiTypogra..." sx={{...}} ...>
apps/webapp test:                 <Insertion>
apps/webapp test: >               <p className="MuiTypography-root MuiTypography-body2 css-7ctihp-MuiTypography-root" style={{}}>
apps/webapp test:                   <Chip label="None" color="default" size="small" variant="outlined" data-testid="selected-n..." ...>
apps/webapp test:                     <MuiChip-root as="div" onClick={function onClick} onKeyDown={function onKeyDown} ...>
apps/webapp test:                       <Insertion>
apps/webapp test: >                     <div
apps/webapp test: >                       onClick={function onClick}
apps/webapp test: >                       onKeyDown={function onKeyDown}
apps/webapp test: >                       onKeyUp={function onKeyUp}
apps/webapp test: >                       disabled={undefined}
apps/webapp test: >                       tabIndex={undefined}
apps/webapp test: >                       data-testid="selected-node-label"
apps/webapp test: >                       className="MuiChip-root MuiChip-outlined MuiChip-sizeSmall MuiChip-colorDefault MuiChip-outlin..."
apps/webapp test: >                       ref={function}
apps/webapp test: >                     >
apps/webapp test:             ...
apps/webapp test: <p> cannot contain a nested <div>.
apps/webapp test: See this log for the ancestor stack trace.
apps/web test:  â†“ src/panes/__tests__/MapPane.test.tsx (4 tests | 4 skipped)
apps/webapp test:  âœ“ src/components/SelectionSummary.test.tsx (3 tests) 811ms
apps/webapp test:      âœ“ renders with no selection  501ms
apps/webapp test:  Test Files  2 passed (2)
apps/webapp test:       Tests  5 passed (5)
apps/webapp test:    Start at  10:09:38
apps/webapp test:    Duration  11.01s (transform 1.14s, setup 826ms, import 8.43s, tests 1.43s, environment 7.04s)
apps/webapp test: Done
apps/workflow-engine test$ jest
apps/workflow-engine test: â— Validation Error:
apps/workflow-engine test:   Module <rootDir>/tests/utils/jest-setup.cjs in the setupFilesAfterEnv option was not found.
apps/workflow-engine test:          <rootDir> is: /workspace/summit/apps/workflow-engine
apps/workflow-engine test:   Configuration Documentation:
apps/workflow-engine test:   https://jestjs.io/docs/configuration
apps/workflow-engine test: Failed
/workspace/summit/apps/workflow-engine:
â€‰ERR_PNPM_RECURSIVE_RUN_FIRST_FAILâ€‰ @intelgraph/workflow-engine@4.2.3 test: `jest`
Exit status 1
client test$ node node_modules/jest/bin/jest.js --config jest.config.cjs

âš ï¸ Tests failed. Retrying (1/2)...

Executing: pnpm -r test
Scope: 704 of 705 workspace projects
apps/a11y-lab test$ echo 'E2E tests require running server - use test:e2e'
apps/analytics-engine test$ NODE_OPTIONS='--experimental-vm-modules' jest
apps/command-console test$ vitest run
apps/a11y-lab test: E2E tests require running server - use test:e2e
apps/a11y-lab test: Done
apps/compliance-console test$ vitest run
apps/command-console test:  RUN  v2.1.9 /workspace/summit/apps/command-console
apps/compliance-console test:  RUN  v1.6.1 /workspace/summit/apps/compliance-console
apps/compliance-console test:  âœ“ src/approvals/__tests__/abac.test.ts  (6 tests) 16ms
apps/analytics-engine test: (node:12326) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
apps/analytics-engine test: (Use `node --trace-warnings ...` to show where the warning was created)
apps/compliance-console test:  âœ“ src/approvals/__tests__/approvalDetails.test.tsx  (2 tests) 637ms
apps/analytics-engine test: PASS src/__tests__/materializedViews.integration.test.ts (5.568 s)
apps/analytics-engine test: PASS src/services/__tests__/MaterializedViewScheduler.test.ts
apps/analytics-engine test:   â— Console
apps/analytics-engine test:     console.log
apps/analytics-engine test:       2026-01-29 10:10:05 [[32minfo[39m]: Materialized view refresh completed {"service":"analytics-engine","views":[{"view":"maestro.mv_reporting_entity_activity","status":"ok","durationMs":25,"rows":12}]}
apps/analytics-engine test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/analytics-engine test: Test Suites: 2 passed, 2 total
apps/analytics-engine test: Tests:       2 passed, 2 total
apps/analytics-engine test: Snapshots:   0 total
apps/analytics-engine test: Time:        9.083 s
apps/analytics-engine test: Ran all test suites.
apps/command-console test:  âœ“ src/App.test.tsx (2 tests) 1172ms
apps/command-console test:    âœ“ Command Console dashboard > renders health and tenant panels 1099ms
apps/analytics-engine test: Done
apps/field-kit test$ vitest
apps/command-console test:  Test Files  1 passed (1)
apps/command-console test:       Tests  2 passed (2)
apps/command-console test:    Start at  10:09:57
apps/command-console test:    Duration  8.70s (transform 997ms, setup 564ms, collect 1.91s, tests 1.17s, environment 2.32s, prepare 703ms)
apps/command-console test: Done
apps/graph-analytics test$ NODE_OPTIONS='--experimental-vm-modules' jest
apps/compliance-console test:  âœ“ src/approvals/__tests__/auditTimeline.test.tsx  (1 test) 435ms
apps/field-kit test:  RUN  v4.0.16 /workspace/summit/apps/field-kit
apps/compliance-console test:  âœ“ src/approvals/__tests__/approvalsPage.test.tsx  (1 test) 329ms
apps/compliance-console test:  Test Files  4 passed (4)
apps/compliance-console test:       Tests  10 passed (10)
apps/compliance-console test:    Start at  10:09:58
apps/compliance-console test:    Duration  13.71s (transform 1.08s, setup 2.01s, collect 4.33s, tests 1.42s, environment 8.44s, prepare 2.72s)
apps/compliance-console test: Done
apps/labeling-ui test$ vitest --passWithNoTests
apps/labeling-ui test:  DEV  v1.6.1 /workspace/summit/apps/labeling-ui
apps/labeling-ui test: include: **/*.{test,spec}.?(c|m)[jt]s?(x)
apps/labeling-ui test: exclude:  **/node_modules/**, **/dist/**, **/cypress/**, **/.{idea,git,cache,output,temp}/**, **/{karma,rollup,webpack,vite,vitest,jest,ava,babel,nyc,cypress,tsup,build,eslint,prettier}.config.*
apps/labeling-ui test: watch exclude:  **/node_modules/**, **/dist/**
apps/labeling-ui test: No test files found, exiting with code 0
apps/labeling-ui test: Done
apps/ml-engine test$ jest --passWithNoTests
apps/graph-analytics test: (node:12541) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
apps/graph-analytics test: (Use `node --trace-warnings ...` to show where the warning was created)
apps/graph-analytics test: PASS src/__tests__/geoPoints.test.ts (5.752 s)
apps/field-kit test:  âœ“ src/__tests__/sync.test.ts (2 tests) 652ms
apps/field-kit test:      âœ“ processes queue when online  602ms
apps/field-kit test:  Test Files  1 passed (1)
apps/field-kit test:       Tests  2 passed (2)
apps/field-kit test:    Start at  10:10:10
apps/field-kit test:    Duration  6.67s (transform 553ms, setup 0ms, import 633ms, tests 652ms, environment 3.61s)
apps/field-kit test: Done
apps/mobile-interface test$ jest --passWithNoTests
apps/ml-engine test: No tests found, exiting with code 0
apps/graph-analytics test: PASS src/__tests__/algorithms.test.ts
apps/ml-engine test: Done
apps/mobile-native test$ jest --passWithNoTests
apps/graph-analytics test:   â— Console
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Computing centrality metrics {"service":"graph-analytics","nodes":4,"edges":5}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Centrality metrics computed {"service":"graph-analytics","elapsed":"87ms","topByDegree":["B","C","A"]}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Computing centrality metrics {"service":"graph-analytics","nodes":4,"edges":5}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Centrality metrics computed {"service":"graph-analytics","elapsed":"5ms","topByDegree":["B","C","A"]}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Computing centrality metrics {"service":"graph-analytics","nodes":4,"edges":5}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Centrality metrics computed {"service":"graph-analytics","elapsed":"1ms","topByDegree":["B","C"]}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Computing centrality metrics {"service":"graph-analytics","nodes":4,"edges":5}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Centrality metrics computed {"service":"graph-analytics","elapsed":"2ms","topByDegree":["B","C","A"]}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Running Louvain community detection {"service":"graph-analytics","nodes":10}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Louvain completed {"service":"graph-analytics","iterations":2,"communities":2,"modularity":"0.5533"}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Running label propagation algorithm {"service":"graph-analytics","nodes":10,"maxIterations":100}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Label propagation completed {"service":"graph-analytics","iterations":2,"communities":2}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Running Louvain community detection {"service":"graph-analytics","nodes":10}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Louvain completed {"service":"graph-analytics","iterations":2,"communities":2,"modularity":"0.5533"}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Running pattern miner {"service":"graph-analytics","graph":10}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test:     console.log
apps/graph-analytics test:       2026-01-29 10:10:17 [[32minfo[39m]: Pattern mining completed, found 13 patterns {"service":"graph-analytics"}
apps/graph-analytics test:       at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
apps/graph-analytics test: Test Suites: 2 passed, 2 total
apps/graph-analytics test: Tests:       19 passed, 19 total
apps/graph-analytics test: Snapshots:   0 total
apps/graph-analytics test: Time:        8.675 s
apps/graph-analytics test: Ran all test suites.
apps/graph-analytics test: Done
apps/search-engine test$ NODE_OPTIONS='--experimental-vm-modules' jest
apps/mobile-interface test: No tests found, exiting with code 0
apps/mobile-native test: No tests found, exiting with code 0
apps/mobile-interface test: Done
apps/server test$ NODE_OPTIONS=--experimental-vm-modules jest --config ./jest.config.cjs --runInBand
apps/mobile-native test: Done
apps/slo-exporter test$ echo "No tests specified yet" && exit 0
apps/slo-exporter test: No tests specified yet
apps/slo-exporter test: Done
apps/tri-pane test$ vitest run
apps/tri-pane test:  RUN  v2.1.9 /workspace/summit/apps/tri-pane
apps/search-engine test: (node:12667) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
apps/search-engine test: (Use `node --trace-warnings ...` to show where the warning was created)
apps/search-engine test: PASS src/__tests__/ElasticsearchService.test.ts
apps/search-engine test: PASS src/__tests__/QueryBuilderService.test.ts
apps/search-engine test: Test Suites: 2 passed, 2 total
apps/search-engine test: Tests:       58 passed, 58 total
apps/search-engine test: Snapshots:   0 total
apps/search-engine test: Time:        5.823 s
apps/search-engine test: Ran all test suites.
apps/search-engine test: Done
apps/web test$ vitest
apps/server test: ts-jest[ts-jest-transformer] (WARN) Define `ts-jest` config under `globals` is deprecated. Please do
apps/server test: transform: {
apps/server test:     <transform_regex>: ['ts-jest', { /* ts-jest config goes here in Jest */ }],
apps/server test: },
apps/server test: See more at https://kulshekhar.github.io/ts-jest/docs/getting-started/presets#advanced
apps/web test:  RUN  v4.0.16 /workspace/summit/apps/web
apps/tri-pane test:  âœ“ src/components/__tests__/savedViews.test.tsx (2 tests) 1802ms
apps/tri-pane test:    âœ“ Saved views > saves, persists, reloads, and restores a time window 1682ms
apps/tri-pane test:  Test Files  1 passed (1)
apps/tri-pane test:       Tests  2 passed (2)
apps/tri-pane test:    Start at  10:10:23
apps/tri-pane test:    Duration  9.71s (transform 836ms, setup 721ms, collect 1.71s, tests 1.80s, environment 2.75s, prepare 841ms)
apps/tri-pane test: Done
apps/webapp test$ vitest run
apps/webapp test:  RUN  v4.0.18 /workspace/summit/apps/webapp
apps/web test:  â†“ src/features/triPane/TriPaneShell.test.tsx (16 tests | 16 skipped)
apps/web test:  âœ“ src/__tests__/integration/error-boundaries.test.tsx (11 tests | 1 skipped) 3410ms
apps/web test:        âœ“ catches data fetch errors and shows appropriate fallback  526ms
apps/web test:        âœ“ renders admin panel successfully when no errors occur  998ms
apps/web test:        âœ“ provides safe navigation back to workspace  487ms
apps/web test:        âœ“ does not enable automatic retry for mutations  379ms
apps/webapp test: stdout | src/App.test.tsx
apps/webapp test: Setup file is executing (using require)...
apps/webapp test: TextEncoder in util: true
apps/webapp test: stdout | src/components/SelectionSummary.test.tsx
apps/webapp test: Setup file is executing (using require)...
apps/webapp test: TextEncoder in util: true
apps/web test:  â†“ src/panes/__tests__/MapPane.test.tsx (4 tests | 4 skipped)
apps/webapp test: stderr | src/components/SelectionSummary.test.tsx > SelectionSummary > renders with no selection
apps/webapp test: In HTML, <div> cannot be a descendant of <p>.
apps/webapp test: This will cause a hydration error.
apps/webapp test:   <Provider store={{...}}>
apps/webapp test:     <SelectionSummary>
apps/webapp test:       <Grid direction="row" spacing={2} alignItems="center" data-testid="selection-..." aria-label="selection ...">
apps/webapp test:         <MuiStack-root as="div" ownerState={{...}} ref={null} className="MuiStack-root" data-testid="selection-..." ...>
apps/webapp test:           <Insertion>
apps/webapp test:           <div className="MuiStack-r..." data-testid="selection-..." aria-label="selection ...">
apps/webapp test:             <Typography variant="body2">
apps/webapp test:               <MuiTypography-root as="p" ref={null} className="MuiTypogra..." sx={{...}} ...>
apps/webapp test:                 <Insertion>
apps/webapp test: >               <p className="MuiTypography-root MuiTypography-body2 css-7ctihp-MuiTypography-root" style={{}}>
apps/webapp test:                   <Chip label="None" color="default" size="small" variant="outlined" data-testid="selected-n..." ...>
apps/webapp test:                     <MuiChip-root as="div" onClick={function onClick} onKeyDown={function onKeyDown} ...>
apps/webapp test:                       <Insertion>
apps/webapp test: >                     <div
apps/webapp test: >                       onClick={function onClick}
apps/webapp test: >                       onKeyDown={function onKeyDown}
apps/webapp test: >                       onKeyUp={function onKeyUp}
apps/webapp test: >                       disabled={undefined}
apps/webapp test: >                       tabIndex={undefined}
apps/webapp test: >                       data-testid="selected-node-label"
apps/webapp test: >                       className="MuiChip-root MuiChip-outlined MuiChip-sizeSmall MuiChip-colorDefault MuiChip-outlin..."
apps/webapp test: >                       ref={function}
apps/webapp test: >                     >
apps/webapp test:             ...
apps/webapp test: <p> cannot contain a nested <div>.
apps/webapp test: See this log for the ancestor stack trace.
apps/web test: stdout | src/telemetry/__tests__/metrics.test.ts > reportError > sends error data to telemetry endpoint
apps/web test: ðŸš¨ Error Reported
apps/web test:   Fingerprint: ad2daa72
apps/web test:   Category: render
apps/web test:   Severity: high
apps/web test:   Context: { componentStack: 'at Component' }
apps/web test: stderr | src/telemetry/__tests__/metrics.test.ts > reportError > sends error data to telemetry endpoint
apps/web test:   Error: Test error
apps/web test:       at /workspace/summit/apps/web/src/telemetry/__tests__/metrics.test.ts:151:19
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:145:11
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:915:26
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1243:20
apps/web test:       at new Promise (<anonymous>)
apps/web test:       at runWithTimeout (file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1209:10)
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1653:37
apps/web test:       at Traces.$ (file:///workspace/summit/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
apps/web test:       at trace (file:///workspace/summit/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
apps/web test:       at runTest (file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1653:12)
apps/web test: stderr | src/telemetry/__tests__/metrics.test.ts > reportError > includes error fingerprint and category
apps/web test:   Error: Test error
apps/web test:       at /workspace/summit/apps/web/src/telemetry/__tests__/metrics.test.ts:168:19
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:145:11
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:915:26
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1243:20
apps/web test:       at new Promise (<anonymous>)
apps/web test:       at runWithTimeout (file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1209:10)
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1653:37
apps/web test:       at Traces.$ (file:///workspace/summit/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
apps/web test:       at trace (file:///workspace/summit/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
apps/web test:       at runTest (file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1653:12)
apps/web test: stderr | src/telemetry/__tests__/metrics.test.ts > reportError > includes additional context
apps/web test:   Error: Test error
apps/web test:       at /workspace/summit/apps/web/src/telemetry/__tests__/metrics.test.ts:179:19
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:145:11
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:915:26
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1243:20
apps/web test:       at new Promise (<anonymous>)
apps/web test:       at runWithTimeout (file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1209:10)
apps/web test:       at file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1653:37
apps/web test:       at Traces.$ (file:///workspace/summit/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
apps/web test:       at trace (file:///workspace/summit/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
apps/web test:       at runTest (file:///workspace/summit/node_modules/@vitest/runner/dist/index.js:1653:12)
apps/web test: stdout | src/telemetry/__tests__/metrics.test.ts > reportError > includes error fingerprint and category
apps/web test: ðŸš¨ Error Reported
apps/web test:   Fingerprint: ad2daa72
apps/web test:   Category: unknown
apps/web test:   Severity: high
apps/web test:   Context: undefined
apps/web test: stdout | src/telemetry/__tests__/metrics.test.ts > reportError > includes additional context
apps/web test: ðŸš¨ Error Reported
apps/web test:   Fingerprint: ad2daa72
apps/web test:   Category: unknown
apps/web test:   Severity: high
apps/web test:   Context: undefined
apps/web test: stdout | src/telemetry/__tests__/metrics.test.ts > reportError > handles fetch failures gracefully
apps/web test: ðŸš¨ Error Reported
apps/web test:   Fingerprint: ad2daa72
apps/web test:   Category: unknown
apps/web test:   Severity: high
apps/web test:   Context: undefined
apps/web test:  âœ“ src/telemetry/__tests__/metrics.test.ts (17 tests) 149ms
apps/webapp test: stderr | src/App.test.tsx > renders panes
apps/webapp test: In HTML, <div> cannot be a descendant of <p>.
apps/webapp test: This will cause a hydration error.
apps/webapp test:   ...
apps/webapp test:     <CssBaseline>
apps/webapp test:     <BrowserRouter>
apps/webapp test:       <Router basename={undefined} location={{pathname:"/", ...}} navigationType="POP" navigator={{action:"POP", ...}} ...>
apps/webapp test:         <CommandPalette>
apps/webapp test:         <Box display="flex" justifyContent="space-between" alignItems="center" p={1}>
apps/webapp test:           <Styled(div) as="div" ref={null} className="MuiBox-root" theme={{...}} sx={{display:"flex", ...}}>
apps/webapp test:             <Insertion>
apps/webapp test:             <div className="MuiBox-roo...">
apps/webapp test:               <SelectionSummary>
apps/webapp test:                 <Grid direction="row" spacing={2} alignItems="center" data-testid="selection-..." ...>
apps/webapp test:                   <MuiStack-root as="div" ownerState={{...}} ref={null} className="MuiStack-root" ...>
apps/webapp test:                     <Insertion>
apps/webapp test:                     <div className="MuiStack-r..." data-testid="selection-..." aria-label="selection ...">
apps/webapp test:                       <Typography variant="body2">
apps/webapp test:                         <MuiTypography-root as="p" ref={null} className="MuiTypogra..." sx={{...}} ...>
apps/webapp test:                           <Insertion>
apps/webapp test: >                         <p className="MuiTypography-root MuiTypography-body2 css-7ctihp-MuiTypography-root" style={{}}>
apps/webapp test:                             <Chip label="None" color="default" size="small" variant="outlined" ...>
apps/webapp test:                               <MuiChip-root as="div" onClick={function onClick} onKeyDown={function onKeyDown} ...>
apps/webapp test:                                 <Insertion>
apps/webapp test: >                               <div
apps/webapp test: >                                 onClick={function onClick}
apps/webapp test: >                                 onKeyDown={function onKeyDown}
apps/webapp test: >                                 onKeyUp={function onKeyUp}
apps/webapp test: >                                 disabled={undefined}
apps/webapp test: >                                 tabIndex={undefined}
apps/webapp test: >                                 data-testid="selected-node-label"
apps/webapp test: >                                 className="MuiChip-root MuiChip-outlined MuiChip-sizeSmall MuiChip-colorDefault MuiC..."
apps/webapp test: >                                 ref={function}
apps/webapp test: >                               >
apps/webapp test:                       ...
apps/webapp test:               ...
apps/webapp test:         ...
apps/webapp test: <p> cannot contain a nested <div>.
apps/webapp test: See this log for the ancestor stack trace.
apps/webapp test:  âœ“ src/App.test.tsx (2 tests) 1038ms
apps/webapp test:    âœ“ renders panes  1034ms
apps/webapp test:  âœ“ src/components/SelectionSummary.test.tsx (3 tests) 1223ms
apps/webapp test:      âœ“ renders with no selection  620ms
apps/webapp test:  Test Files  2 passed (2)
apps/webapp test:       Tests  5 passed (5)
apps/webapp test:    Start at  10:10:37
apps/webapp test:    Duration  14.70s (transform 1.40s, setup 1.01s, import 11.28s, tests 2.26s, environment 11.08s)
apps/webapp test: Done
apps/workflow-engine test$ jest
apps/workflow-engine test: â— Validation Error:
apps/workflow-engine test:   Module <rootDir>/tests/utils/jest-setup.cjs in the setupFilesAfterEnv option was not found.
apps/workflow-engine test:          <rootDir> is: /workspace/summit/apps/workflow-engine
apps/workflow-engine test:   Configuration Documentation:
apps/workflow-engine test:   https://jestjs.io/docs/configuration
apps/workflow-engine test: Failed
/workspace/summit/apps/workflow-engine:
â€‰ERR_PNPM_RECURSIVE_RUN_FIRST_FAILâ€‰ @intelgraph/workflow-engine@4.2.3 test: `jest`
Exit status 1
client test$ node node_modules/jest/bin/jest.js --config jest.config.cjs
â€‰ELIFECYCLEâ€‰ Test failed. See above for more details.
