apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: maestro-secrets
  namespace: maestro
spec:
  refreshInterval: 1h
  secretStoreRef:
    name: terraform-secret-store # TODO: set your SecretStore name
    kind: ClusterSecretStore
  target:
    name: maestro-secrets
    creationPolicy: Owner
  data:
    - secretKey: database-url
      remoteRef: { key: /maestro/prod/database-url }
    - secretKey: redis-url
      remoteRef: { key: /maestro/prod/redis-url }
    - secretKey: openai-api-key
      remoteRef: { key: /maestro/prod/openai-api-key }
    - secretKey: anthropic-api-key
      remoteRef: { key: /maestro/prod/anthropic-api-key }
    - secretKey: github-token
      remoteRef: { key: /maestro/prod/github-token }
    - secretKey: jira-token
      remoteRef: { key: /maestro/prod/jira-token }
    - secretKey: jwt-secret
      remoteRef: { key: /maestro/prod/jwt-secret }
    - secretKey: key-encryption-key
      remoteRef: { key: /maestro/prod/key-encryption-key }
    - secretKey: otel-api-key
      remoteRef: { key: /maestro/prod/otel-api-key }
    - secretKey: pagerduty-routing-key
      remoteRef: { key: /maestro/prod/pagerduty-routing-key }
    - secretKey: ghcr-token
      remoteRef: { key: /maestro/prod/ghcr-token }
