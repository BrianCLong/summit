# IntelGraph Production Environment Configuration
# Copy to .env and update with your production values

# ========================================
# ENVIRONMENT
# ========================================
NODE_ENV=production
PORT=4000

# GraphQL Security - ENFORCED IN PRODUCTION
PERSISTED_QUERIES=1
APOLLO_INTROSPECTION=false

# ========================================
# DATABASE CONFIGURATION
# ========================================

# Neo4j Configuration
NEO4J_URI=bolt://neo4j:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=your_secure_neo4j_password_here
NEO4J_DATABASE=neo4j

# PostgreSQL Configuration
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=intelgraph_prod
POSTGRES_USER=intelgraph
POSTGRES_PASSWORD=your_secure_postgres_password_here
DATABASE_READ_REPLICAS=
PG_WRITE_POOL_SIZE=40
PG_READ_POOL_SIZE=80
PG_QUERY_MAX_RETRIES=3
PG_RETRY_BASE_DELAY_MS=40
PG_RETRY_MAX_DELAY_MS=500
PG_READ_TIMEOUT_MS=5000
PG_WRITE_TIMEOUT_MS=30000
PG_CONNECTION_LEAK_THRESHOLD_MS=10000
PG_SLOW_QUERY_THRESHOLD_MS=1500
PG_PREPARED_STATEMENT_CACHE_SIZE=500
PG_SLOW_QUERY_ANALYSIS_ENTRIES=200
PG_CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
PG_CIRCUIT_BREAKER_COOLDOWN_MS=20000

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_DB=0

# ========================================
# SECURITY CONFIGURATION
# ========================================

# JWT Secrets (Generate secure random strings)
JWT_SECRET=your_super_secure_jwt_secret_256_bits_minimum
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your_super_secure_refresh_secret_256_bits_minimum
JWT_REFRESH_EXPIRES_IN=7d

# Bcrypt Rounds (12-15 for production)
BCRYPT_ROUNDS=14

# ========================================
# EXTERNAL API KEYS
# ========================================

# OpenAI Configuration
OPENAI_API_KEY=sk-your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4000

# Azure OpenAI (Alternative to OpenAI)
AZURE_OPENAI_API_KEY=your_azure_openai_key_here
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4

# Google AI Platform
GOOGLE_APPLICATION_CREDENTIALS=/path/to/google-service-account.json
GOOGLE_CLOUD_PROJECT_ID=your-gcp-project-id

# AWS Configuration
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=intelgraph-data-prod

# ========================================
# INTELLIGENCE SOURCES
# ========================================

# Threat Intelligence
VIRUSTOTAL_API_KEY=your_virustotal_api_key
MISP_URL=https://your-misp-instance.com
MISP_API_KEY=your_misp_api_key

# OSINT Sources
SHODAN_API_KEY=your_shodan_api_key
CENSYS_API_ID=your_censys_api_id
CENSYS_API_SECRET=your_censys_api_secret

# Commercial Intelligence
CLEARBIT_API_KEY=your_clearbit_api_key
PIPL_API_KEY=your_pipl_api_key

# Social Media APIs
TWITTER_BEARER_TOKEN=your_twitter_bearer_token
LINKEDIN_CLIENT_ID=your_linkedin_client_id
LINKEDIN_CLIENT_SECRET=your_linkedin_client_secret

# ========================================
# ENTERPRISE INTEGRATIONS
# ========================================

# Splunk
SPLUNK_HOST=https://your-splunk-instance.com:8089
SPLUNK_USERNAME=your_splunk_user
SPLUNK_PASSWORD=your_splunk_password

# Elasticsearch
ELASTICSEARCH_HOST=https://your-elasticsearch-cluster.com:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=your_elasticsearch_password

# Microsoft Graph (for Office 365/Teams)
MICROSOFT_CLIENT_ID=your_microsoft_app_id
MICROSOFT_CLIENT_SECRET=your_microsoft_app_secret
MICROSOFT_TENANT_ID=your_tenant_id

# Slack
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token
SLACK_SIGNING_SECRET=your_slack_signing_secret

# ========================================
# NOTIFICATION CONFIGURATION
# ========================================

# Email (SMTP)
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USERNAME=your_email@company.com
SMTP_PASSWORD=your_email_password

# SMS (Twilio)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# Push Notifications (Firebase)
FIREBASE_PROJECT_ID=your-firebase-project
FIREBASE_CLIENT_EMAIL=firebase-service@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nyour_firebase_private_key\n-----END PRIVATE KEY-----\n"

# ========================================
# RATE LIMITING & SECURITY
# ========================================

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# CORS Configuration
CORS_ORIGIN=https://your-frontend-domain.com,https://your-admin-domain.com

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/ssl/certs/intelgraph.crt
SSL_KEY_PATH=/etc/ssl/private/intelgraph.key

# ========================================
# MONITORING & OBSERVABILITY
# ========================================

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_URL=https://grafana.your-domain.com
GRAFANA_API_KEY=your_grafana_api_key

# Application Monitoring (New Relic / DataDog)
NEW_RELIC_LICENSE_KEY=your_new_relic_license_key
NEW_RELIC_APP_NAME=IntelGraph-Production

# Sentry Error Tracking
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id

# ========================================
# BACKUP CONFIGURATION
# ========================================

# Backup Schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *

# Backup Webhook (for notifications)
BACKUP_WEBHOOK_URL=https://your-webhook-endpoint.com/backup-notifications

# ========================================
# SCALING CONFIGURATION
# ========================================

# Redis Cluster (if using Redis Cluster)
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=redis-node1:6379,redis-node2:6379,redis-node3:6379

# Database Connection Pools
POSTGRES_MAX_CONNECTIONS=100
NEO4J_MAX_CONNECTION_POOL_SIZE=50

# ========================================
# FEATURE FLAGS
# ========================================

# Enable/Disable Features
ENABLE_AI_FEATURES=true
ENABLE_REAL_TIME_SYNC=true
ENABLE_MOBILE_API=true
ENABLE_PLUGIN_SYSTEM=true
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_ENTERPRISE_FEATURES=true

# Debug and Development
DEBUG_LEVEL=info
ENABLE_QUERY_LOGGING=false
ENABLE_PERFORMANCE_MONITORING=true

# ========================================
# COMPLIANCE & AUDIT
# ========================================

# Audit Logging
AUDIT_LOG_LEVEL=full
AUDIT_RETENTION_DAYS=2555  # 7 years

# Compliance Mode
SOC2_COMPLIANCE=true
FISMA_COMPLIANCE=true
GDPR_COMPLIANCE=true

# Data Retention
DATA_RETENTION_DAYS=2555
LOG_RETENTION_DAYS=90

# ========================================
# LOAD BALANCER CONFIGURATION
# ========================================

# Health Check Endpoints
HEALTH_CHECK_INTERVAL=30
READINESS_CHECK_TIMEOUT=10

# Session Affinity
SESSION_AFFINITY_ENABLED=true
SESSION_STICKY_COOKIE=intelgraph_session

# ========================================
# CDN CONFIGURATION
# ========================================

# Static Assets CDN
CDN_BASE_URL=https://cdn.your-domain.com
CDN_API_KEY=your_cdn_api_key

# ========================================
# CUSTOM CONFIGURATIONS
# ========================================

# Add any custom environment variables specific to your deployment