
> intelgraph-server@4.0.1 test /Users/brianlong/Developer/summit/server
> jest --config jest.config.ts "src/ai/copilot/__tests__/guardrails.service.test.ts"

jest-haste-map: duplicate manual mock found: utils/logger
  The following files share their name; please delete one of them:
    * <rootDir>/src/__mocks__/utils/logger.ts
    * <rootDir>/dist/src/__mocks__/utils/logger.js

jest-haste-map: duplicate manual mock found: logger
  The following files share their name; please delete one of them:
    * <rootDir>/src/utils/__mocks__/logger.ts
    * <rootDir>/dist/src/utils/__mocks__/logger.js

jest-haste-map: duplicate manual mock found: entityMocks
  The following files share their name; please delete one of them:
    * <rootDir>/src/graphql/resolvers/__mocks__/entityMocks.ts
    * <rootDir>/dist/src/graphql/resolvers/__mocks__/entityMocks.js

ğŸš€ Starting Jest Global Setup...
âœ… Jest Global Setup completed successfully
  console.log
    [dotenv@17.2.3] injecting env (0) from .env.test -- tip: âš™ï¸  enable debug logging with { debug: true }

      at _log (../node_modules/.pnpm/dotenv@17.2.3/node_modules/dotenv/lib/main.js:142:11)

FAIL src/ai/copilot/__tests__/guardrails.service.test.ts
  â— Test suite failed to run

    [96msrc/ai/copilot/__tests__/guardrails.service.test.ts[0m:[93m111[0m:[93m10[0m - [91merror[0m[90m TS7006: [0mParameter 'c' implicitly has an 'any' type.

    [7m111[0m         (c) => c.name === 'has_citations',
    [7m   [0m [91m         ~[0m
    [96msrc/ai/copilot/__tests__/guardrails.service.test.ts[0m:[93m130[0m:[93m10[0m - [91merror[0m[90m TS7006: [0mParameter 'c' implicitly has an 'any' type.

    [7m130[0m         (c) => c.name === 'min_citations_met',
    [7m   [0m [91m         ~[0m
    [96msrc/ai/copilot/__tests__/guardrails.service.test.ts[0m:[93m148[0m:[93m10[0m - [91merror[0m[90m TS7006: [0mParameter 'c' implicitly has an 'any' type.

    [7m148[0m         (c) => c.name === 'has_citations',
    [7m   [0m [91m         ~[0m
    [96msrc/ai/copilot/__tests__/guardrails.service.test.ts[0m:[93m297[0m:[93m10[0m - [91merror[0m[90m TS7006: [0mParameter 'c' implicitly has an 'any' type.

    [7m297[0m         (c) => c.name === 'answer_not_empty',
    [7m   [0m [91m         ~[0m
    [96msrc/ai/copilot/__tests__/guardrails.service.test.ts[0m:[93m308[0m:[93m10[0m - [91merror[0m[90m TS7006: [0mParameter 'c' implicitly has an 'any' type.

    [7m308[0m         (c) => c.name === 'answer_not_empty',
    [7m   [0m [91m         ~[0m
    [96msrc/ai/copilot/__tests__/guardrails.service.test.ts[0m:[93m322[0m:[93m10[0m - [91merror[0m[90m TS7006: [0mParameter 'c' implicitly has an 'any' type.

    [7m322[0m         (c) => c.name === 'answer_not_empty',
    [7m   [0m [91m         ~[0m

Test Suites: 1 failed, 1 total
Tests:       0 total
Snapshots:   0 total
Time:        240.264 s
Ran all test suites matching /src\/ai\/copilot\/__tests__\/guardrails.service.test.ts/i.
ğŸ§¹ Starting Jest Global Teardown...
ğŸ—‘ï¸ Cleaning up temporary directories...
ğŸ”Œ Closing global connections...
âœ… Jest Global Teardown completed successfully
â€‰ELIFECYCLEâ€‰ Test failed. See above for more details.
