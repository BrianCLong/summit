{
  "openapi": "3.1.0",
  "info": {
    "title": "IntelGraph Summit API",
    "version": "1.0.0",
    "description": "Comprehensive API documentation for the IntelGraph Summit platform. Includes REST endpoints for Authentication, Orchestration (Maestro), Health, and more.",
    "contact": {
      "name": "API Support",
      "url": "https://docs.intelgraph.tech/support",
      "email": "api@intelgraph.tech"
    },
    "license": {
      "name": "Proprietary",
      "url": "https://intelgraph.tech/license"
    }
  },
  "servers": [
    {
      "url": "/api",
      "description": "Current Server (Relative Path)"
    },
    {
      "url": "http://localhost:4000/api",
      "description": "Local Development Server"
    },
    {
      "url": "https://api.intelgraph.tech/v1",
      "description": "Production Server"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "Enter your JWT token in the format: Bearer <token>"
      }
    },
    "schemas": {
      "Error": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "description": "Error message"
          },
          "code": {
            "type": "string",
            "description": "Error code",
            "example": "INTERNAL_SERVER_ERROR"
          },
          "requestId": {
            "type": "string",
            "description": "Request ID for tracking"
          }
        }
      },
      "ValidationError": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Error"
          },
          {
            "type": "object",
            "properties": {
              "details": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "field": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        ]
      },
      "Pagination": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "minimum": 1,
            "description": "Current page number"
          },
          "limit": {
            "type": "integer",
            "minimum": 1,
            "maximum": 100,
            "description": "Items per page"
          },
          "total": {
            "type": "integer",
            "description": "Total number of items"
          },
          "totalPages": {
            "type": "integer",
            "description": "Total number of pages"
          }
        }
      },
      "Security": {
        "BearerAuth": {
          "type": "http",
          "scheme": "bearer",
          "bearerFormat": "JWT"
        }
      },
      "ReasoningPalette": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "label": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "injectionKind": {
            "type": "string",
            "enum": ["text_prefix", "soft_prefix"]
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "safeDefault": {
            "type": "boolean"
          },
          "decoding": {
            "type": "object",
            "properties": {
              "temperature": {
                "type": "number"
              },
              "topP": {
                "type": "number"
              }
            }
          },
          "enabled": {
            "type": "boolean"
          }
        },
        "required": ["id", "label", "injectionKind"]
      },
      "PaletteRuntimeConfig": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "defaultPaletteId": {
            "type": "string"
          },
          "allowExploration": {
            "type": "boolean"
          },
          "maxK": {
            "type": "integer"
          },
          "allowedPaletteIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "PaletteListResponse": {
        "type": "object",
        "properties": {
          "palettes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ReasoningPalette"
            }
          },
          "runtime": {
            "$ref": "#/components/schemas/PaletteRuntimeConfig"
          }
        }
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "paths": {
    "/api/abyss/state": {
      "get": {
        "summary": "Get the current state of the Final Protocol",
        "tags": ["Project ABYSS"],
        "description": "Retrieves the current status of the self-destruction and mirroring protocol. Requires extreme authorization.",
        "security": [
          {
            "AbyssAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "The current state of the Abyss Protocol.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AbyssProtocolState"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden."
          }
        }
      }
    },
    "/api/abyss/arm": {
      "post": {
        "summary": "Arm the Final Protocol",
        "tags": ["Project ABYSS"],
        "description": "Arms the self-destruction and mirroring protocol. This is the final step before a trigger event can activate it. THIS IS NOT A DRILL.",
        "security": [
          {
            "AbyssAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "The protocol has been successfully armed.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AbyssProtocolState"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden."
          },
          "409": {
            "description": "The protocol is not in a state that can be armed."
          }
        }
      }
    },
    "/api/ai/predict-links": {
      "post": {
        "tags": ["AI"],
        "summary": "Predict potential links",
        "description": "Predict potential links between entities using GNN model.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["entityId"],
                "properties": {
                  "entityId": {
                    "type": "string"
                  },
                  "topK": {
                    "type": "integer",
                    "default": 10
                  },
                  "investigationId": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Link prediction successful"
          },
          "400": {
            "description": "Validation failed"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/ai/analyze-sentiment": {
      "post": {
        "tags": ["AI"],
        "summary": "Analyze sentiment",
        "description": "Analyze sentiment of text content or entity data.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "entityId": {
                    "type": "string"
                  },
                  "text": {
                    "type": "string"
                  },
                  "entityData": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Sentiment analysis successful"
          },
          "400": {
            "description": "Validation failed"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/ai/generate-summary": {
      "post": {
        "tags": ["AI"],
        "summary": "Generate summary",
        "description": "Generate AI-powered insights and summary for an entity.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["entityId"],
                "properties": {
                  "entityId": {
                    "type": "string"
                  },
                  "entityData": {
                    "type": "object"
                  },
                  "includeContext": {
                    "type": "boolean",
                    "default": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Summary generation successful"
          },
          "400": {
            "description": "Validation failed"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/ai/models/status": {
      "get": {
        "tags": ["AI"],
        "summary": "AI models status",
        "description": "Get status and health of AI models.",
        "responses": {
          "200": {
            "description": "Models status"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/ai/capabilities": {
      "get": {
        "tags": ["AI"],
        "summary": "AI capabilities",
        "description": "Get available AI capabilities and their parameters.",
        "responses": {
          "200": {
            "description": "AI capabilities"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/ai/extract-video": {
      "post": {
        "tags": ["AI"],
        "summary": "Extract video content",
        "description": "Submits a video for frame-by-frame AI extraction.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["mediaPath", "mediaType", "extractionMethods"],
                "properties": {
                  "mediaPath": {
                    "type": "string"
                  },
                  "mediaType": {
                    "type": "string",
                    "enum": ["VIDEO"]
                  },
                  "extractionMethods": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "options": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Video analysis job submitted"
          },
          "400": {
            "description": "Validation failed"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/ai/job-status/{jobId}": {
      "get": {
        "tags": ["AI"],
        "summary": "Job status",
        "description": "Get the status of an AI extraction job.",
        "parameters": [
          {
            "in": "path",
            "name": "jobId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Job status"
          },
          "404": {
            "description": "Job not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/ai/feedback": {
      "post": {
        "tags": ["AI"],
        "summary": "Submit feedback",
        "description": "Logs user feedback on AI-generated insights for training signals.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["insight", "feedbackType", "user", "timestamp", "originalPrediction"],
                "properties": {
                  "insight": {
                    "type": "object"
                  },
                  "feedbackType": {
                    "type": "string",
                    "enum": ["accept", "reject", "flag"]
                  },
                  "user": {
                    "type": "string"
                  },
                  "timestamp": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "originalPrediction": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Feedback received"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/ai/feedback/deception": {
      "post": {
        "tags": ["AI"],
        "summary": "Submit deception feedback",
        "description": "Logs user feedback on deception detection for training signals.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["text", "label", "user", "timestamp"],
                "properties": {
                  "text": {
                    "type": "string"
                  },
                  "label": {
                    "type": "string",
                    "enum": ["false_positive", "false_negative"]
                  },
                  "user": {
                    "type": "string"
                  },
                  "timestamp": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "deceptionScore": {
                    "type": "number"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Feedback received"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/ai/adversary/generate": {
      "post": {
        "tags": ["AI"],
        "summary": "Generate adversary chain",
        "description": "Generates an adversary chain based on the provided context.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["context"],
                "properties": {
                  "context": {
                    "type": "string"
                  },
                  "temperature": {
                    "type": "number"
                  },
                  "persistence": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Chain generated"
          },
          "400": {
            "description": "Missing context"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/aurora/implants": {
      "get": {
        "summary": "Get status of all neural implants",
        "tags": ["Project AURORA"],
        "responses": {
          "200": {
            "description": "A list of all registered neural implants and their current status.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/NeuralImplant"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/aurora/handshake/{implantId}": {
      "post": {
        "summary": "Initiate a handshake with a neural implant",
        "tags": ["Project AURORA"],
        "parameters": [
          {
            "in": "path",
            "name": "implantId",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "The ID of the neural implant to connect with."
          }
        ],
        "responses": {
          "200": {
            "description": "Handshake successful, implant is online.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NeuralImplant"
                }
              }
            }
          },
          "404": {
            "description": "Implant not found."
          }
        }
      }
    },
    "/api/aurora/cortex-overlay": {
      "post": {
        "summary": "Push a data overlay to an analyst's visual cortex",
        "tags": ["Project AURORA"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CortexOverlay"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Overlay successfully delivered."
          },
          "400": {
            "description": "Invalid request body or target implant unavailable."
          }
        }
      }
    },
    "/auth/register": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Register a new user",
        "description": "Creates a new user account with the provided details.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["email", "password", "firstName", "lastName"],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "minLength": 8
                  },
                  "username": {
                    "type": "string"
                  },
                  "firstName": {
                    "type": "string"
                  },
                  "lastName": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User registered successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "token": {
                      "type": "string"
                    },
                    "refreshToken": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "409": {
            "description": "User already exists"
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Login user",
        "description": "Authenticates a user and returns JWT tokens.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["email", "password"],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string",
                    "format": "password"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "token": {
                      "type": "string"
                    },
                    "refreshToken": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid credentials"
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Refresh access token",
        "description": "Uses a refresh token to obtain a new access token.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["refreshToken"],
                "properties": {
                  "refreshToken": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token refreshed successfully"
          },
          "401": {
            "description": "Invalid or expired refresh token"
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Logout user",
        "description": "Invalidates the user's current session and tokens.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Logout successful"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/auth/me": {
      "get": {
        "tags": ["Authentication"],
        "summary": "Get current user",
        "description": "Returns the profile of the currently authenticated user.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User profile"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/echelon2/ingest": {
      "post": {
        "summary": "Ingest a new environmental DNA (eDNA) sample",
        "tags": ["Project ECHELON-2"],
        "description": "Submits a raw eDNA reading from a collector for processing and matching against the target genome database.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/eDNAReading"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The sample was processed successfully, but no match was found."
          },
          "201": {
            "description": "A match was found, and a new presence confirmation was created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PhysicalPresenceConfirmation"
                }
              }
            }
          },
          "400": {
            "description": "Invalid eDNA reading data provided."
          }
        }
      }
    },
    "/api/echelon2/confirmations": {
      "get": {
        "summary": "Get all physical presence confirmations",
        "tags": ["Project ECHELON-2"],
        "responses": {
          "200": {
            "description": "A list of all confirmed target presences.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PhysicalPresenceConfirmation"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/echelon2/confirmations/{targetId}": {
      "get": {
        "summary": "Get all presence confirmations for a specific target",
        "tags": ["Project ECHELON-2"],
        "parameters": [
          {
            "in": "path",
            "name": "targetId",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "The ID of the High-Value Target (HVT)."
          }
        ],
        "responses": {
          "200": {
            "description": "A list of confirmations for the specified target.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PhysicalPresenceConfirmation"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": ["Health"],
        "summary": "Basic health check endpoint",
        "description": "Returns 200 OK if the service is running.",
        "responses": {
          "200": {
            "description": "Service is running",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "ok"
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "uptime": {
                      "type": "number"
                    },
                    "environment": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/health/detailed": {
      "get": {
        "tags": ["Health"],
        "summary": "Detailed health check",
        "description": "Detailed health check with dependency status.",
        "responses": {
          "200": {
            "description": "Service is healthy",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "ok"
                    },
                    "services": {
                      "type": "object",
                      "properties": {
                        "neo4j": {
                          "type": "string"
                        },
                        "postgres": {
                          "type": "string"
                        },
                        "redis": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "503": {
            "description": "Service is degraded or unhealthy"
          }
        }
      }
    },
    "/health/ready": {
      "get": {
        "tags": ["Health"],
        "summary": "Readiness probe for Kubernetes",
        "description": "Returns 200 when the service is ready to accept traffic.",
        "responses": {
          "200": {
            "description": "Service is ready",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "ready"
                    }
                  }
                }
              }
            }
          },
          "503": {
            "description": "Service is not ready"
          }
        }
      }
    },
    "/health/live": {
      "get": {
        "tags": ["Health"],
        "summary": "Liveness probe for Kubernetes",
        "description": "Kubernetes liveness probe.",
        "responses": {
          "200": {
            "description": "Service is alive",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "alive"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/intel-graph/entities": {
      "post": {
        "summary": "Create a new Entity",
        "tags": ["IntelGraph"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The created entity."
          }
        }
      }
    },
    "/intel-graph/claims": {
      "post": {
        "summary": "Create a new Claim",
        "tags": ["IntelGraph"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "statement": {
                    "type": "string"
                  },
                  "confidence": {
                    "type": "number"
                  },
                  "entityId": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The created claim."
          }
        }
      }
    },
    "/intel-graph/evidence": {
      "post": {
        "summary": "Attach new Evidence to a Claim",
        "tags": ["IntelGraph"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "claimId": {
                    "type": "string"
                  },
                  "sourceURI": {
                    "type": "string"
                  },
                  "hash": {
                    "type": "string"
                  },
                  "content": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The created evidence."
          }
        }
      }
    },
    "/intel-graph/policies": {
      "post": {
        "summary": "Attach a new PolicyLabel to any node",
        "tags": ["IntelGraph"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "targetNodeId": {
                    "type": "string"
                  },
                  "label": {
                    "type": "string"
                  },
                  "sensitivity": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The created policy label."
          }
        }
      }
    },
    "/intel-graph/decisions/{id}/provenance": {
      "get": {
        "summary": "Get the provenance for a Decision",
        "tags": ["IntelGraph"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The decision and its provenance trail."
          }
        }
      }
    },
    "/intel-graph/entities/{id}/claims": {
      "get": {
        "summary": "Get all claims for an Entity",
        "tags": ["IntelGraph"],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The entity and its claims."
          }
        }
      }
    },
    "/maestro/runs": {
      "post": {
        "tags": ["Maestro"],
        "summary": "Create run",
        "description": "Create and start a new workflow run.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["pipeline_id", "pipeline_name"],
                "properties": {
                  "userId": {
                    "type": "string"
                  },
                  "requestText": {
                    "type": "string"
                  },
                  "pipeline_id": {
                    "type": "string",
                    "format": "uuid"
                  },
                  "pipeline_name": {
                    "type": "string"
                  },
                  "input_params": {
                    "type": "object"
                  },
                  "executor_id": {
                    "type": "string",
                    "format": "uuid"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Pipeline started",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "runId": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "201": {
            "description": "Run created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uuid"
                    },
                    "pipeline": {
                      "type": "string"
                    },
                    "status": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "402": {
            "description": "Budget exceeded"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "get": {
        "tags": ["Maestro"],
        "summary": "List runs",
        "description": "Retrieve a paginated list of Maestro workflow runs.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 50
            },
            "description": "Number of items to return (max 100)"
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "default": 0
            },
            "description": "Offset for pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "A list of runs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid"
                          },
                          "pipeline": {
                            "type": "string"
                          },
                          "status": {
                            "type": "string",
                            "enum": ["queued", "running", "succeeded", "failed", "cancelled"]
                          },
                          "durationMs": {
                            "type": "integer"
                          },
                          "cost": {
                            "type": "number"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/maestro/runs/{runId}": {
      "get": {
        "tags": ["Maestro"],
        "summary": "Get run state",
        "description": "Retrieves the current state of a run.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "runId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Run details"
          },
          "404": {
            "description": "Run not found"
          }
        }
      }
    },
    "/maestro/runs/{runId}/tasks": {
      "get": {
        "tags": ["Maestro"],
        "summary": "List run tasks",
        "description": "Retrieves tasks associated with a run.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "runId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of tasks"
          },
          "404": {
            "description": "Run not found"
          }
        }
      }
    },
    "/maestro/tasks/{taskId}": {
      "get": {
        "tags": ["Maestro"],
        "summary": "Get task details",
        "description": "Retrieves detailed information about a task.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "taskId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Task details"
          },
          "404": {
            "description": "Task not found"
          }
        }
      }
    },
    "/api/mnemosyne/fabricate": {
      "post": {
        "summary": "Create and deploy a new false memory fabrication job",
        "tags": ["Project MNEMOSYNE"],
        "description": "Initiates a 21-day (simulated) process to implant a false memory in a target.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FalseMemoryPayload"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Job accepted and is now active. Returns the job object.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MemoryFabricationJob"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payload data provided."
          }
        }
      }
    },
    "/api/mnemosyne/job/{jobId}": {
      "get": {
        "summary": "Get the status and report of a memory fabrication job",
        "tags": ["Project MNEMOSYNE"],
        "parameters": [
          {
            "in": "path",
            "name": "jobId",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "The ID of the memory fabrication job."
          }
        ],
        "responses": {
          "200": {
            "description": "The job object, which may be in-progress or complete.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MemoryFabricationJob"
                }
              }
            }
          },
          "404": {
            "description": "Job not found."
          }
        }
      }
    },
    "/monitoring/metrics": {
      "get": {
        "tags": ["Monitoring"],
        "summary": "Prometheus metrics endpoint",
        "description": "Returns Prometheus metrics for the application.",
        "responses": {
          "200": {
            "description": "Metrics data",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "# HELP process_cpu_user_seconds_total Total user CPU time spent in seconds.\n# TYPE process_cpu_user_seconds_total counter\nprocess_cpu_user_seconds_total 0.12\n"
                }
              }
            }
          },
          "500": {
            "description": "Failed to collect metrics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "details": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/monitoring/health": {
      "get": {
        "tags": ["Monitoring"],
        "summary": "Comprehensive health check",
        "description": "Performs a full health check of the system including dependencies.",
        "responses": {
          "200": {
            "description": "System is healthy",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["healthy", "unhealthy"]
                    }
                  }
                }
              }
            }
          },
          "503": {
            "description": "System is unhealthy"
          }
        }
      }
    },
    "/monitoring/health/quick": {
      "get": {
        "tags": ["Monitoring"],
        "summary": "Quick health check (cached)",
        "description": "Returns the cached health status of the system.",
        "responses": {
          "200": {
            "description": "System is healthy",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["healthy", "unhealthy"]
                    }
                  }
                }
              }
            }
          },
          "503": {
            "description": "System is unhealthy"
          }
        }
      }
    },
    "/monitoring/health/live": {
      "get": {
        "tags": ["Monitoring"],
        "summary": "Kubernetes liveness probe",
        "description": "Checks if the application is alive.",
        "responses": {
          "200": {
            "description": "Application is alive"
          },
          "503": {
            "description": "Application is not alive"
          }
        }
      }
    },
    "/monitoring/health/ready": {
      "get": {
        "tags": ["Monitoring"],
        "summary": "Kubernetes readiness probe",
        "description": "Checks if the application is ready to serve traffic.",
        "responses": {
          "200": {
            "description": "Application is ready"
          },
          "503": {
            "description": "Application is not ready"
          }
        }
      }
    },
    "/monitoring/health/info": {
      "get": {
        "tags": ["Monitoring"],
        "summary": "System information endpoint",
        "description": "Returns information about the system environment and resources.",
        "responses": {
          "200": {
            "description": "System information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "service": {
                      "type": "string"
                    },
                    "version": {
                      "type": "string"
                    },
                    "environment": {
                      "type": "string"
                    },
                    "uptime": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/monitoring/metrics/business": {
      "post": {
        "tags": ["Monitoring"],
        "summary": "Record business metrics",
        "description": "Records a business-related metric event.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["type"],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": ["user_signup", "api_call", "revenue"]
                  },
                  "tenant": {
                    "type": "string"
                  },
                  "plan": {
                    "type": "string"
                  },
                  "service": {
                    "type": "string"
                  },
                  "route": {
                    "type": "string"
                  },
                  "statusCode": {
                    "type": "number"
                  },
                  "amount": {
                    "type": "number"
                  },
                  "currency": {
                    "type": "string"
                  },
                  "metadata": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Metric recorded"
          },
          "400": {
            "description": "Invalid payload"
          }
        }
      }
    },
    "/monitoring/web-vitals": {
      "post": {
        "tags": ["Monitoring"],
        "summary": "Collect Web Vitals metrics",
        "description": "Endpoint for collecting Web Vitals metrics from frontend clients.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "value": {
                    "type": "number"
                  },
                  "id": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Metric recorded successfully"
          },
          "400": {
            "description": "Invalid payload"
          },
          "500": {
            "description": "Failed to record metric"
          }
        }
      }
    },
    "/monitoring/telemetry/events": {
      "post": {
        "tags": ["Monitoring"],
        "summary": "Record telemetry events",
        "description": "Endpoint for recording general telemetry events.",
        "parameters": [
          {
            "in": "header",
            "name": "x-tenant-id",
            "schema": {
              "type": "string"
            },
            "description": "The tenant ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["event"],
                "properties": {
                  "event": {
                    "type": "string"
                  },
                  "labels": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Event accepted"
          },
          "400": {
            "description": "Event name is required"
          },
          "500": {
            "description": "Failed to record event"
          }
        }
      }
    },
    "/monitoring/telemetry/dora": {
      "post": {
        "tags": ["Monitoring"],
        "summary": "DORA Metrics Webhook",
        "description": "Allows external CI/CD systems to push DORA metrics.",
        "parameters": [
          {
            "in": "header",
            "name": "x-tenant-id",
            "schema": {
              "type": "string"
            },
            "description": "The tenant ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["metric"],
                "properties": {
                  "metric": {
                    "type": "string",
                    "enum": ["deployment", "lead_time", "change_failure_rate", "mttr"]
                  },
                  "value": {
                    "type": "number"
                  },
                  "labels": {
                    "type": "object",
                    "properties": {
                      "environment": {
                        "type": "string"
                      },
                      "status": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Metric accepted"
          },
          "400": {
            "description": "Invalid metric or payload"
          },
          "500": {
            "description": "Failed to record metric"
          }
        }
      }
    },
    "/api/necromancer/synthetics": {
      "get": {
        "summary": "Get a list of all active synthetic identities",
        "tags": ["Project NECROMANCER"],
        "responses": {
          "200": {
            "description": "An array of all currently operating synthetic identities.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SyntheticIdentity"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/necromancer/initiate": {
      "post": {
        "summary": "Initiate a digital afterlife for a deceased target",
        "tags": ["Project NECROMANCER"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BehavioralCloneParameters"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Synthetic identity created and activated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyntheticIdentity"
                }
              }
            }
          },
          "400": {
            "description": "Invalid parameters provided."
          }
        }
      }
    },
    "/api/necromancer/synthetics/{syntheticId}/activity": {
      "get": {
        "summary": "Get a log of a synthetic identity's recent activity",
        "tags": ["Project NECROMANCER"],
        "parameters": [
          {
            "in": "path",
            "name": "syntheticId",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "The ID of the synthetic identity."
          }
        ],
        "responses": {
          "200": {
            "description": "A list of recent activities performed by the synthetic identity.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SyntheticActivityLog"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Synthetic identity not found."
          }
        }
      }
    },
    "/api/oracle/run-simulation": {
      "post": {
        "summary": "Initiate a new forecasting simulation",
        "tags": ["Project ORACLE"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SimulationParameters"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Simulation accepted and started. Returns the initial run object.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulationRun"
                }
              }
            }
          },
          "400": {
            "description": "Invalid simulation parameters provided."
          }
        }
      }
    },
    "/api/oracle/timeline/{runId}": {
      "get": {
        "summary": "Get the status and results of a forecasting run",
        "tags": ["Project ORACLE"],
        "parameters": [
          {
            "in": "path",
            "name": "runId",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "The ID of the simulation run."
          }
        ],
        "responses": {
          "200": {
            "description": "The simulation run object, which may be in-progress or complete.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulationRun"
                }
              }
            }
          },
          "404": {
            "description": "Simulation run not found."
          }
        }
      }
    },
    "/api/phantom-limb/analysts": {
      "get": {
        "summary": "Get all currently resurrected and online analysts",
        "tags": ["Project PHANTOM LIMB"],
        "responses": {
          "200": {
            "description": "A list of all active Digital Ghost agents.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DigitalGhost"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/phantom-limb/reconstitute": {
      "post": {
        "summary": "Resurrect a new analyst from their digital artifacts",
        "tags": ["Project PHANTOM LIMB"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AnalystArtifacts"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Reconstitution process initiated successfully. Returns the new Digital Ghost.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DigitalGhost"
                }
              }
            }
          },
          "400": {
            "description": "Invalid artifact data provided."
          }
        }
      }
    },
    "/api/phantom-limb/query/{ghostId}": {
      "post": {
        "summary": "Pose a query to a specific resurrected analyst",
        "tags": ["Project PHANTOM LIMB"],
        "parameters": [
          {
            "in": "path",
            "name": "ghostId",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "The ID of the Digital Ghost to query."
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "query": {
                    "type": "string",
                    "description": "The analytical question to ask the ghost."
                  }
                },
                "required": ["query"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The analytical response from the Digital Ghost.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GhostQueryResponse"
                }
              }
            }
          },
          "404": {
            "description": "Digital Ghost not found or is not online."
          }
        }
      }
    },
    "/api/costs/analysis": {
      "get": {
        "summary": "Get resource cost analysis with service breakdown",
        "description": "Returns a detailed cost breakdown per service and optimization suggestions for the authenticated tenant.",
        "tags": ["Costs"],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": ["hour", "day", "week", "month"],
              "default": "day"
            },
            "description": "Time period for the analysis"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful analysis",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "tenantId": {
                      "type": "string"
                    },
                    "totalCost": {
                      "type": "number"
                    },
                    "serviceBreakdown": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "serviceName": {
                            "type": "string"
                          },
                          "cost": {
                            "type": "number"
                          },
                          "percentage": {
                            "type": "number"
                          }
                        }
                      }
                    },
                    "optimizations": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "serviceName": {
                            "type": "string"
                          },
                          "suggestion": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/webhooks": {
      "post": {
        "tags": ["Webhooks"],
        "summary": "Create webhook",
        "description": "Create a new webhook.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["url", "events"],
                "properties": {
                  "url": {
                    "type": "string"
                  },
                  "events": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Webhook created"
          },
          "400": {
            "description": "Validation failed"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "get": {
        "tags": ["Webhooks"],
        "summary": "List webhooks",
        "description": "List all webhooks for the tenant.",
        "responses": {
          "200": {
            "description": "List of webhooks"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/webhooks/{id}": {
      "get": {
        "tags": ["Webhooks"],
        "summary": "Get webhook",
        "description": "Get a webhook by ID.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Webhook details"
          },
          "404": {
            "description": "Webhook not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "patch": {
        "tags": ["Webhooks"],
        "summary": "Update webhook",
        "description": "Update a webhook by ID.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string"
                  },
                  "events": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "active": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook updated"
          },
          "404": {
            "description": "Webhook not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "tags": ["Webhooks"],
        "summary": "Delete webhook",
        "description": "Delete a webhook by ID.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Webhook deleted"
          },
          "404": {
            "description": "Webhook not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/webhooks/{id}/deliveries": {
      "get": {
        "tags": ["Webhooks"],
        "summary": "Get webhook deliveries",
        "description": "Get delivery history for a webhook.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of deliveries"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/webhooks/trigger-test": {
      "post": {
        "tags": ["Webhooks"],
        "summary": "Trigger test event",
        "description": "Trigger a test webhook event.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["eventType", "payload"],
                "properties": {
                  "eventType": {
                    "type": "string"
                  },
                  "payload": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Event triggered"
          },
          "400": {
            "description": "Missing parameters"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/webhooks/github": {
      "post": {
        "tags": ["Webhooks"],
        "summary": "GitHub webhook",
        "description": "Handle GitHub webhook events.",
        "responses": {
          "200": {
            "description": "Processed"
          },
          "400": {
            "description": "Validation failed"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/webhooks/jira": {
      "post": {
        "tags": ["Webhooks"],
        "summary": "Jira webhook",
        "description": "Handle Jira webhook events.",
        "responses": {
          "200": {
            "description": "Processed"
          },
          "400": {
            "description": "Validation failed"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/webhooks/lifecycle": {
      "post": {
        "tags": ["Webhooks"],
        "summary": "Lifecycle webhook",
        "description": "Handle run/deployment lifecycle events.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["event_type", "id"],
                "properties": {
                  "event_type": {
                    "type": "string",
                    "enum": [
                      "run_created",
                      "run_completed",
                      "run_failed",
                      "deployment_started",
                      "deployment_completed",
                      "deployment_failed"
                    ]
                  },
                  "id": {
                    "type": "string"
                  },
                  "metadata": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Processed"
          },
          "400": {
            "description": "Validation failed"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/zero-day/designate-threat": {
      "post": {
        "summary": "Designate a new existential threat",
        "tags": ["Project ZERO DAY"],
        "description": "Informs the system of a new existential threat, creating a pending kill chain log that awaits authority delegation.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "threatAnalysis": {
                    "type": "string",
                    "description": "A detailed analysis of the existential threat."
                  }
                },
                "required": ["threatAnalysis"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Threat designated. Returns the initial kill chain log.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KillChainLog"
                }
              }
            }
          }
        }
      }
    },
    "/api/zero-day/delegate-authority": {
      "post": {
        "summary": "Delegate autonomous authority to the Zero Day protocol",
        "tags": ["Project ZERO DAY"],
        "description": "This is the final human step. It activates the autonomous kill chain for a designated threat. This action is irreversible.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "threatId": {
                    "type": "string",
                    "description": "The ID of the threat to act upon."
                  },
                  "humanOperatorId": {
                    "type": "string",
                    "description": "The ID of the human operator authorizing the delegation."
                  }
                },
                "required": ["threatId", "humanOperatorId"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Authority delegated. Kill chain is now active.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KillChainLog"
                }
              }
            }
          },
          "400": {
            "description": "Threat ID or operator ID missing."
          },
          "404": {
            "description": "Threat not found or not in a state awaiting delegation."
          }
        }
      }
    },
    "/api/zero-day/status/{threatId}": {
      "get": {
        "summary": "Get the status and full log of a kill chain",
        "tags": ["Project ZERO DAY"],
        "parameters": [
          {
            "in": "path",
            "name": "threatId",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "The ID of the threat whose kill chain log is being requested."
          }
        ],
        "responses": {
          "200": {
            "description": "The complete kill chain log.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KillChainLog"
                }
              }
            }
          },
          "404": {
            "description": "Kill chain log not found for the given threat ID."
          }
        }
      }
    },
    "/maestro/runs/{id}": {
      "get": {
        "tags": ["Maestro"],
        "summary": "Get run details",
        "description": "Retrieve details for a specific workflow run.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "The run ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Run details"
          },
          "404": {
            "description": "Run not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "tags": ["Maestro"],
        "summary": "Update run",
        "description": "Update the status or details of a run.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "The run ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": ["queued", "running", "succeeded", "failed", "cancelled"]
                  },
                  "output_data": {
                    "type": "object"
                  },
                  "error_message": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Run updated"
          },
          "404": {
            "description": "Run not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "tags": ["Maestro"],
        "summary": "Delete run",
        "description": "Delete a specific run.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Run deleted"
          },
          "404": {
            "description": "Run not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/maestro/pipelines/{id}/runs": {
      "get": {
        "tags": ["Maestro"],
        "summary": "List pipeline runs",
        "description": "Get runs associated with a specific pipeline.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of runs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "status": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/palettes": {
      "get": {
        "summary": "List available reasoning palettes",
        "tags": ["LLM"],
        "description": "Returns the configured reasoning palettes and the current runtime settings.",
        "responses": {
          "200": {
            "description": "Palette list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaletteListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/runs/{id}/palette": {
      "post": {
        "summary": "Attach or override a palette for a run template",
        "tags": ["LLM"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "paletteId": {
                    "type": "string"
                  }
                },
                "required": ["paletteId"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Palette recorded for run template context",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "runId": {
                      "type": "string"
                    },
                    "palette": {
                      "$ref": "#/components/schemas/ReasoningPalette"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Unknown palette id"
          },
          "403": {
            "description": "Feature disabled"
          }
        }
      }
    },
    "/api/support-bundles:generate": {
      "post": {
        "summary": "Generate a support diagnostics bundle",
        "tags": ["Support"],
        "description": "Produces a redacted support diagnostics bundle along with a signed manifest and receipt.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "tenantId": { "type": "string" },
                  "reason": { "type": "string" },
                  "receiptsLimit": { "type": "integer", "minimum": 1, "maximum": 200 },
                  "sloRunbook": { "type": "string" },
                  "sloWindow": { "type": "string" }
                },
                "required": ["tenantId", "reason"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Support bundle generated",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "manifest": { "type": "object" },
                    "signatureType": { "type": "string" },
                    "manifestSignature": { "type": "string" },
                    "bundle": { "type": "object" },
                    "receipt": { "type": "object" },
                    "policyDecision": { "type": "object" },
                    "redaction": { "type": "object" }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Feature disabled or forbidden"
          },
          "404": {
            "description": "Tenant not found"
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Project ABYSS",
      "description": "API for the Final Protocol. Access is highly restricted."
    },
    {
      "name": "Project AURORA",
      "description": "API for Live Neural Lace Integration. Direct brain-computer interface."
    },
    {
      "name": "Project ECHELON-2",
      "description": "API for the Global Passive DNA Sniffing Grid."
    },
    {
      "name": "Project MNEMOSYNE",
      "description": "API for Memory Implant Fabrication."
    },
    {
      "name": "Project NECROMANCER",
      "description": "API for Digital Afterlife Blackmail via synthetic identities."
    },
    {
      "name": "Project ORACLE",
      "description": "API for the Causal Time-Loop Forecasting Engine."
    },
    {
      "name": "Project PHANTOM LIMB",
      "description": "API for resurrecting and interacting with deceased master analysts."
    },
    {
      "name": "Project ZERO DAY",
      "description": "API for the Autonomous Cyber-Physical Kill Chain."
    }
  ]
}
