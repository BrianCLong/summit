{
  "task_id": "CONTEXT_SHELL_001",
  "agent_id": "codex",
  "prompt_ref": {
    "id": "context-shell-implementation",
    "version": "v1",
    "sha256": "27d13229b649d8d2d6d00ebfe397bbb609aa0f0b80ce1ff1929328f2d196d341",
    "path": "prompts/engineering/context-shell@v1.md"
  },
  "declared_scope": {
    "paths": [
      "libs/context-shell/",
      "server/src/maestro/engine/WorkflowEngine.ts",
      "server/src/maestro/tools/",
      "server/package.json",
      "tests/context-shell/",
      "docs/context-shell.md",
      "docs/runbooks/context-shell-repo-audit.md",
      "docs/roadmap/STATUS.json",
      "prompts/engineering/context-shell@v1.md",
      "prompts/registry.yaml",
      "agents/examples/"
    ],
    "domains": ["engineering", "maestro", "governance", "evidence"],
    "exclusions": []
  },
  "allowed_operations": ["create", "edit"],
  "verification_requirements": {
    "tier": "B",
    "artifacts": ["tests/context-shell/context-shell.test.ts", "evidence/context-shell/*.jsonl"]
  },
  "debt_budget": {
    "permitted": 0,
    "retirement_target": 0
  },
  "success_criteria": [
    "Context Shell package provides ctx.bash/readFile/writeFile with policy gating",
    "Evidence JSONL logs emitted per tool call",
    "Maestro WorkflowEngine registers ctx.* tools",
    "Unit tests cover policy blocks, denylist, deterministic output, and hooks",
    "Documentation covers enablement and threat model"
  ],
  "stop_conditions": [
    "Policy evaluation missing or bypassed",
    "Evidence logging disabled by default",
    "Changes exceed declared scope"
  ]
}
