{
  "task_id": "METERING_EVENTS_20260102",
  "agent_id": "codex",
  "prompt_ref": {
    "id": "metering-events-run-step-approval",
    "version": "v1",
    "sha256": "abcdbd81292c62d8718bf4cf4eee7f3b3ba5ea68569d1f848d1d535f135fcb01",
    "path": "prompts/agent-tasks/metering-events-run-step-approval.md"
  },
  "declared_scope": {
    "paths": [
      "server/src/**",
      "docs/roadmap/STATUS.json",
      "prompts/agent-tasks/*",
      "agents/examples/*"
    ],
    "domains": ["metering", "maestro", "governance"]
  },
  "allowed_operations": ["create", "edit"],
  "verification_requirements": {
    "tier": "B",
    "artifacts": ["jest:emitter-metadata", "make:smoke"]
  },
  "debt_budget": {
    "permitted": 0,
    "retirement_target": 0
  },
  "success_criteria": [
    "Metering events emitted for run, step, approval, receipt, export, and storage writes",
    "Metering metadata includes tenant_id, env, actor_type, workflow_type",
    "Metadata validation tests cover new events"
  ],
  "stop_conditions": [
    "CI integrity check fails for prompt hash scope",
    "Policy-as-code requirements cannot be satisfied"
  ]
}
