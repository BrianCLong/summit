# CI Cost Policy Configuration
# Defines budget limits, rates, and alert thresholds for GitHub Actions usage.

version: "1.0"

settings:
  currency: "USD"
  budget_period: "monthly" # Resets on the 1st of each month

budget:
  # Total monthly budget for the organization or repository
  limit_usd: 100.0
  # Optional: Per-repository cap (if applied org-wide)
  # per_repo_limit_usd: 50.0

rates:
  # Rates per minute in USD
  # Based on GitHub Actions pricing changes (2026 plan)

  # Platform fee for self-hosted runners in private repositories
  self_hosted_platform_fee: 0.002

  # Standard GitHub-hosted runners (Linux 2-core) - approximate reduced rate
  github_hosted_linux: 0.008
  github_hosted_windows: 0.016
  github_hosted_macos: 0.080

  # Note: The script maps 'UBUNTU' to 'github_hosted_linux',
  # 'WINDOWS' to 'github_hosted_windows', 'MACOS' to 'github_hosted_macos'.

thresholds:
  # Percentage of budget usage to trigger alerts
  warning: 75
  critical: 90
  exhausted: 100

notifications:
  # Where to send alerts (implementation dependent)
  issues: true
  slack_webhook: false # Set to env var name if true
