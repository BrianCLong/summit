name: Release Ops Orchestrator

on:
  workflow_dispatch:
    inputs:
      dry_run:
        description: 'Dry run'
        type: boolean
        default: false
      threshold_minutes:
        description: 'Threshold minutes'
        type: string
        default: '90'
      enable_issue_writes:
        description: 'Enable issue writes'
        type: boolean
        default: true
      enable_routing:
        description: 'Enable routing'
        type: boolean
        default: true
      enable_escalation:
        description: 'Enable escalation'
        type: boolean
        default: true
      enable_notify:
        description: 'Enable notification'
        type: boolean
        default: false
      verbose:
        description: 'Verbose logging'
        type: boolean
        default: false
      force_digest:
        description: 'Force digest run'
        type: boolean
        default: false
      force_handoff:
        description: 'Force handoff run'
        type: boolean
        default: false

jobs:
  orchestrate:
    runs-on: ubuntu-latest
    env:
      DRY_RUN: ${{ inputs.dry_run || 'false' }}
      THRESHOLD_MINUTES: ${{ inputs.threshold_minutes || '90' }}
      ENABLE_ISSUE_WRITES: ${{ inputs.enable_issue_writes || 'true' }}
      ENABLE_ROUTING: ${{ inputs.enable_routing || 'true' }}
      ENABLE_ESCALATION: ${{ inputs.enable_escalation || 'true' }}
      ENABLE_NOTIFY: ${{ inputs.enable_notify || 'false' }}
      VERBOSE: ${{ inputs.verbose || 'false' }}
    steps:
      - run: echo "Orchestrating release ops..."

  digest:
    runs-on: ubuntu-latest
    if: ${{ inputs.force_digest == true }}
    steps:
      - run: echo "Running digest..."

  handoff:
    runs-on: ubuntu-latest
    if: ${{ inputs.force_handoff == true }}
    steps:
      - run: echo "Running handoff..."
