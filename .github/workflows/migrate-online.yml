name: migrate-online

permissions:
  contents: read
on:
  workflow_dispatch:
    inputs: { file: { description: 'SQL file path', required: true } }
jobs:
  run:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: ./scripts/pg_online_migrate.sh ${{ github.event.inputs.file }}
        env: { DATABASE_URL: ${{ secrets.DATABASE_URL }} }