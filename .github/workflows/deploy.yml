# .github/workflows/deploy.yml
name: deploy
on: [push]
jobs:
  deploy:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        provider: [aws, oci]
    steps:
      - uses: actions/checkout@v4
      - name: Terraform ${{ matrix.provider }}
        run: |
          cd infra/${{ matrix.provider }}
          terraform init -input=false
          terraform apply -auto-approve -input=false