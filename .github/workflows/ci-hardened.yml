name: Hardened CI

on:
  pull_request:
    branches: [main]
  workflow_dispatch:

permissions:
  contents: read

jobs:
  fast:
    uses: ./.github/workflows/_reusable-ci-fast.yml
    permissions:
      contents: read

  security:
    needs: fast
    uses: ./.github/workflows/_reusable-ci-security.yml
    permissions:
      contents: read

  perf:
    needs: fast
    uses: ./.github/workflows/_reusable-ci-perf.yml
    permissions:
      contents: read
