name: Secrets Rotation Reminder

on:
  schedule:
    - cron: "0 0 1 * *" # Runs on the first day of every month

jobs:
  create-reminder-issue:
    runs-on: ubuntu-latest
    steps:
      - name: Create GitHub issue
        uses: dacbd/create-issue-action@main
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          title: "Reminder: Rotate Secrets"
          body: |
            This is a scheduled reminder to rotate secrets. Please refer to the [Secrets Rotation Playbook](docs/security/secrets-rotation.md) for detailed instructions.

            **Secrets to Rotate:**
            - CI/CD secrets (e.g., `NPM_TOKEN`)
            - Infrastructure secrets (e.g., database passwords)
            - API keys (e.g., `MC_API_TOKEN`)

            Please close this issue after the secrets have been rotated.
          labels: "security"
