type Query {
  entityById(id: ID!, tenant: ID!): Entity
  searchEntities(q: String!, limit: Int = 25, tenant: ID!): [Entity!]!
  neighbors(id: ID!, hops: Int = 1, filter: NeighborFilter, tenant: ID!): [Entity!]!
}

interface Entity {
  id: ID!
  tenant: ID!
  labels: [String!]!
  metadata: JSON
}

type Person implements Entity {
  id: ID!
  tenant: ID!
  labels: [String!]!
  metadata: JSON
  name: String!
  description: String
}

type Org implements Entity {
  id: ID!
  tenant: ID!
  labels: [String!]!
  metadata: JSON
  name: String!
  description: String
}

type Location implements Entity {
  id: ID!
  tenant: ID!
  labels: [String!]!
  metadata: JSON
  name: String!
  description: String
}

type Event implements Entity {
  id: ID!
  tenant: ID!
  labels: [String!]!
  metadata: JSON
  name: String!
  description: String
}

type Document implements Entity {
  id: ID!
  tenant: ID!
  labels: [String!]!
  metadata: JSON
  name: String!
  description: String
}

# Fallback for generic entities
type GenericEntity implements Entity {
  id: ID!
  tenant: ID!
  labels: [String!]!
  metadata: JSON
}

input NeighborFilter {
  labelIn: [String!]
  edgeIn: [String!]
  maxDegree: Int
}

scalar JSON

directive @pii on FIELD_DEFINITION
