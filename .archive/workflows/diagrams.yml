name: diagrams

permissions:
  contents: read
on: [pull_request]
jobs:
  diagrams:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: |
          npm i -g @mermaid-js/mermaid-cli@10
          mmdc -i docs/diagrams/sample.mmd -o /tmp/out.svg || true
      - uses: timbru31/setup-java@v3
        with: { java-version: '17' }
      - run: |
          curl -L https://github.com/plantuml/plantuml/releases/latest/download/plantuml.jar -o plantuml.jar
          java -jar plantuml.jar -version
