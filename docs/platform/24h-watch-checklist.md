# üéº Symphony Orchestra: 24-Hour Watch Checklist\n\n**Purpose:** Post-release monitoring for Symphony Orchestra v1.0 \n**Duration:** First 48 hours after production deployment \n**Escalation:** See [Ownership](#ownership--escalation) section\n\n## ‚è∞ Hourly Checks\n\n### Every Hour (0-48h)\n`bash\n# Quick health pulse\njust orchestra-fast\n`\n\n**Expected Result:**\n- ‚úÖ Six-word health checks pass\n- ‚úÖ Status shows services operational\n- ‚úÖ Response time < 30s\n\n**Alert If:**\n- ‚ùå Any service shows offline\n- ‚ö†Ô∏è Response time > 60s\n- ‚ùå Six-word check fails\n\n---\n\n## üîç 4-Hour Deep Checks\n\n### Every 4 Hours (0, 4, 8, 12, 16, 20h)\n\n`bash\n# 1. Full orchestrator status\npython3 tools/symphony.py orchestrator status | jq '.services, .federation'\n\n# 2. Policy compliance check\npython3 tools/symphony.py policy show\n\n# 3. Route decision validation\npython3 tools/symphony.py route decide --task code --loa 1 --json\n\n# 4. Dashboard refresh\njust dash-refresh\nopen \"http://127.0.0.1:8008\" # Verify all cards green\n`\n\n**Expected Results:**\n- Services: `ollama: true, litellm: true`\n- Federation: `enabled: true` \n- Policy: `Autonomy: 1, Profile: dev/prod`\n- Routing: `decision: allowed`\n- Dashboard: All status cards show üü¢\n\n**Alert If:**\n- Federation disabled unexpectedly\n- Policy shows `Autonomy: 0` (manual-only mode)\n- Routing shows `decision: denied` for normal tasks\n- Dashboard shows üî¥ for core services\n\n---\n\n## üìä Daily Reports\n\n### Every 24 Hours\n\n`bash\n# Generate comprehensive report\nbash tools/simple_report.sh\n\n# Check budget compliance (if implemented)\n# just report-budgets\n\n# Validate federation health (if peers exist)\n# python3 tools/federation.py ping --peer <peer-name>\n`\n\n**Deliverables:**\n- [ ] Report file in `reports/` directory\n- [ ] Budget summary (if applicable)\n- [ ] Federation status (if applicable)\n- [ ] Upload to team channel/wiki\n\n---\n\n## üö® Critical Alerts\n\n### Immediate Response Required\n\n1. **Services Down**\n `bash\n   # Check what's down\n   python3 tools/symphony.py orchestrator status\n   \n   # Restart if needed\n   just --justfile Justfile.ai ai-up\n   `\n\n2. **Policy Violation**\n `bash\n   # Check override logs\n   tail -f logs/overrides.jsonl\n   \n   # Investigate LOA escalations\n   grep -i \"override\" logs/triggers.log\n   `\n\n3. **Federation Issues**\n `bash\n   # Check federation logs\n   grep -i \"federation\\|peer\\|hmac\" logs/triggers.log\n   \n   # Test connectivity\n   python3 tools/federation.py ping --peer loopback\n   `\n\n### Emergency Procedures\n\n**Kill Switch (Use if system compromised)**\n`bash\nexport ORCHESTRA_KILL=1\n# Verify: python3 tools/symphony.py policy show\n# Should show restricted operations\n`\n\n**Conservative Mode (Use if unstable)**\n`bash\nexport ORCHESTRA_ENV=prod  \n# Forces LOA caps and enhanced safety\n`\n\n**Complete Rollback (Last resort)**\n`bash\ngit revert -m 1 <merge-commit>\n# OR\ngit checkout symphony-v1.0  # For hotfix branch\njust --justfile Justfile.neo4j neo4j-down\n`\n\n---\n\n## üìã Log Monitoring\n\n### Continuous (Background Terminal)\n\n`bash\n# Multi-tail command for live monitoring\ntail -F logs/triggers.log logs/overrides.jsonl /tmp/litellm.log 2>/dev/null\n`\n\n### What to Watch For\n\n**üü¢ Normal Patterns:**\n- `\"decision\": \"allowed\"` in routing logs\n- `\"loa\": 1` for most operations\n- `\"cost\": 0.0` for local model usage\n- `\"federation\": {\"enabled\": true}` in status\n\n**üü° Warning Patterns:**\n- `\"loa\": 2` or `\"loa\": 3` (elevated autonomy)\n- `\"model\": \"cloud/` (cloud model usage)\n- `\"override\"` entries in logs\n- `\"cost\"` > daily budget\n\n**üî¥ Alert Patterns:**\n- `\"decision\": \"denied\"` for normal tasks\n- `\"error\"` in federation logs\n- `\"kill_switch\": 1` unexpected activation\n- Multiple `\"timeout\"` or `\"failed\"` entries\n\n---\n\n## üìû Ownership & Escalation\n\n### On-Call Rotation\n\n**Hours 0-12: Primary**\n- **Duty Engineer:** `@[duty-engineer]`\n- **Policy Steward:** `@[policy-steward]` (backup)\n- **Escalation:** `@[release-captain]`\n\n**Hours 12-24: Secondary** \n- **Duty Engineer:** `@[duty-engineer-2]`\n- **Data/RAG Owner:** `@[rag-owner]` (backup)\n- **Escalation:** `@[release-captain]`\n\n**Hours 24-48: Extended**\n- **DB Guard Owner:** `@[db-owner]`\n- **Policy Steward:** `@[policy-steward]` (backup)\n- **Escalation:** `@[release-captain]`\n\n### Response SLAs\n\n- **Critical (Services Down):** 15 minutes\n- **High (Policy Violations):** 30 minutes \n- **Medium (Performance Degraded):** 1 hour\n- **Low (Documentation/Reports):** 4 hours\n\n### Escalation Triggers\n\n**Immediate Escalation:**\n- Kill switch activated without approval\n- Multiple federation nodes offline\n- Unauthorized LOA escalation\n- Security policy violation\n\n**Scheduled Escalation (Daily):**\n- Budget overruns\n- Performance degradation trends\n- Unusual usage patterns\n- Configuration drift\n\n---\n\n## ‚úÖ Go/No-Go Checkpoints\n\n### 12-Hour Checkpoint\n- [ ] All hourly checks completed successfully\n- [ ] No critical alerts triggered\n- [ ] Policy compliance maintained\n- [ ] Federation health confirmed\n- [ ] **Decision:** Continue monitoring OR escalate\n\n### 24-Hour Checkpoint \n- [ ] Daily report generated and reviewed\n- [ ] Budget compliance verified\n- [ ] Performance within SLA\n- [ ] No security incidents\n- [ ] **Decision:** Reduce monitoring OR continue extended watch\n\n### 48-Hour Final\n- [ ] All systems stable for 48h continuous\n- [ ] Documentation updated with any issues found\n- [ ] Lessons learned captured\n- [ ] **Decision:** Release to normal operations\n\n---\n\n## üìù Incident Documentation\n\n**For any issues encountered, document:**\n\n1. **Timestamp:** When detected\n2. **Symptoms:** What alerted you\n3. **Investigation:** Commands run, logs checked\n4. **Root Cause:** What actually happened \n5. **Resolution:** Steps taken to fix\n6. **Prevention:** How to avoid in future\n\n**Template:**\n`\n## Incident: [Brief Description]\n**Time:** 2024-XX-XX HH:MM UTC\n**Severity:** Critical/High/Medium/Low\n**Duration:** [Start] - [End]\n**Root Cause:** [Explanation]\n**Resolution:** [Steps taken]\n**Follow-up:** [Actions to prevent recurrence]\n`\n\n---\n\n*üéº Symphony Orchestra v1.0 - Production Watch Protocol*"
