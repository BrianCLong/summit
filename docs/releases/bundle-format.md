# Release Bundle Format

This document describes the structure of release bundles generated by the release pipeline.

## Structure

A release bundle is a directory containing artifacts and metadata.

### `provenance.json`

The provenance file now follows the **in-toto Statement** format with SLSA-like predicate, enabling future signing and verification.

**Format:**

```json
{
  "schemaVersion": "1.1.0",
  "type": "https://in-toto.io/Statement/v1",
  "subject": [
    {
      "name": "release-manifest.json",
      "digest": { "sha256": "..." }
    }
  ],
  "predicateType": "https://slsa.dev/provenance/v1",
  "predicate": {
    "buildDefinition": { ... },
    "runDetails": { ... }
  },
  "legacy": {
    "schema": "intelgraph.provenance/v1",
    "artifacts": [ ... ]
  }
}
```

The `subject` list is derived from the `SHA256SUMS` file in the bundle.
The `legacy` field retains the previous flat structure for backward compatibility.

### `SHA256SUMS`

Contains SHA-256 digests of all artifacts in the bundle.

### `release-manifest.json`

Top-level metadata about the release (tag, commit, timestamp).
