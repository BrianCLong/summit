# Release Notes - v5.3.2 (GA Release Candidate)

## Summary
The v5.3.2 release represents the "Hardening Sprint" milestone, focusing on supply chain integrity, agentic security, and operational stability. This version is the foundation for General Availability.

## Key Accomplishments

### 1. Supply Chain Hardening
- **Vulnerability Patches**: Resolved high-severity vulnerabilities in `hono` (JWT confusion), `@modelcontextprotocol/sdk` (ReDoS), and `preact` (VNode injection).
- **GitHub Actions Security**: Pinned all critical CI/CD actions to specific SHAs to prevent supply chain injection.
- **Provenance Gate**: Established an OPA-based CI gate that blocks any release artifact without valid, signed provenance.

### 2. Agentic Security (Antigravity Guardrails)
- **Prompt Injection Defense**: Integrated `PromptInjectionDetector` into the `BaseAgentArchetype`, providing automatic protection against instruction override attacks for all agents.
- **Persistent Auditing**: Migrated agent audit trails from ephemeral console logs to the persistent, cryptographically-signed `AuditSink`.

### 3. Core System Integrity
- **Lazy Config Initialization**: Fixed startup race conditions and strengthened environment validation (minimum 32-char secrets, no localhost in production).
- **Audit Sink Integration**: Wired unified auditing into privileged action paths and federal intelligence integrations.
- **Typo & Schema Cleanup**: Resolved widespread `.tson` file extension corruption and standardized on `.json`.

## Adversarial Verification
A formal "Post-Hardening Adversarial Verification" was conducted to validate the resilience of the new security gates. 100% of systematic bypass attempts were neutralized.
- **Report**: [POST_HARDENING_VERIFICATION_v5.3.2.md](../verification/POST_HARDENING_VERIFICATION_v5.3.2.md)

## Upgrade Notes
- **JWT Secrets**: Production environments now strictly enforce a 32-character minimum length for `JWT_SECRET` and `JWT_REFRESH_SECRET`.
- **RBAC**: New permission `actions:execute` is required for privileged graph mutations.

## Known Issues
- `cypress` postinstall may fail on some systems due to `chalk` version conflicts; this does not affect the runtime stability of core services.

## Evidence Bundle
Verified evidence for this release (SBOMs, test proofs, OPA results) is available in the Evidence Bundle: `evidence/ga/v5.3.2/ga-v5.3.2.zip`.

### Integrity Verification
- **Attestation Summary**: [ATTESTATION_SUMMARY.md](../../evidence/ga/v5.3.2/ATTESTATION_SUMMARY.md)
- **Hash Ledger**: `evidence/ga/v5.3.2/HASHES.txt`

To verify the bundle integrity:
```bash
sha256sum -c evidence/ga/v5.3.2/HASHES.txt
```
