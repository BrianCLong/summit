# Dependency Lifecycle, Upgrade, and Deprecation Review: 2026-01-14

## Dependency Ground Truth Snapshot

*   **Top Upgrade Candidates:**
    1.  `apollo-server-express` (v3 -> v4).
    2.  `react` (v18.x -> v19, planning phase).
    3.  `vite` / `vitest` (keep current).
*   **Deprecations:**
    *   `apollo-server-express` v3 is EOL.
*   **Risks:**
    *   `xlsx` override uses CDN tarball (Supply Chain Risk).
    *   `express` v5.2.1 is active (Monitor for stability, though likely stable now).

## Objectives (max 3)

1.  **Resolve Apollo Server EOL (Critical)**
    *   *Acceptance Criteria:* Successfully migrate to `@apollo/server` v4; all GraphQL tests pass.
2.  **Mitigate `xlsx` Supply Chain Risk**
    *   *Acceptance Criteria:* Replace CDN override with vendored package or secure npm registry version.
3.  **Plan React 19 Migration**
    *   *Acceptance Criteria:* Compatibility audit complete; migration tickets created.

## Execution Plan (P0â€“P3)

| Task ID | Priority | Owner | Package | Upgrade Approach | Verification |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **DEPS-20260114-01** | **P0** | Codex CLI | `apollo-server-express` | Major Migration (Breaking Changes) | `test:server`, `test:integration` |
| **DEPS-20260114-02** | **P1** | Antigravity | `xlsx` | Vendor / Policy Change | `security:check` |
| **DEPS-20260114-03** | **P2** | Claude Code | `react` | Assessment / Plan | `npm install react@next` (dry-run) |

## Agent Dispatch

| Agent | Work Order |
| :--- | :--- |
| **Codex CLI** | Implement Apollo Server v4 migration (code changes required). |
| **Antigravity** | Update supply chain policy for `xlsx` and verify new artifact. |
| **Atlas** | Coordinate React 19 upgrade branch and CI testing. |

## Cross-System Actions

*   [ ] **GitHub Projects:** Create/update dependency cards with workspace and risk; link review doc.
*   [ ] **Linear:** Create/update upgrade issues with acceptance checks; link doc.
*   [ ] **Jira:** Create/update upgrade epics/tasks (Apollo v4 is an Epic); link doc.
*   [ ] **Notion:** Update dependency policy and upgrade playbooks; link review doc and PRs.
