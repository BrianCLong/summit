service: companyos-api
owner: companyos-team
description: CompanyOS API for disclosure packs, compliance actions, and policy operations.

slos:
  - name: availability
    objective: 0.995
    window: 30d
    indicator:
      type: ratio
      good: sum(rate(http_requests_total{job="companyos-api",status_code!~"5.."}[5m]))
      total: sum(rate(http_requests_total{job="companyos-api"}[5m]))

  - name: latency_p95
    objective: 0.99
    window: 30d
    target_ms: 300
    indicator:
      type: latency
      histogram: histogram_quantile(
        0.95,
        sum by (le) (
          rate(http_request_duration_seconds_bucket{job="companyos-api"}[5m])
        )
      )

error_budget_policies:
  rollout_block_threshold: 0.4
  alert_threshold: 0.7

canary_thresholds:
  error_rate_factor: 2.0
  latency_factor: 2.0
  evaluation_window: 10m
  baseline_window: 60m
