---
description: TypeScript coding conventions
globs:
  - "**/*.ts"
  - "**/*.tsx"
alwaysApply: false
---

# TypeScript Conventions

## Configuration

```json
{
  "target": "ES2022",
  "module": "ESNext",
  "moduleResolution": "Bundler",
  "jsx": "react-jsx",
  "strict": false,
  "skipLibCheck": true,
  "esModuleInterop": true
}
```

## Style Guidelines

- Use interfaces for data contracts, types for unions/primitives
- Avoid `any` where possible (pragmatically allowed)
- Explicit error handling with try/catch
- Use proper logging (Winston/Pino), not console.log

## Import Order

1. External dependencies (react, apollo-server)
2. Internal packages (@intelgraph/*)
3. Relative imports (./utils, ../components)

Alphabetized within each group with newlines between.

## Naming

- camelCase for variables, functions, file names
- PascalCase for classes, interfaces, React components
- UPPER_SNAKE_CASE for constants
- snake_case for database columns

## Example Service

```typescript
import { z } from 'zod';

import { db } from '@intelgraph/db';
import { auditLog } from '@intelgraph/audit';

import { EntitySchema } from './schemas';

export async function createEntity(
  data: CreateEntityInput,
): Promise<Entity> {
  const validated = EntitySchema.parse(data);
  const entity = await db.entity.create({ data: validated });
  await auditLog.record('entity:created', entity.id);
  return entity;
}
```
