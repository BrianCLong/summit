{"file":"/Users/brianlong/Developer/summit/packages/sdk/collab-js/src/crdt.ts","mappings":";;;AAKA,MAAa,QAAQ;IACX,IAAI,CAAS;IAErB,YAAY,OAAO,GAAG,EAAE;QACtB,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC;IACtB,CAAC;IAED,KAAK,CAAC,EAAa;QACjB,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;YACd,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC;YACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACrE,CAAC;aAAM,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;YACrB,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC;YACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC;QACrE,CAAC;IACH,CAAC;IAED,KAAK;QACH,OAAO,IAAI,CAAC,IAAI,CAAC;IACnB,CAAC;IAED,KAAK,CAAC,KAAe;QACnB,OAAO,IAAI,QAAQ,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;IACrC,CAAC;CACF;AAxBD,4BAwBC","names":[],"sources":["/Users/brianlong/Developer/summit/packages/sdk/collab-js/src/crdt.ts"],"sourcesContent":["export type Operation = {\n  insert?: { pos: number; value: string };\n  delete?: { pos: number; count: number };\n};\n\nexport class TextCRDT {\n  private text: string;\n\n  constructor(initial = '') {\n    this.text = initial;\n  }\n\n  apply(op: Operation): void {\n    if (op.insert) {\n      const { pos, value } = op.insert;\n      this.text = this.text.slice(0, pos) + value + this.text.slice(pos);\n    } else if (op.delete) {\n      const { pos, count } = op.delete;\n      this.text = this.text.slice(0, pos) + this.text.slice(pos + count);\n    }\n  }\n\n  value(): string {\n    return this.text;\n  }\n\n  merge(other: TextCRDT): TextCRDT {\n    return new TextCRDT(other.value());\n  }\n}\n"],"version":3}