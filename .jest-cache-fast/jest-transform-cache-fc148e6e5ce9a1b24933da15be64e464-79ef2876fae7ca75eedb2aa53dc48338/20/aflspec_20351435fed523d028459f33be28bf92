1658cf76ced61ae4df6901dbb0b34652
import { AFLStore } from '../src';
import { randomUUID } from 'crypto';
test('put and get fingerprint', async () => {
    const store = new AFLStore('redis://localhost:6381'); // test redis
    const fp = { contentHash: randomUUID(), formatSig: 'mime:1000:0:NOEXIF', timingSig: '12h:0', xformSig: 'nokpw', route: 'tip' };
    await store.put(fp);
    const got = await store.getBySignature({ formatSig: fp.formatSig, timingSig: fp.timingSig, xformSig: fp.xformSig });
    expect(got?.route).toBe('tip');
    await store.close();
});
