63a3aaaa3d5a0c6d0d59e5745f5e2539
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const cleanroomJoin_1 = require("../src/conductor/steps/cleanroomJoin");
test("applies DP noise to aggregates (placeholder)", async () => {
    const ctx = { enclave: { join: async () => ({ total: 100 }) }, emitArtifact: jest.fn() };
    await (0, cleanroomJoin_1.cleanroomJoin)(ctx, { inputs: { joinKeys: ["k"], select: ["x"], dp: { epsilon: 1, mechanism: "laplace", sensitivity: 1, columns: ["total"] } } });
    expect(ctx.emitArtifact).toHaveBeenCalled();
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2JyaWFubG9uZy9EZXZlbG9wZXIvc3VtbWl0L3NlcnZlci90ZXN0cy9jbGVhbnJvb20uc3BlYy50cyIsIm1hcHBpbmdzIjoiOztBQUFBLHdFQUFxRTtBQUVyRSxJQUFJLENBQUMsOENBQThDLEVBQUUsS0FBSyxJQUFJLEVBQUU7SUFDOUQsTUFBTSxHQUFHLEdBQVEsRUFBRSxPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxJQUFFLEVBQUUsQ0FBQSxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxZQUFZLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDM0YsTUFBTSxJQUFBLDZCQUFhLEVBQUMsR0FBRyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsUUFBUSxFQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFDLEVBQUUsT0FBTyxFQUFDLENBQUMsRUFBRSxTQUFTLEVBQUMsU0FBUyxFQUFFLFdBQVcsRUFBQyxDQUFDLEVBQUUsT0FBTyxFQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNoSixNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLGdCQUFnQixFQUFFLENBQUM7QUFDOUMsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2JyaWFubG9uZy9EZXZlbG9wZXIvc3VtbWl0L3NlcnZlci90ZXN0cy9jbGVhbnJvb20uc3BlYy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjbGVhbnJvb21Kb2luIH0gZnJvbSBcIi4uL3NyYy9jb25kdWN0b3Ivc3RlcHMvY2xlYW5yb29tSm9pblwiO1xuXG50ZXN0KFwiYXBwbGllcyBEUCBub2lzZSB0byBhZ2dyZWdhdGVzIChwbGFjZWhvbGRlcilcIiwgYXN5bmMgKCkgPT4ge1xuICBjb25zdCBjdHg6IGFueSA9IHsgZW5jbGF2ZTogeyBqb2luOiBhc3luYygpPT4oeyB0b3RhbDogMTAwIH0pIH0sIGVtaXRBcnRpZmFjdDogamVzdC5mbigpIH07XG4gIGF3YWl0IGNsZWFucm9vbUpvaW4oY3R4LCB7IGlucHV0czogeyBqb2luS2V5czpbXCJrXCJdLCBzZWxlY3Q6W1wieFwiXSwgZHA6eyBlcHNpbG9uOjEsIG1lY2hhbmlzbTpcImxhcGxhY2VcIiwgc2Vuc2l0aXZpdHk6MSwgY29sdW1uczpbXCJ0b3RhbFwiXSB9IH0gfSk7XG4gIGV4cGVjdChjdHguZW1pdEFydGlmYWN0KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG59KTtcblxuIl0sInZlcnNpb24iOjN9