{"file":"/Users/brianlong/Developer/summit/server/tests/site_register.spec.ts","mappings":";;AAAA,oDAAsE;AAEtE,IAAI,CAAC,2CAA2C,EAAE,KAAK,IAAI,EAAE;IAC3D,MAAM,CAAC,GAAG,MAAM,IAAA,uBAAY,EAAC,EAAE,IAAI,EAAE,YAAY,EAAE,MAAM,EAAE,WAAW,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,EAAE,iEAAiE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;IACxL,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACnC,MAAM,CAAC,IAAA,0BAAe,EAAC,KAAK,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACvE,CAAC,CAAC,CAAC","names":[],"sources":["/Users/brianlong/Developer/summit/server/tests/site_register.spec.ts"],"sourcesContent":["import { registerSite, verifySignature } from \"../src/sites/register\";\n\ntest(\"registers site and rejects bad signatures\", async () => {\n  const s = await registerSite({ name: \"edge-paris\", region: \"eu-west-1\", residency: \"EU\", pubkey: \"-----BEGIN PUBLIC KEY-----\\nMIIB...\\n-----END PUBLIC KEY-----\\n\", bandwidth: \"low\" });\n  expect(s.region).toBe(\"eu-west-1\");\n  expect(verifySignature(\"bad\", Buffer.from(\"x\"), \"abc=\")).toBe(false);\n});\n\n"],"version":3}