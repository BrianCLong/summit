fded8659e6d576c020519eebd3cc0e42
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const nl_to_cypher_service_1 = require("../src/ai/nl-to-cypher/nl-to-cypher.service");
class MockAdapter {
    async generate(prompt) {
        return `generated: ${prompt}`;
    }
}
describe('NlToCypherService', () => {
    it('translates known prompts', async () => {
        const service = new nl_to_cypher_service_1.NlToCypherService(new MockAdapter());
        await expect(service.translate('show all nodes')).resolves.toBe('MATCH (n) RETURN n LIMIT 25');
    });
    it('falls back to model adapter', async () => {
        const service = new nl_to_cypher_service_1.NlToCypherService(new MockAdapter());
        await expect(service.translate('unknown')).resolves.toBe('generated: unknown');
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2JyaWFubG9uZy9EZXZlbG9wZXIvc3VtbWl0L3NlcnZlci90ZXN0cy9ubC10by1jeXBoZXIuc2VydmljZS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsc0ZBQWdGO0FBR2hGLE1BQU0sV0FBVztJQUNmLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBYztRQUMzQixPQUFPLGNBQWMsTUFBTSxFQUFFLENBQUM7SUFDaEMsQ0FBQztDQUNGO0FBRUQsUUFBUSxDQUFDLG1CQUFtQixFQUFFLEdBQUcsRUFBRTtJQUNqQyxFQUFFLENBQUMsMEJBQTBCLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDeEMsTUFBTSxPQUFPLEdBQUcsSUFBSSx3Q0FBaUIsQ0FBQyxJQUFJLFdBQVcsRUFBRSxDQUFDLENBQUM7UUFDekQsTUFBTSxNQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0lBQ2pHLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLDZCQUE2QixFQUFFLEtBQUssSUFBSSxFQUFFO1FBQzNDLE1BQU0sT0FBTyxHQUFHLElBQUksd0NBQWlCLENBQUMsSUFBSSxXQUFXLEVBQUUsQ0FBQyxDQUFDO1FBQ3pELE1BQU0sTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7SUFDakYsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvYnJpYW5sb25nL0RldmVsb3Blci9zdW1taXQvc2VydmVyL3Rlc3RzL25sLXRvLWN5cGhlci5zZXJ2aWNlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmxUb0N5cGhlclNlcnZpY2UgfSBmcm9tICcuLi9zcmMvYWkvbmwtdG8tY3lwaGVyL25sLXRvLWN5cGhlci5zZXJ2aWNlJztcbmltcG9ydCB0eXBlIHsgTW9kZWxBZGFwdGVyIH0gZnJvbSAnLi4vc3JjL2FpL25sLXRvLWN5cGhlci9tb2RlbC1hZGFwdGVyJztcblxuY2xhc3MgTW9ja0FkYXB0ZXIgaW1wbGVtZW50cyBNb2RlbEFkYXB0ZXIge1xuICBhc3luYyBnZW5lcmF0ZShwcm9tcHQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIGBnZW5lcmF0ZWQ6ICR7cHJvbXB0fWA7XG4gIH1cbn1cblxuZGVzY3JpYmUoJ05sVG9DeXBoZXJTZXJ2aWNlJywgKCkgPT4ge1xuICBpdCgndHJhbnNsYXRlcyBrbm93biBwcm9tcHRzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHNlcnZpY2UgPSBuZXcgTmxUb0N5cGhlclNlcnZpY2UobmV3IE1vY2tBZGFwdGVyKCkpO1xuICAgIGF3YWl0IGV4cGVjdChzZXJ2aWNlLnRyYW5zbGF0ZSgnc2hvdyBhbGwgbm9kZXMnKSkucmVzb2x2ZXMudG9CZSgnTUFUQ0ggKG4pIFJFVFVSTiBuIExJTUlUIDI1Jyk7XG4gIH0pO1xuXG4gIGl0KCdmYWxscyBiYWNrIHRvIG1vZGVsIGFkYXB0ZXInLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgc2VydmljZSA9IG5ldyBObFRvQ3lwaGVyU2VydmljZShuZXcgTW9ja0FkYXB0ZXIoKSk7XG4gICAgYXdhaXQgZXhwZWN0KHNlcnZpY2UudHJhbnNsYXRlKCd1bmtub3duJykpLnJlc29sdmVzLnRvQmUoJ2dlbmVyYXRlZDogdW5rbm93bicpO1xuICB9KTtcbn0pO1xuIl0sInZlcnNpb24iOjN9