f11cadaac1f6e792c5fbc39838c88c49
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const watchlists_1 = require("../resolvers/watchlists");
describe('Watchlist flow', () => {
    it('creates and adds entity', () => {
        const wl = watchlists_1.watchlistResolvers.Mutation.createWatchlist(null, { name: 'test', type: 'entity' });
        watchlists_1.watchlistResolvers.Mutation.addToWatchlist(null, { id: wl.id, entityIds: ['e1'] });
        const fetched = watchlists_1.watchlistResolvers.Query.watchlist(null, { id: wl.id });
        expect(fetched.members).toContain('e1');
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2JyaWFubG9uZy9EZXZlbG9wZXIvc3VtbWl0L3NlcnZlci9zcmMvdGVzdHMvd2F0Y2hsaXN0c19mbG93LnRlc3QudHMiLCJtYXBwaW5ncyI6Ijs7QUFBQSx3REFBNkQ7QUFFN0QsUUFBUSxDQUFDLGdCQUFnQixFQUFFLEdBQUcsRUFBRTtJQUM5QixFQUFFLENBQUMseUJBQXlCLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLE1BQU0sRUFBRSxHQUFHLCtCQUFrQixDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUMvRiwrQkFBa0IsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNuRixNQUFNLE9BQU8sR0FBRywrQkFBa0IsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUN4RSxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMxQyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9icmlhbmxvbmcvRGV2ZWxvcGVyL3N1bW1pdC9zZXJ2ZXIvc3JjL3Rlc3RzL3dhdGNobGlzdHNfZmxvdy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHdhdGNobGlzdFJlc29sdmVycyB9IGZyb20gJy4uL3Jlc29sdmVycy93YXRjaGxpc3RzJztcblxuZGVzY3JpYmUoJ1dhdGNobGlzdCBmbG93JywgKCkgPT4ge1xuICBpdCgnY3JlYXRlcyBhbmQgYWRkcyBlbnRpdHknLCAoKSA9PiB7XG4gICAgY29uc3Qgd2wgPSB3YXRjaGxpc3RSZXNvbHZlcnMuTXV0YXRpb24uY3JlYXRlV2F0Y2hsaXN0KG51bGwsIHsgbmFtZTogJ3Rlc3QnLCB0eXBlOiAnZW50aXR5JyB9KTtcbiAgICB3YXRjaGxpc3RSZXNvbHZlcnMuTXV0YXRpb24uYWRkVG9XYXRjaGxpc3QobnVsbCwgeyBpZDogd2wuaWQsIGVudGl0eUlkczogWydlMSddIH0pO1xuICAgIGNvbnN0IGZldGNoZWQgPSB3YXRjaGxpc3RSZXNvbHZlcnMuUXVlcnkud2F0Y2hsaXN0KG51bGwsIHsgaWQ6IHdsLmlkIH0pO1xuICAgIGV4cGVjdChmZXRjaGVkLm1lbWJlcnMpLnRvQ29udGFpbignZTEnKTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==