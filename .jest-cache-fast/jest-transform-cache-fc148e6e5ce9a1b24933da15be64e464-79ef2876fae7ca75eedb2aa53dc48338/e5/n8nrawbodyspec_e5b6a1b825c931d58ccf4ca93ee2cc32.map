{"file":"/Users/brianlong/Developer/summit/server/tests/n8n-raw-body.spec.ts","mappings":";;;;;AAAA,0DAAgC;AAChC,sDAA8B;AAC9B,4DAA0C;AAE1C,QAAQ,CAAC,oBAAoB,EAAE,GAAG,EAAE;IAClC,MAAM,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;IACtB,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,aAAS,CAAC,CAAC;IAExB,MAAM,WAAW,GAAG,OAAO,CAAC,GAAG,CAAC,oBAAoB,KAAK,OAAO,CAAC;IACjE,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,wCAAwC,EAAE,KAAK,IAAI,EAAE;QAChF,MAAM,GAAG,GAAG,MAAM,IAAA,mBAAO,EAAC,GAAG,CAAC;aAC3B,IAAI,CAAC,eAAe,CAAC;aACrB,GAAG,CAAC,cAAc,EAAE,kBAAkB,CAAC;aACvC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;QAC3D,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IAC1D,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["/Users/brianlong/Developer/summit/server/tests/n8n-raw-body.spec.ts"],"sourcesContent":["import request from 'supertest';\nimport express from 'express';\nimport n8nRouter from '../src/routes/n8n';\n\ndescribe('n8n raw-body route', () => {\n  const app = express();\n  app.use('/', n8nRouter);\n\n  const N8N_ENABLED = process.env.N8N_WEBHOOKS_ENABLED !== 'false';\n  (N8N_ENABLED ? it : it.skip)('accepts raw payload before global json', async () => {\n    const res = await request(app)\n      .post('/webhooks/n8n')\n      .set('Content-Type', 'application/json')\n      .send(Buffer.from(JSON.stringify({ ok: true }), 'utf8'));\n    expect([200, 204, 401, 403, 503]).toContain(res.status);\n  });\n});\n"],"version":3}