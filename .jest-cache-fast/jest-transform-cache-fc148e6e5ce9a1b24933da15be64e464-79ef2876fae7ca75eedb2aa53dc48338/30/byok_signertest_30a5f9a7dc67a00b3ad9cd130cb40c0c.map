{"file":"/Users/brianlong/Developer/summit/server/src/tests/byok_signer.test.ts","mappings":";;AAAA,+CAA+C;AAE/C,QAAQ,CAAC,WAAW,EAAE,GAAG,EAAE;IACzB,EAAE,CAAC,iCAAiC,EAAE,KAAK,IAAI,EAAE;QAC/C,MAAM,MAAM,GAAG;YACb,IAAI,EAAE,KAAK,EAAE,EAAU,EAAE,IAAY,EAAE,EAAE,CAAC,IAAI;YAC9C,MAAM,EAAE,KAAK,EAAE,EAAU,EAAE,IAAY,EAAE,GAAW,EAAE,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,KAAK,CAAC;SACzF,CAAC;QACF,MAAM,MAAM,GAAG,IAAI,kBAAS,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAC7C,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACrC,MAAM,GAAG,GAAG,MAAM,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACvC,MAAM,CAAC,MAAM,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrD,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACpC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["/Users/brianlong/Developer/summit/server/src/tests/byok_signer.test.ts"],"sourcesContent":["import { KmsSigner } from '../products/Signer';\n\ndescribe('KmsSigner', () => {\n  it('signs and verifies using client', async () => {\n    const client = {\n      sign: async (id: string, data: Buffer) => data,\n      verify: async (id: string, data: Buffer, sig: Buffer) => Buffer.compare(data, sig) === 0,\n    };\n    const signer = new KmsSigner('kid1', client);\n    const payload = Buffer.from('hello');\n    const sig = await signer.sign(payload);\n    expect(await signer.verify(payload, sig)).toBe(true);\n    expect(signer.kid()).toBe('kid1');\n  });\n});\n"],"version":3}