61162817fa2052e2680a6801aec96b48
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.watchlistResolvers = void 0;
const WatchlistService_1 = require("../watchlists/WatchlistService");
const service = new WatchlistService_1.WatchlistService();
exports.watchlistResolvers = {
    Query: {
        watchlists: () => service.all(),
        watchlist: (_, { id }) => service.get(id)
    },
    Mutation: {
        createWatchlist: (_, args) => service.create(args),
        addToWatchlist: (_, { id, entityIds }) => {
            service.add(id, entityIds);
            return service.get(id);
        },
        removeFromWatchlist: (_, { id, entityIds }) => {
            service.remove(id, entityIds);
            return service.get(id);
        },
        importWatchlistCsv: (_, { name }) => service.create({ name, type: 'import' }),
        exportWatchlistCsv: () => '',
        deleteWatchlist: (_, { id }) => {
            delete service.lists[id];
            return true;
        }
    }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2JyaWFubG9uZy9EZXZlbG9wZXIvc3VtbWl0L3NlcnZlci9zcmMvcmVzb2x2ZXJzL3dhdGNobGlzdHMudHMiLCJtYXBwaW5ncyI6Ijs7O0FBQUEscUVBQWtFO0FBRWxFLE1BQU0sT0FBTyxHQUFHLElBQUksbUNBQWdCLEVBQUUsQ0FBQztBQUUxQixRQUFBLGtCQUFrQixHQUFHO0lBQ2hDLEtBQUssRUFBRTtRQUNMLFVBQVUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFO1FBQy9CLFNBQVMsRUFBRSxDQUFDLENBQU0sRUFBRSxFQUFFLEVBQUUsRUFBTyxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztLQUNwRDtJQUNELFFBQVEsRUFBRTtRQUNSLGVBQWUsRUFBRSxDQUFDLENBQU0sRUFBRSxJQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQzVELGNBQWMsRUFBRSxDQUFDLENBQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQU8sRUFBRSxFQUFFO1lBQ2pELE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQzNCLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN6QixDQUFDO1FBQ0QsbUJBQW1CLEVBQUUsQ0FBQyxDQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFPLEVBQUUsRUFBRTtZQUN0RCxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztZQUM5QixPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDekIsQ0FBQztRQUNELGtCQUFrQixFQUFFLENBQUMsQ0FBTSxFQUFFLEVBQUUsSUFBSSxFQUFPLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDO1FBQ3ZGLGtCQUFrQixFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUU7UUFDNUIsZUFBZSxFQUFFLENBQUMsQ0FBTSxFQUFFLEVBQUUsRUFBRSxFQUFPLEVBQUUsRUFBRTtZQUN2QyxPQUFRLE9BQWUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDbEMsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO0tBQ0Y7Q0FDRixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9icmlhbmxvbmcvRGV2ZWxvcGVyL3N1bW1pdC9zZXJ2ZXIvc3JjL3Jlc29sdmVycy93YXRjaGxpc3RzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFdhdGNobGlzdFNlcnZpY2UgfSBmcm9tICcuLi93YXRjaGxpc3RzL1dhdGNobGlzdFNlcnZpY2UnO1xuXG5jb25zdCBzZXJ2aWNlID0gbmV3IFdhdGNobGlzdFNlcnZpY2UoKTtcblxuZXhwb3J0IGNvbnN0IHdhdGNobGlzdFJlc29sdmVycyA9IHtcbiAgUXVlcnk6IHtcbiAgICB3YXRjaGxpc3RzOiAoKSA9PiBzZXJ2aWNlLmFsbCgpLFxuICAgIHdhdGNobGlzdDogKF86IGFueSwgeyBpZCB9OiBhbnkpID0+IHNlcnZpY2UuZ2V0KGlkKVxuICB9LFxuICBNdXRhdGlvbjoge1xuICAgIGNyZWF0ZVdhdGNobGlzdDogKF86IGFueSwgYXJnczogYW55KSA9PiBzZXJ2aWNlLmNyZWF0ZShhcmdzKSxcbiAgICBhZGRUb1dhdGNobGlzdDogKF86IGFueSwgeyBpZCwgZW50aXR5SWRzIH06IGFueSkgPT4ge1xuICAgICAgc2VydmljZS5hZGQoaWQsIGVudGl0eUlkcyk7XG4gICAgICByZXR1cm4gc2VydmljZS5nZXQoaWQpO1xuICAgIH0sXG4gICAgcmVtb3ZlRnJvbVdhdGNobGlzdDogKF86IGFueSwgeyBpZCwgZW50aXR5SWRzIH06IGFueSkgPT4ge1xuICAgICAgc2VydmljZS5yZW1vdmUoaWQsIGVudGl0eUlkcyk7XG4gICAgICByZXR1cm4gc2VydmljZS5nZXQoaWQpO1xuICAgIH0sXG4gICAgaW1wb3J0V2F0Y2hsaXN0Q3N2OiAoXzogYW55LCB7IG5hbWUgfTogYW55KSA9PiBzZXJ2aWNlLmNyZWF0ZSh7IG5hbWUsIHR5cGU6ICdpbXBvcnQnIH0pLFxuICAgIGV4cG9ydFdhdGNobGlzdENzdjogKCkgPT4gJycgLFxuICAgIGRlbGV0ZVdhdGNobGlzdDogKF86IGFueSwgeyBpZCB9OiBhbnkpID0+IHtcbiAgICAgIGRlbGV0ZSAoc2VydmljZSBhcyBhbnkpLmxpc3RzW2lkXTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufTtcbiJdLCJ2ZXJzaW9uIjozfQ==