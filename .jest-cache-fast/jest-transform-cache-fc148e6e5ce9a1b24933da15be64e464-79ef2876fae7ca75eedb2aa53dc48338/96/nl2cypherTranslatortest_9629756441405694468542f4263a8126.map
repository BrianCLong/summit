{"file":"/Users/brianlong/Developer/summit/server/src/tests/nl2cypherTranslator.test.ts","mappings":";;AAAA,qCAAuC;AACvC,yCAAiC;AACjC,8CAA+C;AAE/C,QAAQ,CAAC,kBAAkB,EAAE,GAAG,EAAE;IAChC,EAAE,CAAC,6CAA6C,EAAE,GAAG,EAAE;QACrD,MAAM,UAAU,GAAG,IAAA,gBAAI,EAAC,SAAS,EAAE,0CAA0C,CAAC,CAAC;QAC/E,MAAM,KAAK,GAAG,IAAA,sBAAY,EAAC,UAAU,EAAE,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACnE,IAAI,OAAO,GAAG,CAAC,CAAC;QAChB,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;YACzB,MAAM,CAAC,UAAU,EAAE,WAAW,EAAE,UAAU,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAC/D,MAAM,MAAM,GAAG,UAAU,CAAC,IAAI,EAAE,CAAC;YACjC,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC;YACnD,MAAM,cAAc,GAAG,UAAU,CAAC,IAAI,EAAE,CAAC;YACzC,MAAM,MAAM,GAAG,IAAA,iBAAS,EAAC,MAAM,CAAC,CAAC;YACjC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YAClD,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC;QACZ,CAAC;QACD,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;IAC9D,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["/Users/brianlong/Developer/summit/server/src/tests/nl2cypherTranslator.test.ts"],"sourcesContent":["import { readFileSync } from 'node:fs';\nimport { join } from 'node:path';\nimport { nl2cypher } from '../nl2cypher/index';\n\ndescribe('nl2cypher corpus', () => {\n  it('produces expected cypher and AST for corpus', () => {\n    const corpusPath = join(__dirname, '../../../contracts/nl2cypher/prompts.tsv');\n    const lines = readFileSync(corpusPath, 'utf-8').trim().split('\\n');\n    let success = 0;\n    for (const line of lines) {\n      const [promptPart, astJsonPart, cypherPart] = line.split('\\t');\n      const prompt = promptPart.trim();\n      const astExpected = JSON.parse(astJsonPart.trim());\n      const cypherExpected = cypherPart.trim();\n      const result = nl2cypher(prompt);\n      expect(result.cypher.trim()).toBe(cypherExpected);\n      expect(result.ast).toEqual(astExpected);\n      success++;\n    }\n    expect(success / lines.length).toBeGreaterThanOrEqual(0.95);\n  });\n});\n"],"version":3}