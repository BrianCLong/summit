{"file":"/Users/brianlong/Developer/summit/server/src/products/Signer.ts","mappings":";;;AAMA,MAAa,SAAS;IAEV;IACA;IAFV,YACU,KAAa,EACb,MAGP;QAJO,UAAK,GAAL,KAAK,CAAQ;QACb,WAAM,GAAN,MAAM,CAGb;IACA,CAAC;IACJ,IAAI,CAAC,CAAS;QACZ,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACzC,CAAC;IACD,MAAM,CAAC,CAAS,EAAE,CAAS;QACzB,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC9C,CAAC;IACD,GAAG;QACD,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;CACF;AAjBD,8BAiBC","names":[],"sources":["/Users/brianlong/Developer/summit/server/src/products/Signer.ts"],"sourcesContent":["export interface Signer {\n  sign(payload: Buffer): Promise<Buffer>;\n  verify(payload: Buffer, sig: Buffer): Promise<boolean>;\n  kid(): string;\n}\n\nexport class KmsSigner implements Signer {\n  constructor(\n    private keyId: string,\n    private client: {\n      sign: (id: string, data: Buffer) => Promise<Buffer>;\n      verify: (id: string, data: Buffer, sig: Buffer) => Promise<boolean>;\n    }\n  ) {}\n  sign(p: Buffer) {\n    return this.client.sign(this.keyId, p);\n  }\n  verify(p: Buffer, s: Buffer) {\n    return this.client.verify(this.keyId, p, s);\n  }\n  kid() {\n    return this.keyId;\n  }\n}\n"],"version":3}