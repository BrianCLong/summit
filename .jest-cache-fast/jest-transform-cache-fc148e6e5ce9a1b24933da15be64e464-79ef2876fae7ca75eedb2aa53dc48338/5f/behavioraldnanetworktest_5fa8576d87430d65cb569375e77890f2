d0c118af3283a65ac9723730288a73aa
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const behavioralDnaNetwork_1 = require("../src/ai/behavioralDnaNetwork");
describe("BehavioralDnaNetwork", () => {
    test("updates embeddings and detects anomalies", () => {
        const network = new behavioralDnaNetwork_1.BehavioralDnaNetwork();
        network.ingest({ entityId: "u1", vector: [1, 0] });
        network.ingest({ entityId: "u1", vector: [1, 0] });
        const result = network.ingest({ entityId: "u1", vector: [0, 1] });
        expect(result.isAnomaly).toBe(true);
        const embedding = network.getEmbedding("u1");
        expect(embedding).toBeDefined();
    });
    test("predicts next behavior based on trend", () => {
        const network = new behavioralDnaNetwork_1.BehavioralDnaNetwork();
        network.ingest({ entityId: "u2", vector: [1, 0] });
        network.ingest({ entityId: "u2", vector: [0, 1] });
        const prediction = network.predictNext("u2");
        expect(prediction).toEqual([-1, 2]);
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2JyaWFubG9uZy9EZXZlbG9wZXIvc3VtbWl0L3NlcnZlci90ZXN0cy9iZWhhdmlvcmFsLWRuYS1uZXR3b3JrLnRlc3QudHMiLCJtYXBwaW5ncyI6Ijs7QUFBQSx5RUFBc0U7QUFFdEUsUUFBUSxDQUFDLHNCQUFzQixFQUFFLEdBQUcsRUFBRTtJQUNwQyxJQUFJLENBQUMsMENBQTBDLEVBQUUsR0FBRyxFQUFFO1FBQ3BELE1BQU0sT0FBTyxHQUFHLElBQUksMkNBQW9CLEVBQUUsQ0FBQztRQUMzQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25ELE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbkQsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUVsRSxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwQyxNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzdDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNsQyxDQUFDLENBQUMsQ0FBQztJQUVILElBQUksQ0FBQyx1Q0FBdUMsRUFBRSxHQUFHLEVBQUU7UUFDakQsTUFBTSxPQUFPLEdBQUcsSUFBSSwyQ0FBb0IsRUFBRSxDQUFDO1FBQzNDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbkQsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNuRCxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRTdDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2JyaWFubG9uZy9EZXZlbG9wZXIvc3VtbWl0L3NlcnZlci90ZXN0cy9iZWhhdmlvcmFsLWRuYS1uZXR3b3JrLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmVoYXZpb3JhbERuYU5ldHdvcmsgfSBmcm9tIFwiLi4vc3JjL2FpL2JlaGF2aW9yYWxEbmFOZXR3b3JrXCI7XG5cbmRlc2NyaWJlKFwiQmVoYXZpb3JhbERuYU5ldHdvcmtcIiwgKCkgPT4ge1xuICB0ZXN0KFwidXBkYXRlcyBlbWJlZGRpbmdzIGFuZCBkZXRlY3RzIGFub21hbGllc1wiLCAoKSA9PiB7XG4gICAgY29uc3QgbmV0d29yayA9IG5ldyBCZWhhdmlvcmFsRG5hTmV0d29yaygpO1xuICAgIG5ldHdvcmsuaW5nZXN0KHsgZW50aXR5SWQ6IFwidTFcIiwgdmVjdG9yOiBbMSwgMF0gfSk7XG4gICAgbmV0d29yay5pbmdlc3QoeyBlbnRpdHlJZDogXCJ1MVwiLCB2ZWN0b3I6IFsxLCAwXSB9KTtcbiAgICBjb25zdCByZXN1bHQgPSBuZXR3b3JrLmluZ2VzdCh7IGVudGl0eUlkOiBcInUxXCIsIHZlY3RvcjogWzAsIDFdIH0pO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5pc0Fub21hbHkpLnRvQmUodHJ1ZSk7XG4gICAgY29uc3QgZW1iZWRkaW5nID0gbmV0d29yay5nZXRFbWJlZGRpbmcoXCJ1MVwiKTtcbiAgICBleHBlY3QoZW1iZWRkaW5nKS50b0JlRGVmaW5lZCgpO1xuICB9KTtcblxuICB0ZXN0KFwicHJlZGljdHMgbmV4dCBiZWhhdmlvciBiYXNlZCBvbiB0cmVuZFwiLCAoKSA9PiB7XG4gICAgY29uc3QgbmV0d29yayA9IG5ldyBCZWhhdmlvcmFsRG5hTmV0d29yaygpO1xuICAgIG5ldHdvcmsuaW5nZXN0KHsgZW50aXR5SWQ6IFwidTJcIiwgdmVjdG9yOiBbMSwgMF0gfSk7XG4gICAgbmV0d29yay5pbmdlc3QoeyBlbnRpdHlJZDogXCJ1MlwiLCB2ZWN0b3I6IFswLCAxXSB9KTtcbiAgICBjb25zdCBwcmVkaWN0aW9uID0gbmV0d29yay5wcmVkaWN0TmV4dChcInUyXCIpO1xuXG4gICAgZXhwZWN0KHByZWRpY3Rpb24pLnRvRXF1YWwoWy0xLCAyXSk7XG4gIH0pO1xufSk7XG4iXSwidmVyc2lvbiI6M30=