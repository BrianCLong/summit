{"file":"/Users/brianlong/Developer/summit/server/tests/github-app-raw-body.spec.ts","mappings":";;;;;AAAA,0DAAgC;AAChC,sDAA8B;AAC9B,0EAAuD;AAEvD,QAAQ,CAAC,2BAA2B,EAAE,GAAG,EAAE;IACzC,MAAM,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;IACtB,GAAG,CAAC,GAAG,CAAC,sBAAsB,EAAE,oBAAsB,CAAC,CAAC;IAExD,MAAM,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC;IACxD,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,qBAAqB,EAAE,KAAK,IAAI,EAAE;QACzD,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;QAC/D,MAAM,GAAG,GAAG,MAAM,IAAA,mBAAO,EAAC,GAAG,CAAC;aAC3B,IAAI,CAAC,6BAA6B,CAAC;aACnC,GAAG,CAAC,cAAc,EAAE,kBAAkB,CAAC;aACvC,IAAI,CAAC,IAAI,CAAC,CAAC;QACd,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACrD,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["/Users/brianlong/Developer/summit/server/tests/github-app-raw-body.spec.ts"],"sourcesContent":["import request from 'supertest';\nimport express from 'express';\nimport githubAppRouter from '../src/routes/github-app';\n\ndescribe('GitHub App raw-body route', () => {\n  const app = express();\n  app.use('/webhooks/github-app', githubAppRouter as any);\n\n  const enabled = !!process.env.GITHUB_APP_WEBHOOK_SECRET;\n  (enabled ? it : it.skip)('accepts raw payload', async () => {\n    const body = Buffer.from(JSON.stringify({ ok: true }), 'utf8');\n    const res = await request(app)\n      .post('/webhooks/github-app/events')\n      .set('Content-Type', 'application/json')\n      .send(body);\n    expect([200, 400, 401, 503]).toContain(res.status);\n  });\n});\n\n"],"version":3}