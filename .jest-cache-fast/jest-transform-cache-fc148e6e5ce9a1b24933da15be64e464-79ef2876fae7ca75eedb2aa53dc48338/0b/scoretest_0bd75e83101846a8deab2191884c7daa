ab2360ff2cf4a7a09af76a6ae8825b9c
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const score_1 = require("../../src/services/score");
describe('computeScore', () => {
    it('should compute the weighted mean correctly', () => {
        const values = [{ v: 10, w: 1 }, { v: 20, w: 2 }, { v: 30, w: 1 }];
        expect((0, score_1.computeScore)(values)).toBe(20);
    });
    it('should handle cases with no weight (default to 1)', () => {
        const values = [{ v: 10 }, { v: 20 }];
        expect((0, score_1.computeScore)(values)).toBe(15);
    });
    it('should return 0 if no values are provided', () => {
        const values = [];
        expect((0, score_1.computeScore)(values)).toBe(0);
    });
    it('should handle zero weights', () => {
        const values = [{ v: 10, w: 0 }, { v: 20, w: 0 }];
        expect((0, score_1.computeScore)(values)).toBe(0);
    });
    it('should handle mixed weights and no weights', () => {
        const values = [{ v: 10, w: 0.5 }, { v: 20 }, { v: 30, w: 1.5 }];
        // (10*0.5 + 20*1 + 30*1.5) / (0.5 + 1 + 1.5) = (5 + 20 + 45) / 3 = 70 / 3 = 23.3333...
        expect((0, score_1.computeScore)(values)).toBe(23.3333);
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2JyaWFubG9uZy9EZXZlbG9wZXIvc3VtbWl0L3NlcnZlci90ZXN0cy9zZXJ2aWNlcy9zY29yZS50ZXN0LnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsb0RBQXdEO0FBRXhELFFBQVEsQ0FBQyxjQUFjLEVBQUUsR0FBRyxFQUFFO0lBQzVCLEVBQUUsQ0FBQyw0Q0FBNEMsRUFBRSxHQUFHLEVBQUU7UUFDcEQsTUFBTSxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25FLE1BQU0sQ0FBQyxJQUFBLG9CQUFZLEVBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDeEMsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsbURBQW1ELEVBQUUsR0FBRyxFQUFFO1FBQzNELE1BQU0sTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUN0QyxNQUFNLENBQUMsSUFBQSxvQkFBWSxFQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3hDLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLDJDQUEyQyxFQUFFLEdBQUcsRUFBRTtRQUNuRCxNQUFNLE1BQU0sR0FBcUMsRUFBRSxDQUFDO1FBQ3BELE1BQU0sQ0FBQyxJQUFBLG9CQUFZLEVBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkMsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsNEJBQTRCLEVBQUUsR0FBRyxFQUFFO1FBQ3BDLE1BQU0sTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbEQsTUFBTSxDQUFDLElBQUEsb0JBQVksRUFBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QyxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyw0Q0FBNEMsRUFBRSxHQUFHLEVBQUU7UUFDcEQsTUFBTSxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUNqRSx1RkFBdUY7UUFDdkYsTUFBTSxDQUFDLElBQUEsb0JBQVksRUFBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUM3QyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9icmlhbmxvbmcvRGV2ZWxvcGVyL3N1bW1pdC9zZXJ2ZXIvdGVzdHMvc2VydmljZXMvc2NvcmUudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wdXRlU2NvcmUgfSBmcm9tICcuLi8uLi9zcmMvc2VydmljZXMvc2NvcmUnO1xuXG5kZXNjcmliZSgnY29tcHV0ZVNjb3JlJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIGNvbXB1dGUgdGhlIHdlaWdodGVkIG1lYW4gY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlcyA9IFt7IHY6IDEwLCB3OiAxIH0sIHsgdjogMjAsIHc6IDIgfSwgeyB2OiAzMCwgdzogMSB9XTtcbiAgICBleHBlY3QoY29tcHV0ZVNjb3JlKHZhbHVlcykpLnRvQmUoMjApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBjYXNlcyB3aXRoIG5vIHdlaWdodCAoZGVmYXVsdCB0byAxKScsICgpID0+IHtcbiAgICBjb25zdCB2YWx1ZXMgPSBbeyB2OiAxMCB9LCB7IHY6IDIwIH1dO1xuICAgIGV4cGVjdChjb21wdXRlU2NvcmUodmFsdWVzKSkudG9CZSgxNSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmV0dXJuIDAgaWYgbm8gdmFsdWVzIGFyZSBwcm92aWRlZCcsICgpID0+IHtcbiAgICBjb25zdCB2YWx1ZXM6IEFycmF5PHsgdjogbnVtYmVyOyB3PzogbnVtYmVyIH0+ID0gW107XG4gICAgZXhwZWN0KGNvbXB1dGVTY29yZSh2YWx1ZXMpKS50b0JlKDApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhbmRsZSB6ZXJvIHdlaWdodHMnLCAoKSA9PiB7XG4gICAgY29uc3QgdmFsdWVzID0gW3sgdjogMTAsIHc6IDAgfSwgeyB2OiAyMCwgdzogMCB9XTtcbiAgICBleHBlY3QoY29tcHV0ZVNjb3JlKHZhbHVlcykpLnRvQmUoMCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgaGFuZGxlIG1peGVkIHdlaWdodHMgYW5kIG5vIHdlaWdodHMnLCAoKSA9PiB7XG4gICAgY29uc3QgdmFsdWVzID0gW3sgdjogMTAsIHc6IDAuNSB9LCB7IHY6IDIwIH0sIHsgdjogMzAsIHc6IDEuNSB9XTtcbiAgICAvLyAoMTAqMC41ICsgMjAqMSArIDMwKjEuNSkgLyAoMC41ICsgMSArIDEuNSkgPSAoNSArIDIwICsgNDUpIC8gMyA9IDcwIC8gMyA9IDIzLjMzMzMuLi5cbiAgICBleHBlY3QoY29tcHV0ZVNjb3JlKHZhbHVlcykpLnRvQmUoMjMuMzMzMyk7XG4gIH0pO1xufSk7XG4iXSwidmVyc2lvbiI6M30=