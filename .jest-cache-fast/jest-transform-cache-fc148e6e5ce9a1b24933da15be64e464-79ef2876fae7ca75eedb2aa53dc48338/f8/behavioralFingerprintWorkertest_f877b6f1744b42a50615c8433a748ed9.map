{"file":"/Users/brianlong/Developer/summit/server/src/tests/behavioralFingerprintWorker.test.ts","mappings":";;AAAA,wFAAqF;AAErF,QAAQ,CAAC,4BAA4B,EAAE,GAAG,EAAE;IAC1C,EAAE,CAAC,gDAAgD,EAAE,KAAK,IAAI,EAAE;QAC9D,MAAM,IAAI,GAAG;YACX;gBACE,EAAE,EAAE,OAAO;gBACX,SAAS,EAAE,GAAG;gBACd,SAAS,EAAE;oBACT,EAAE,MAAM,EAAE,EAAE,EAAE,UAAU,EAAE,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE;oBAC5C,EAAE,MAAM,EAAE,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,EAAE;iBAC3C;aACF;YACD;gBACE,EAAE,EAAE,KAAK;gBACT,SAAS,EAAE,GAAG;gBACd,SAAS,EAAE;oBACT,EAAE,MAAM,EAAE,EAAE,EAAE,UAAU,EAAE,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE;oBAC5C,EAAE,MAAM,EAAE,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,EAAE;iBAC3C;aACF;YACD;gBACE,EAAE,EAAE,SAAS;gBACb,SAAS,EAAE,GAAG;gBACd,SAAS,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC;aAC1D;SACF,CAAC;QACF,MAAM,MAAM,GAAG,MAAM,IAAA,yDAA2B,EAAC,IAAI,CAAC,CAAC;QACvD,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC3C,MAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;QACtD,MAAM,gBAAgB,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;QACnE,MAAM,CAAC,gBAAgB,CAAC,CAAC,WAAW,EAAE,CAAC;QACvC,MAAM,CAAC,gBAAgB,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["/Users/brianlong/Developer/summit/server/src/tests/behavioralFingerprintWorker.test.ts"],"sourcesContent":["import { runBehavioralFingerprintJob } from \"../workers/behavioralFingerprintWorker\";\n\ndescribe(\"behavioral fingerprint job\", () => {\n  it(\"scores and clusters identities across projects\", async () => {\n    const data = [\n      {\n        id: \"alice\",\n        projectId: \"A\",\n        telemetry: [\n          { clicks: 10, timeInView: 120, editRate: 2 },\n          { clicks: 5, timeInView: 60, editRate: 1 },\n        ],\n      },\n      {\n        id: \"bob\",\n        projectId: \"B\",\n        telemetry: [\n          { clicks: 11, timeInView: 118, editRate: 2 },\n          { clicks: 4, timeInView: 70, editRate: 1 },\n        ],\n      },\n      {\n        id: \"charlie\",\n        projectId: \"C\",\n        telemetry: [{ clicks: 1, timeInView: 10, editRate: 0.5 }],\n      },\n    ];\n    const result = await runBehavioralFingerprintJob(data);\n    expect(result.fingerprints.length).toBe(3);\n    const clusters = Array.from(result.clusters.values());\n    const clusterWithAlice = clusters.find((c) => c.includes(\"alice\"));\n    expect(clusterWithAlice).toBeDefined();\n    expect(clusterWithAlice).toContain(\"bob\");\n  });\n});\n"],"version":3}