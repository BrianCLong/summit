{"file":"/Users/brianlong/Developer/summit/server/tests/suggestions.test.ts","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yEAAyE;AACzE,wDAA0C;AAE1C,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC,kBAAkB,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;IAC7D,kDAAkD;IAClD,OAAO;QACL;YACE,CAAC,EAAE;gBACD,EAAE,EAAE,GAAG;gBACP,IAAI,EAAE,QAAQ;gBACd,KAAK,EAAE,mBAAmB;gBAC1B,UAAU,EAAE,GAAG;gBACf,MAAM,EAAE,SAAS;gBACjB,SAAS,EAAE,sBAAsB;aAClC;SACF;KACF,CAAC;AACJ,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,mBAAmB,EAAE,KAAK,IAAI,EAAE;IACjC,MAAM,IAAA,0CAAqB,EACzB,KAAK,EAAE,IAAI,EAAE,EAAE;QACb,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,EAAE,KAAK,EAAE,8BAA8B,EAAE,CAAC,CAAC;QAClE,MAAM,IAAI,GAAI,GAAG,CAAC,IAAY,EAAE,YAAY,EAAE,IAAI,CAAC;QACnD,MAAM,CAAC,IAAI,EAAE,WAAW,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IACzD,CAAC,EACD,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,CAAC,aAAa,CAAC,EAAE,EAAE,CACtC,CAAC;AACJ,CAAC,CAAC,CAAC","names":[],"sources":["/Users/brianlong/Developer/summit/server/tests/suggestions.test.ts"],"sourcesContent":["import { withLegacyGraphServer } from './__helpers__/legacyGraphTestkit';\nimport * as neo from '../src/graph/neo4j';\n\njest.spyOn(neo, 'runCypher').mockImplementation(async (c, p) => {\n  // naive in-memory stub; assert queries are called\n  return [\n    {\n      s: {\n        id: '1',\n        type: 'entity',\n        label: 'PersonOrOrg:Alice',\n        confidence: 0.9,\n        status: 'pending',\n        createdAt: '2025-01-01T00:00:00Z',\n      },\n    },\n  ];\n});\n\nit('lists suggestions', async () => {\n  await withLegacyGraphServer(\n    async (exec) => {\n      const res = await exec({ query: '{ suggestions { id label } }' });\n      const data = (res.body as any)?.singleResult?.data;\n      expect(data?.suggestions?.[0]?.label).toMatch(/Alice/);\n    },\n    { user: { scopes: ['graph:write'] } },\n  );\n});\n"],"version":3}