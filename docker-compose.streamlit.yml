version: '3.9'
services:
  neo4j:
    image: neo4j:5.15
    environment:
      - NEO4J_AUTH=neo4j/testpassword
    ports:
      - "7474:7474"
      - "7687:7687"
  streamlit:
    image: python:3.11-slim
    working_dir: /work
    volumes:
      - ./python:/work
    command: bash -lc "pip install -e .[dev] && streamlit run apps/streamlit_app/app.py --server.port 8501 --server.address 0.0.0.0"
    depends_on:
      - neo4j
    ports:
      - "8501:8501"
  nlp-debug:
    image: python:3.11-slim
    working_dir: /work
    volumes:
      - ./python:/work
    command: bash -lc "pip install -e .[dev] && streamlit run apps/nlp_debug_app/app.py --server.port 8502 --server.address 0.0.0.0"
    ports:
      - "8502:8502"
