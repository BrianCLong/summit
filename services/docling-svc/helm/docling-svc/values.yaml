replicaCount: 2
image:
  repository: ghcr.io/intelgraph/docling-svc
  tag: v1.0.0
  pullPolicy: IfNotPresent
service:
  type: ClusterIP
  port: 7100
  metricsPort: 9109
  annotations: {}
rollout:
  enabled: true
  activeService: docling-svc
  previewService: docling-svc-preview
  maxUnavailable: 0
  maxSurge: 1
resources:
  requests:
    cpu: 250m
    memory: 512Mi
  limits:
    cpu: 1
    memory: 1Gi
env:
  GRANITE_DOCLING_MODEL_ID: granite-docling-258m
  GRANITE_DOCLING_MAX_TOKENS: '2048'
  GRANITE_DOCLING_PRICE_PER_1K_CHARS: '0.04'
  CACHE_TTL_SECONDS: '900'
  MAX_CACHE_ENTRIES: '1000'
  PURPOSE_POLICY: docling/purpose_enforcement
  RETENTION_POLICY: docling/retention_enforcement
  LICENSE_POLICY: docling/license_enforcement
  OTEL_SERVICE_NAME: docling-svc
  OTEL_EXPORTER_OTLP_ENDPOINT: http://otel-collector:4318
mtls:
  enabled: true
  secretName: docling-svc-mtls
  certKey: tls.crt
  keyKey: tls.key
  caKey: ca.crt
hpa:
  enabled: true
  minReplicas: 2
  maxReplicas: 6
  targetCPUUtilizationPercentage: 65
  targetMemoryUtilizationPercentage: 70
ingress:
  enabled: false
  className: nginx
  hosts: []
  tls: []
serviceAccount:
  create: true
  name: ''
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::123456789012:role/docling-svc
podAnnotations:
  prometheus.io/scrape: 'true'
  prometheus.io/port: '9109'
  sidecar.istio.io/inject: 'true'
nodeSelector: {}
tolerations: []
affinity: {}
alerts:
  errorBudgetBurn:
    enabled: true
    target: 0.99
    window: 7d
  cost:
    enabled: true
    monthlyBudgetUsd: 2500
    alertThresholdPercent: 80
