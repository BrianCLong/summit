{
  "title": "Service Latency (p95)",
  "type": "timeseries",
  "datasource": "Prometheus",
  "targets": [
    {
      "expr": "histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket[5m])) by (le))",
      "legendFormat": "p95 latency"
    }
  ],
  "thresholds": [
    { "color": "red", "value": 0.4 },
    { "color": "orange", "value": 0.3 },
    { "color": "green", "value": 0.2 }
  ],
  "alert": {
    "name": "High Latency Alert",
    "conditions": [
      {
        "evaluator": { "params": [0.4], "type": "gt" },
        "operator": { "type": "and" },
        "reducer": { "type": "avg" },
        "type": "query"
      }
    ],
    "frequency": "1m"
  }
}
