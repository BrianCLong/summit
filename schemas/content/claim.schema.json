{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://summit.local/schemas/content/claim.schema.json",
  "title": "Claim",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "id",
    "text",
    "topic",
    "confidence",
    "created_by",
    "created_at",
    "last_reviewed_at",
    "tags",
    "evidence",
    "policy_tags",
    "work_items"
  ],
  "properties": {
    "id": {
      "$ref": "content-common.schema.json#/$defs/id"
    },
    "text": {
      "$ref": "content-common.schema.json#/$defs/nonEmptyString"
    },
    "topic": {
      "$ref": "content-common.schema.json#/$defs/nonEmptyString"
    },
    "confidence": {
      "type": "number",
      "minimum": 0,
      "maximum": 1
    },
    "created_by": {
      "$ref": "content-common.schema.json#/$defs/nonEmptyString"
    },
    "created_at": {
      "$ref": "content-common.schema.json#/$defs/isoDateTime"
    },
    "last_reviewed_at": {
      "$ref": "content-common.schema.json#/$defs/isoDateTime"
    },
    "tags": {
      "type": "array",
      "items": {
        "$ref": "content-common.schema.json#/$defs/nonEmptyString"
      },
      "uniqueItems": true
    },
    "evidence": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "content-common.schema.json#/$defs/evidenceRef"
      }
    },
    "policy_tags": {
      "type": "array",
      "items": {
        "$ref": "content-common.schema.json#/$defs/policyTag"
      },
      "uniqueItems": true
    },
    "security_level": {
      "$ref": "content-common.schema.json#/$defs/securityLevel"
    },
    "work_items": {
      "type": "array",
      "items": {
        "$ref": "content-common.schema.json#/$defs/workItemRef"
      }
    }
  }
}
