default_branch: main

freeze:
  enabled: true
  timezone: America/Denver
  windows:
    - name: "Weekend freeze"
      rrule: "FREQ=WEEKLY;BYDAY=SA,SU"
      active: true

    - name: "New Year freeze"
      start: "2025-12-31T00:00:00"
      end:   "2026-01-02T23:59:59"
      active: true

override:
  allowed: true
  require_reason: true
  reason_min_len: 20

channels:
  rc:
    allowed_from:
      - default-branch
    require_evidence: false
  ga:
    allowed_from:
      - default-branch
      - series-branch
    require_evidence: false
  patch:
    # patch is really ga on series branch; included for clarity
    allowed_from:
      - series-branch
    require_evidence: false

dependency_change_gate:
  enabled: true
  scope: release-intent
  thresholds:
    major_bumps: 1        # if >= this, approval required
    added_deps: 3         # if >= this, approval required
    removed_deps: 3       # if >= this, approval required
    total_events: 5       # optional aggregate trigger
  approval_signal:
    label: deps-approved  # exact string
  allowlist:
    - "@types/*"
    - "eslint*"
    - "prettier*"
  notes: "Gate is visibility-only; approval required only on release-intent PRs."
