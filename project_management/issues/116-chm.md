# 116: Classification & Handling Markings (CHM)

Track: Feature Flags
Branch: feat/chm
Labels: feature-flag, area:policy, area:ui, ci:e2e

## Summary
Provide end-to-end data classification (PUBLIC/CONFIDENTIAL/NOFORN, etc.) with visual banners, field-level tags, and handling rules that propagate to LAC/export under CHM_ENABLED.

## Deliverables
- Node/TS + Postgres service at `/platform/chm` for taxonomy, rule engine (view/handle/export), and downgrade workflows with dual control.
- UI elements: colored banners/ribbons, document stamps, export disclaimers; jQuery toggles for derived-from markings.
- Events: `chm.tag.applied`, `chm.tag.downgraded`, `chm.tag.violated`; enforcement of residency and license checks on export.

## Constraints
- Tags immutable by default; dual-control approval for downgrades.
- Feature flag gating via `CHM_ENABLED`.

## DoD / CI Gates
- Policy conformance tests; audit receipts for tag changes and exports.
- Playwright E2E: apply → attempt export (blocked) → downgrade (approved) → export.
- Contract/unit tests for taxonomy, rule evaluation, events, and Postgres migrations.

## Open Questions (Tuning)
- Initial classification set and color scheme?
- Downgrade approver quorum?

## Parallelization Notes
- Policy metadata + UI banners; hooks LAC/export without schema conflicts.
