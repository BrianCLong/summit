# Incident Signal Map

This document maps critical system signals to their automated and manual responses. It is the authoritative source for the an Incident Automation Sprint.

| Signal                      | Source of Truth                                                  | Automated Action                                  | Human Escalation                     | Evidence Artifacts Captured                     |
| --------------------------- | ---------------------------------------------------------------- | ------------------------------------------------- | ------------------------------------ | ----------------------------------------------- |
| **SLA/SLO Breaches**        |                                                                  |                                                   |                                      |                                                 |
| Availability SLO Breach     | `observability/slo/companyos-api.slo.yaml`                       | Block deployments, Throttle incoming traffic      | Page SRE team                        | Grafana SLO dashboard, Prometheus metrics       |
| Latency SLO Breach          | `observability/slo/companyos-api.slo.yaml`                       | Block deployments, Shed non-critical load         | Page SRE team                        | Grafana SLO dashboard, traces, logs             |
| **Error Budget Burn**       |                                                                  |                                                   |                                      |                                                 |
| High Application Error Rate | `observability/alert-rules-intelgraph.yml`                       | Progressive traffic shifting away from canary     | Page owning team                     | Logs, traces, metrics for failing component     |
| High GraphQL Error Rate     | `observability/alert-rules-intelgraph.yml`                       | Isolate faulty resolver, disable specific queries | Page owning team                     | GraphQL-specific error logs, traces             |
| **Policy Denials Spikes**   |                                                                  |                                                   |                                      |                                                 |
| Authz Denial Spike          | Emitted from OPA sidecar or service instrumented with OPA client | Auto-pause offending tenant/workload              | Page Security & Compliance team      | OPA decision logs, request context              |
| **Budget Exhaustion**       |                                                                  |                                                   |                                      |                                                 |
| Tenant Budget Exhaustion    | Tenant service, billing system metrics                           | Throttle tenant API access, notify tenant         | Alert Account Management             | Tenant usage metrics, billing events            |
| **Kill-Switch Activations** |                                                                  |                                                   |                                      |                                                 |
| Feature Flag Kill Switch    | Feature flag service audit log                                   | N/A (Manual action is the signal)                 | High-severity alert to all engineers | Audit log of the flag change, deployment events |
| **Other Critical Signals**  |                                                                  |                                                   |                                      |                                                 |
| High Memory Usage           | `observability/alert-rules-intelgraph.yml`                       | Cordon and drain node, restart service            | Page SRE team                        | Heap dump, metrics, logs                        |
| Slow Database Queries       | `observability/alert-rules-intelgraph.yml`                       | Enable read-replicas, shed load                   | Page Database team                   | Slow query logs, DB metrics, explain plans      |
| Zero User Signups           | `observability/alert-rules-intelgraph.yml`                       | N/A                                               | Alert Growth team                    | Business metrics dashboard, marketing logs      |
| Low Revenue                 | `observability/alert-rules-intelgraph.yml`                       | N/A                                               | Alert Finance and Growth teams       | Revenue dashboard, payment provider logs        |
