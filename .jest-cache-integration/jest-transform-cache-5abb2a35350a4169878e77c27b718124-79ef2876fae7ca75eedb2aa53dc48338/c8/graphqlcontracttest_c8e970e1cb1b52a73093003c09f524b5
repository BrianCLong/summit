ab782f798b2a864c7e3ee1f36ba96e7e
const { createGraphQLClient } = require('./utils/graphqlClient');
const { createGraphQLTestApp } = require('./utils/graphqlTestServer');
describe('graphql contract', () => {
    let app;
    beforeAll(() => {
        app = createGraphQLTestApp();
    });
    it('schema introspection exposes expected fields', async () => {
        const client = await createGraphQLClient(app);
        const res = await client.query({
            query: '{ __schema { types { name } } }'
        });
        expect(res.status).toBe(200);
        const names = (res.body.data.__schema.types).map(t => t.name);
        expect(names).toEqual(expect.arrayContaining(['Query']));
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2JyaWFubG9uZy9EZXZlbG9wZXIvc3VtbWl0L3Rlc3RzL2ludGVncmF0aW9uL2dyYXBocWwuY29udHJhY3QudGVzdC50cyIsIm1hcHBpbmdzIjoiQUFBQSxNQUFNLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQztBQUNqRSxNQUFNLEVBQUUsb0JBQW9CLEVBQUUsR0FBRyxPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FBQztBQUV0RSxRQUFRLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO0lBQ2hDLElBQUksR0FBRyxDQUFDO0lBRVIsU0FBUyxDQUFDLEdBQUcsRUFBRTtRQUNiLEdBQUcsR0FBRyxvQkFBb0IsRUFBRSxDQUFDO0lBQy9CLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLDhDQUE4QyxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQzVELE1BQU0sTUFBTSxHQUFHLE1BQU0sbUJBQW1CLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDOUMsTUFBTSxHQUFHLEdBQUcsTUFBTSxNQUFNLENBQUMsS0FBSyxDQUFDO1lBQzdCLEtBQUssRUFBRSxpQ0FBaUM7U0FDekMsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDN0IsTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlELE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9icmlhbmxvbmcvRGV2ZWxvcGVyL3N1bW1pdC90ZXN0cy9pbnRlZ3JhdGlvbi9ncmFwaHFsLmNvbnRyYWN0LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBjcmVhdGVHcmFwaFFMQ2xpZW50IH0gPSByZXF1aXJlKCcuL3V0aWxzL2dyYXBocWxDbGllbnQnKTtcbmNvbnN0IHsgY3JlYXRlR3JhcGhRTFRlc3RBcHAgfSA9IHJlcXVpcmUoJy4vdXRpbHMvZ3JhcGhxbFRlc3RTZXJ2ZXInKTtcblxuZGVzY3JpYmUoJ2dyYXBocWwgY29udHJhY3QnLCAoKSA9PiB7XG4gIGxldCBhcHA7XG5cbiAgYmVmb3JlQWxsKCgpID0+IHtcbiAgICBhcHAgPSBjcmVhdGVHcmFwaFFMVGVzdEFwcCgpO1xuICB9KTtcblxuICBpdCgnc2NoZW1hIGludHJvc3BlY3Rpb24gZXhwb3NlcyBleHBlY3RlZCBmaWVsZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgY3JlYXRlR3JhcGhRTENsaWVudChhcHApO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNsaWVudC5xdWVyeSh7XG4gICAgICBxdWVyeTogJ3sgX19zY2hlbWEgeyB0eXBlcyB7IG5hbWUgfSB9IH0nXG4gICAgfSk7XG4gICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICBjb25zdCBuYW1lcyA9IChyZXMuYm9keS5kYXRhLl9fc2NoZW1hLnR5cGVzKS5tYXAodCA9PiB0Lm5hbWUpO1xuICAgIGV4cGVjdChuYW1lcykudG9FcXVhbChleHBlY3QuYXJyYXlDb250YWluaW5nKFsnUXVlcnknXSkpO1xuICB9KTtcbn0pOyJdLCJ2ZXJzaW9uIjozfQ==