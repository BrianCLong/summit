# CompanyOS Policy Bundle

This directory contains the OPA policies for CompanyOS.

## Structure

- `*.rego`: Core policies (access, authz, etc.)
- `abac/`: Attribute-based access control policies
- `bundle/`: Productized policy packs
- `tests/`: Automated tests
- `bin/`: Local OPA binary (downloaded by test script)
- `dist/`: Release artifacts (generated by release script)

## Release Process

We use semantic versioning for policy bundles.

### Steps to Release

1. Update `VERSION`.
2. Update `CHANGELOG.md`.
3. Run `./release.sh`.

The script will:

- Run all tests.
- Create a distribution bundle in `dist/`.
- Generate a manifest with compatibility notes.
- Sign the bundle (mock).

## Testing

Run `./test.sh` to execute all policies against the test suite.
