apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ../../base

# Secure-by-default configurations
# 1. Enforce TLS for all ingress
# 2. Drop capabilities for containers
# 3. Enforce read-only root filesystems where possible

patches:
  - path: security-context.yaml
    target:
      kind: Deployment
  - path: ingress-tls.yaml
    target:
      kind: Ingress

# Common security labels
commonLabels:
  security.summit.io/profile: baseline
