{
  "title": "IntelGraph â€” Cache & Traces",
  "uid": "intelgraph-cache-traces",
  "timezone": "browser",
  "schemaVersion": 39,
  "version": 1,
  "panels": [
    {
      "type": "stat",
      "title": "Cache Hit Rate (5m)",
      "id": 1,
      "gridPos": { "x": 0, "y": 0, "w": 12, "h": 6 },
      "options": { "reduceOptions": { "calcs": ["lastNotNull"] }, "colorMode": "value" },
      "targets": [
        { "expr": "sum(rate(cache_hits_total[5m])) / (sum(rate(cache_hits_total[5m])) + sum(rate(cache_misses_total[5m])))", "refId": "A" }
      ]
    },
    {
      "type": "stat",
      "title": "GraphQL Error Ratio (5m)",
      "id": 2,
      "gridPos": { "x": 12, "y": 0, "w": 12, "h": 6 },
      "options": { "reduceOptions": { "calcs": ["lastNotNull"] } },
      "targets": [
        { "expr": "sum(rate(apollo_request_errors_total[5m])) / sum(rate(apollo_request_total[5m]))", "refId": "A" }
      ]
    },
    {
      "type": "jaeger-trace",
      "title": "Recent Traces (Jaeger)",
      "id": 3,
      "gridPos": { "x": 0, "y": 6, "w": 24, "h": 12 },
      "options": { "traceToLogs": { "datasourceUid": null } },
      "datasource": { "type": "jaeger", "uid": "Jaeger" }
    }
  ]
}

