version: v1.1
description: Add Organization node type and EMPLOYS relationship
operations:
  - add_node_type:
      name: Organization
      properties:
        - name: id
          type: string
          mandatory: true
        - name: name
          type: string
          mandatory: true
      indexes:
        - id
  - add_relationship_type:
      name: EMPLOYS
      from: Organization
      to: Person
      properties:
        - name: role
          type: string
          mandatory: false
up:
  - "CREATE CONSTRAINT organization_id_unique IF NOT EXISTS FOR (o:Organization) REQUIRE o.id IS UNIQUE;"
down:
  - "DROP CONSTRAINT organization_id_unique IF EXISTS;"
