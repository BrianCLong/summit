route:
  receiver: default
  group_by: [alertname, expert, tenant_tier]
  group_wait: 30s
  group_interval: 5m
  repeat_interval: 4h
  routes:
    - matchers:
        - alertname =~ "SLOBurn_.*"
      receiver: pagerduty
      continue: true
    - matchers:
        - severity = "page"
      receiver: pagerduty
    - matchers:
        - severity = "warn"
      receiver: slack
receivers:
  - name: default
    slack_configs:
      - channel: "#conductor-ops"
        send_resolved: true
        title: "[{{ .Status | toUpper }}] {{ .CommonLabels.alertname }}"
        text: |
          {{ range .Alerts }}â€¢ {{ .Annotations.summary }} ({{ .Labels.expert }}/{{ .Labels.tenant_tier }})
          {{ end }}
  - name: pagerduty
    pagerduty_configs:
      - routing_key: "<PD_ROUTING_KEY>"
        severity: "error"
  - name: slack
    slack_configs:
      - channel: "#conductor-warnings"
        send_resolved: true
