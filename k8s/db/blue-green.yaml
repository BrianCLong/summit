apiVersion: snapshot.storage.k8s.io/v1
kind: VolumeSnapshot
metadata: { name: db-blue-snap, namespace: prod }
spec:
  source: { persistentVolumeClaimName: db-blue-pvc }
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata: { name: db-green-pvc, namespace: prod }
spec:
  dataSource:
    {
      name: db-blue-snap,
      kind: VolumeSnapshot,
      apiGroup: snapshot.storage.k8s.io,
    }
  storageClassName: gp3
  accessModes: [ReadWriteOnce]
  resources: { requests: { storage: 200Gi } }
